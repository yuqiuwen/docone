<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id> https://yuqiuwen.github.io/docone/blog</id>
    <title>DOCONE Blog</title>
    <updated>2022-12-14T12:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href=" https://yuqiuwen.github.io/docone/blog"/>
    <subtitle>DOCONE Blog</subtitle>
    <icon> https://yuqiuwen.github.io/docone/img/book-open.ico</icon>
    <entry>
        <title type="html"><![CDATA[Back-End Notes]]></title>
        <id>/2022/12/14/python-notes/python notes</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/12/14/python-notes/python notes"/>
        <updated>2022-12-14T12:00:00.000Z</updated>
        <summary type="html"><![CDATA[The Knowledge of back-end]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="anconda环境">Anconda环境<a class="hash-link" href="#anconda环境" title="Direct link to heading">​</a></h2><blockquote><p><strong>jupyter后台运行：</strong></p><p>nohup jupyter notebook --allow-root &gt; jupyter.log 2&gt;&amp;1 &amp;</p><p><strong>conda常用命令（windows环境）：</strong></p><ul><li>conda create -n ENV_NAME python=x.x  创建环境</li><li>conda activate ENV_NAME  切换环境</li><li>conda env remove -n ENV_NAME  删除环境</li><li>conda env list  查看所有环境</li><li>conda deactivate 退出当前环境</li><li>conda config --show  查看conda配置</li></ul><p><strong>主题设置</strong></p><p>字号12 cell屏幕宽占比90% -T显示工具栏</p><p>jt -t oceans16  -T -f fira -fs 12 -cellw 90%</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="基础">基础<a class="hash-link" href="#基础" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="深浅拷贝">深浅拷贝<a class="hash-link" href="#深浅拷贝" title="Direct link to heading">​</a></h3><ul><li>都会生成一个新对象，深拷贝的新对象地址和源对象不同</li><li>若为嵌套可变类型，浅拷贝只会拷贝最外层，里面为引用；深拷贝拷贝全新对象</li><li>若为嵌套不可变，深浅拷贝只会拷贝最外层，里面为引用</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="迭代器生成器">迭代器、生成器<a class="hash-link" href="#迭代器生成器" title="Direct link to heading">​</a></h3><p><code>迭代器和可迭代对象的区别？</code></p><p>​	迭代器实现了<strong>iter</strong> 和<strong>next</strong>方法，可迭代对象实现了<strong>iter</strong>方法。迭代器一定是可迭代对象</p><p>yield from + 可迭代对象，实现对可迭代对象的再一次yield</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="类与对象">类与对象<a class="hash-link" href="#类与对象" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">student</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 类变量，可在所有实例共享</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'qiuwen'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 实例变量，每个实例独有的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="继承多态">继承多态<a class="hash-link" href="#继承多态" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Student</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sex</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"name:{} age:{} sex:{}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sex</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">BoyStudent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Student</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># super：子类重写父类方法后还需调用父类方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'男学生方法'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">GirlStudent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Student</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sex</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grade</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sex</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grade </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> grade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'女学生方法'</span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grade</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Student</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'yuqiuwen'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'20'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'male'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BoyStudent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'yuqiuwen'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'20'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'male'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GirlStudent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'zhongxin'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'18'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'female'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'3'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>多态：一个类有不同的子类，不同的子类实例化后的对象调用相同的接口有有不同的行为</p></blockquote><p><strong>with实现</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyClass</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mode</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'r'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> filename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encoding </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__enter__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">file</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encoding</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__exit__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exc_type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exc_val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exc_tb</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> MyClass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'test.txt'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'w'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"test msg"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="魔法方法">魔法方法<a class="hash-link" href="#魔法方法" title="Direct link to heading">​</a></h4><p>cls是类本身，self是实例化后的对象</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">__new__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：构造方法，创建实例时首先调用的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：初始化方法，new方法返回对象后进行属性初始化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__del__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：析构方法，实例化对象被彻底销毁时调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__len__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：被</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">调用时的操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__bool__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：被</span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">调用时的行为</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__str__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：被</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">调用时的操作，将值转化为适于人阅读的形式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__repr__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：</span><span class="token builtin">repr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">调用时的操作，将值转化为供解释器读取的形式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__getattr__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：获取一个不存在的属性时的行为</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__setattr__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：当一个属性被设置时的行为</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__getattribute__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：当该类的属性被访问时首先调用的方法，可作为属性访问拦截器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__setitem__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：同</span><span class="token builtin">setattr</span><span class="token plain">方法类似，区别在于如果将对象当作字典操作，设置键值对时会触发该方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__call__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">：允许将类实例当做函数调用</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="内置属性">内置属性<a class="hash-link" href="#内置属性" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">__dict__：包含一个字典，由类的数据属性组成</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__doc__：类的文档字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__name__：类名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__module__：类定义所在的模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__bases__：类的所有父类构成元素</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="元类metaclass">元类（Metaclass）<a class="hash-link" href="#元类metaclass" title="Direct link to heading">​</a></h4><p><code>如何理解元类</code></p><blockquote><p><a href="https://www.cnblogs.com/XiaoYang-sir/archive/2022/07/27/16524775.html" target="_blank" rel="noopener noreferrer">Python 元类详解 - Mr-Yang` - 博客园 (cnblogs.com)</a></p><p><a href="https://www.cnblogs.com/ludongguoa/p/15350348.html" target="_blank" rel="noopener noreferrer">Python进阶灵魂拷问，元类是什么，它有什么用？ - ludongguoa - 博客园 (cnblogs.com)</a></p></blockquote><p>元类实例化 ——&gt;自定义class ——&gt;自定义类实例化 ——&gt;实例</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="抽象类">抽象类<a class="hash-link" href="#抽象类" title="Direct link to heading">​</a></h4><p><code>如何理解抽象类</code></p><p>如果类是基于现实对象抽象而来，那么抽象类就是基于类抽象而来</p><p><code>和普通类的区别</code></p><ul><li>抽象类不能被实例化，只能被继承</li><li>类中只能有抽象方法，没有具体功能实现</li><li>子类必须实现抽象方法</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> abc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">All_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">metaclass</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">abc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ABCMeta</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    all_type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'file'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@abc</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">abstractmethod</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#定义抽象方法，无需实现功能</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">'子类必须定义读功能'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@abc</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">abstractmethod</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#定义抽象方法，无需实现功能</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">'子类必须定义写功能'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Txt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">All_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#子类继承抽象类，但是必须定义read和write方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'文本数据的读取方法'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'文本数据的读取方法'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Sata</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">All_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#子类继承抽象类，但是必须定义read和write方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'硬盘数据的读取方法'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'硬盘数据的读取方法'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="垃圾回收机制">垃圾回收机制<a class="hash-link" href="#垃圾回收机制" title="Direct link to heading">​</a></h3><ol><li><p><code>引用计数</code></p><p>增加引用计数：对象被创建或者将其引用赋值，引用计数就被设置为1</p><ol><li>对象被创建</li><li>另外的别名被创建</li><li>被作为参数传递给函数</li><li>成为容器对象的第一个元素</li></ol><p>减少引用计数：当对象的引用被销毁时，引用计数就会减少</p><ol><li>本地引用离开了作用范围</li><li>对象的别名被显示销毁</li><li>对象的一个别名被赋值给其他对象</li><li>对象被从一个窗口对象中移除</li><li>窗口对象本身被销毁</li></ol></li><li><p><code>标记-清除</code></p><p>解决循环引用的问题。如a=1,b=2,执行a=b时将进行标记清除</p></li><li><p><code>分代回收</code></p><p>基于引用计数的回收机制，每次回收内存，都需要把所有对象的引用计数都遍历一遍，这是非常消耗时间的，于是引入了分代回收来提高回收效率，分代回收采用的是用“空间换时间”的策略。在历经多次扫描的情况下，都没有被回收的变量，gc机制就会认为，该变量是常用变量，gc对其扫描的频率会降低</p></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="socket">socket<a class="hash-link" href="#socket" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> socket </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""客户端"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'127.0.0.1'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SERVER_PORT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8006</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BUFLEN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSocket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SOCK_STREAM</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 连接服务端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">IP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SERVER_PORT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    toSend </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'&gt;&gt; '</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> toSend </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">toSend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recved </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUFLEN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> recved</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">recved</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> socket </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">服务端</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'127.0.0.1'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8006</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BUFLEN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 一次从socket缓冲区最多读入512个字节数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">实例化一个socket对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">AF_INET表示该socket网络层使用ip协议</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">SOCK_STREAM 表示socket传输层使用tcp协议</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listenSocket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SOCK_STREAM</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># socket绑定地址和端口</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listenSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">IP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PORT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使socket处于监听状态，等待客户端的连接请求</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 5表示最多接受5个等待连接的客户端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listenSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"服务端启动成功，在</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">PORT</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">端口等待客户端连接..."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSocket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> addr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> listenSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">accept</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"接收一个客户端连接："</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> addr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 读取对方发送的信息，最多读取BUFLEN字节</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recved </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUFLEN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 返回空字节，表示对方关闭了连接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> recved</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> recved</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"收到对方信息：</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">info</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"服务端接收到了信息：</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">info</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listenSocket</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="装饰器">装饰器<a class="hash-link" href="#装饰器" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="有参装饰">有参装饰<a class="hash-link" href="#有参装饰" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timeit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">inner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wrapper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            execute_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> execute_time </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> max_time</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function exceeds max_time"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function ran for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">execute_time</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> wrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> inner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@timeit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""相当于执行func = timeit(1)(func)，即先执行timeit(1)返回一个inner函数的引用，然后将func传给inner函数，返回wrapper保存到func对象"""</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="无参装饰">无参装饰<a class="hash-link" href="#无参装饰" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timeit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 这里使用*args和**kwargs使得函数可传递变长参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wrapper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        execute_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> execute_time </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function exceeds max_time"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function ran for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">execute_time</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> wrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@timeit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""相当于执行func = timeit(func)"""</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="类装饰器">类装饰器<a class="hash-link" href="#类装饰器" title="Direct link to heading">​</a></h4><p><strong>无参</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Timer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> func</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> func</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__call__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        execute_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> execute_time </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function exceeds max_time"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function ran for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">execute_time</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@Timer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""相当于执行func=Timer(func)"""</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>有参</strong></p><p>​    </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Timer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> max_time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__call__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> func</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wrapper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perf_counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            execute_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> execute_time </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function exceeds max_time"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f""""func" function ran for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">execute_time</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> wrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@Timer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""相当于执行func=Timer(max_time=2)(func)"""</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gil">GIL<a class="hash-link" href="#gil" title="Direct link to heading">​</a></h3><p>全局解释器锁，遇到IO操作时，强制释放GIL锁，使得任何时刻仅有一个线程在执行，可以解决多线程之间数据完整性和状态同步问题，简化对共享资源的管理</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="并发编程">并发编程<a class="hash-link" href="#并发编程" title="Direct link to heading">​</a></h3><blockquote><ul><li>进程是资源分配的单位，线程是操作系统调度的基本单元</li><li>进程的创建、销毁和切换较线程开销更大。因为系统运行时会为每个进程分配独立的内存空间，而线程不会分配，线程之间共享同一进程下的资源</li><li>一个进程中至少有一个线程</li><li>协程存在于某一个线程中，可以控制该线程中的几个函数交替执行（io阻塞时进行切换）</li></ul></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="多线程">多线程<a class="hash-link" href="#多线程" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="守护线程">守护线程<a class="hash-link" href="#守护线程" title="Direct link to heading">​</a></h5><blockquote><p>所谓“守护线程”就是在主线程结束的时候，不值得再保留的执行线程。这里的不值得保留指的是守护线程会在其他非守护线程全部运行结束之后被销毁，它守护的是当前进程内所有的非守护线程。简单的说，守护线程会跟随主线程一起挂掉，而主线程的生命周期就是一个进程的生命周期。如果不理解，我们可以看一段简单的代码。</p></blockquote><p>将名为<code>daemon</code>的参数设置为<code>True</code>，这两个线程就会变成守护线程，那么在其他线程结束时，即便有死循环，两个守护线程也会挂掉，不会再继续执行下去，代码如下所示。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> threading </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Thread</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">display</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> flush</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Thread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">display</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Ping'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> daemon</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Thread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">display</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Pong'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> daemon</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'__main__'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面的代码，我们在主线程中添加了一行<code>time.sleep(5)</code>让主线程休眠5秒，在这个过程中，输出<code>Ping</code>和<code>Pong</code>的守护线程会持续运转，直到主线程在5秒后结束，这两个守护线程也被销毁，不再继续运行。</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="锁">锁<a class="hash-link" href="#锁" title="Direct link to heading">​</a></h5><blockquote><p>RLock：重入锁，可以被同一个线程多次acquire，调用相同次数的release才可完全释放锁；在线程A中创建则只能在线程A中释放</p><p>Lock：同一线程中只能被acquire一次；可以在线程A中创建，线程B中释放</p></blockquote><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> concurrent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">futures </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ThreadPoolExecutor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> threading </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RLock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Account</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""银行账户"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RLock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">deposit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> money</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 通过上下文语法获得锁和释放锁</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new_balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">balance </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> money</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> new_balance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""主函数"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    account </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Account</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> ThreadPoolExecutor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_workers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pool</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">submit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">account</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deposit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">account</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">balance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'__main__'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>打印0与奇偶数：</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ZeroEvenOdd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_zero </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_even </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_odd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 初始锁住奇偶，保证先输出0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_even</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquire</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_odd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquire</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">zero</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_zero</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquire</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 上次输出偶数，则此次释放奇数锁，使下次输出奇数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_even</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_odd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 偶数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">even</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_even</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquire</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_zero</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 奇数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">odd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_odd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquire</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock_zero</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>死锁</div><div class="admonitionContent_S0QG"><p>线程A获取了1号锁，等待释放2号锁；线程B获取了2号锁，等待释放1号锁</p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="队列">队列<a class="hash-link" href="#队列" title="Direct link to heading">​</a></h5><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""启用两个线程实现交替打印foobar"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">FooBar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Queue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Queue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 初始foo队列放入一个元素保证首先输出foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 默认阻塞，队列为空时会一直阻塞</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"foo"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_bar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 默认会阻塞直至队列有空位</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_bar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"bar"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"__main__"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FooBar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'thread_foo'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'thread_bar'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="线程池">线程池<a class="hash-link" href="#线程池" title="Direct link to heading">​</a></h5><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> threading </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RLock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> concurrent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">futures </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ThreadPoolExecutor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> as_completed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">FooBar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Queue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Queue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 默认阻塞，队列为空时会一直</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"foo"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_bar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"print foo has completed"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 队列为空时会阻塞</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_bar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"bar"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">queue_foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"print bar has completed"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">print_threading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">input</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FooBar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    target </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    futures </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> ThreadPoolExecutor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_workers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pool</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        futures </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">submit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 获取返回结果，as_completed不用等待所有任务完成即可返回结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> f </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> as_completed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">futures</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">timeit库的用法</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    stmt:传入要测试的代码或函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    setip:运行时的变量、模块等，多行语句用;隔开</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    number:运行次数，默认100万次</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execute_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> timeit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stmt</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'print_threading()'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setup</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'from __main__ import print_threading'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> number</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">execute_time</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="协程">协程<a class="hash-link" href="#协程" title="Direct link to heading">​</a></h4><blockquote><p>单线程完成多任务，多个任务按照一定顺序交替执行</p></blockquote><p><code>python3.7之前的版本</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> asyncio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">task1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"task1开始"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 执行到await时任务被挂起，跳到下一个任务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"task1完成"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">**</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">task2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"task2开始"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"task2完成"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">**</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 协程对象，该对象不能直接运行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coroutine1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> task1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    coroutine2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> task2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gather</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">coroutine1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> coroutine2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># python3.7版本及之后实现协程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># python3.7之前</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># # 事件循环对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># loop = asyncio.get_event_loop()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># # 将协程对象注册到事件循环中，并执行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ret = loop.run_until_complete(coroutine1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># print(ret)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="如何选择">如何选择？<a class="hash-link" href="#如何选择" title="Direct link to heading">​</a></h4><ul><li>CPU Bound =&gt; Multi Processing</li><li>I/O Bound, Fast I/O, Limited Number of Connections =&gt; Multi Threading</li><li>I/O Bound, Slow I/O, Many connections =&gt; Asyncio</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用库">常用库<a class="hash-link" href="#常用库" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pathlib2">pathlib2<a class="hash-link" href="#pathlib2" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">path1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r"E:\Projects\PythonProjects\flask\test.py"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r"E:\Projects\PythonProjects\flask\test.py"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 当前目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getcwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 家目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">home</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 绝对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">abspath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"目标绝对路径"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">realpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"返回软链接的源地址"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isabs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_absolute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 相对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/etc/passwd"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/etc"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># passwd</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/etc/passwd"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">curdir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 文件名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 目录名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dirname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 判断文件是否存在</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 判断目录是否存在</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 判断路径是否存在</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 路径拼接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"path1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"path2"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 若path2也为绝对路径，则返回path2的路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'path3'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'file.py'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path2</span><span class="token operator" style="color:#393A34">/</span><span class="token string" style="color:#e3116c">'file.py'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 路径分割</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/a/b/c.py.go"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ('/a/b', 'c.py')</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">splitext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/a/b/c.py.go"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># ('/a/b/c.py', '.go')</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/a/b/c.py.go"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">suffix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># ['.go']</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/a/b/c.py.go"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">suffixes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ['.py', '.go']</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/a/b/c.py.go"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># c.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 路径比较</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commonpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'/usr/lib'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/usr/local/lib'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># '/usr'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commonprefix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'/usr/lib'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/usr/local/lib'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># '/usr/l'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 替换用户家目录,~会被替换为系统当前的用户名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expanduser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"~/test.py"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># /{user}/test.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"~/test.py"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expanduser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># /{user}/test.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 替换windows反斜杠</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_posix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 路径模式匹配，若pattern是绝对路径，path也必须为绝对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'/*.py'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"创建目录"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">makedirs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"支持多级创建"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># exist_ok=True 存在就不创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"path"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># parents=True 多级创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"在指定路径创建文件"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">touch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 删除，删除的目录必须是空目录，否则会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"只能是删除文件"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rmdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"删除目录"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">removedirs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"可以删除多级目录"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"删除目录"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rmdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"删除文件，若路径是目录，则删除目录"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unlink</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 重命名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"旧文件名"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"新文件名"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">renames</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"旧路径"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"新路径"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># rename的扩展，还可以重命名路径（目录名）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"旧路径"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"新路径"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># 只能重命名文件，无法重命名路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"c:/Downloads/pathlib.tar.gz"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">with_name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"setup.py"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># c:/Downloads/setup.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"c:/Downloads/pathlib.tar.gz"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">with_suffix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">".bz2"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># c:/Downloads/pathlib.tar.bz2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"返回文件信息"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> path2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 遍历目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> root</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dirs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> files </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">walk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"深度遍历"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> followlinks</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># root-目录路径，dirs-当前路径下的所有目录名，files当前目录下的所有文件名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> filename </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">yield</span><span class="token plain"> file_path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">path </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"只遍历一级的目录和文件"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">path </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"返回生成器, 只遍历一级目录和文件"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">iterdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">path </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"返回生成器, 只遍历一级目录和文件，可正则过滤"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">glob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'*.txt'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">path </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"返回生成器, 深度遍历，[!.]会排除以点开头的文件"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rglob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'[!.]*'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="设计模式">设计模式<a class="hash-link" href="#设计模式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="单例模式">单例模式<a class="hash-link" href="#单例模式" title="Direct link to heading">​</a></h3><p><code>装饰器形式</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> functools </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> wraps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> threading </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RLock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">singleton</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""线程安全的单例装饰器"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instances </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lock </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RLock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 使用wraps可保证不会修改被装饰函数的结构，如name等</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@wraps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wrapper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        判断是否已有实例,如无,则新建一个实例并返回;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        先做不带锁的判断，再做带锁的检查，因为如果对象已经创建就没必要加锁可直接返回；第二个if是因为多个线程抢占锁，若第一个线程创建了实例，那么下一个线程进入就需要再判断一次</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        instance = {&lt;class '__main__.Single'&gt;: &lt;__main__.Single object at 0x000001A96F26FE20&gt;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cls </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> instances</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> lock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> cls </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> instances</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    instances</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> instances</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> wrapper</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>单例类</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Singleton</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lock </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RLock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__new__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 返回空对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    cls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">instance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__new__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">instance</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="xpath">xpath<a class="hash-link" href="#xpath" title="Direct link to heading">​</a></h2><p><a href="https://blog.csdn.net/u013332124/article/details/80621638" target="_blank" rel="noopener noreferrer"> xPath 用法总结整理_疯狂哈丘的博客-CSDN博客_xpath语法</a></p><table><thead><tr><th>符号</th><th>含义</th></tr></thead><tbody><tr><td>/</td><td>从当前节点选取直接子节点</td></tr><tr><td>//</td><td>从当前节点选取子孙节点</td></tr><tr><td>.</td><td>选取当前节点</td></tr><tr><td>..</td><td>选取当前节点的父节点</td></tr><tr><td>@</td><td>选取属性</td></tr><tr><td>//*<!-- -->[contains(@class,'item')]</td><td>提取所有class包含名为item的</td></tr><tr><td>//*<!-- -->[starts-with(@class,'ul')]</td><td>提取所有class开头为ul的</td></tr></tbody></table><p>在获得目标节点同兄弟节点后</p><p>./following-sibling::兄弟标签名<!-- -->[1]<!-- -->　　下面一个兄弟节点</p><p>./following-sibling::*<!-- -->[N]<!-- -->　　　　下面N个性的节点</p><p>./preceding-sibling::兄弟标签名<!-- -->[1]<!-- -->　　　　上面一个兄弟节点</p><p>./following-sibling::*<!-- -->[N]<!-- --> 　　　上面N个性的节点</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="django">Django<a class="hash-link" href="#django" title="Direct link to heading">​</a></h2><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">创建项目  django</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">admin startproject keep_healthy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">创建app   python manage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py startapp diabetes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">后台启动  nohup python3 manage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">py runserver </span><span class="token number" style="color:#36acaa">0.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8082</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dev</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">null </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dev</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">null </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         nohup flask run </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">0.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">p </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dev</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">null </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>wsgi: 同步</p><p>asgi：wsgi+异步+websocket</p><p><strong>部署相关</strong></p><blockquote><p>runserver：开发调试时使用（单进程）</p><p>wsgi：Web服务器网关接口，用于web服务器与python应用程序交互</p><p>uwsgi：一种二进制线路协议，用于uWSGI服务器和其他网络服务器的通信</p><p>uWSGI：实现了uwsgi和WSGI两种协议的Web服务器（默认单进程单线程）</p><p>asgi: 基于wsgi接口规范之上的异步服务器网关接口规范</p></blockquote><p><strong>生成requirements.txt依赖</strong></p><p><code>pipreqs ./ --encoding=utf8</code></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scrapy爬虫">scrapy爬虫<a class="hash-link" href="#scrapy爬虫" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="项目创建">项目创建<a class="hash-link" href="#项目创建" title="Direct link to heading">​</a></h3><ol><li>创建项目scrapy startproject tutorial</li></ol><p><img loading="lazy" alt="image-20220407223701862" src="/docone/assets/images/image-20220407223701862-8bf718ad8d8a8721474cc9c2bd4181f5.png" width="1064" height="440" class="img_ev3q"></p><p><img loading="lazy" alt="image-20220407224813102" src="/docone/assets/images/image-20220407224813102-2da51f19d1d96183c0f52a4ee5cce455.png" width="1404" height="363" class="img_ev3q"></p><p><code>执行：</code>scrapy crawl WeiboSpider</p><p><img loading="lazy" src="/docone/assets/images/image-20220715094319194-ff2d99956392100805aaf7c0b4639d81.png" width="1383" height="911" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="中间件">中间件<a class="hash-link" href="#中间件" title="Direct link to heading">​</a></h3><p>开启中间件settings.py</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#SPIDER_MIDDLEWARES = {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#    'weibo_spider.middlewares.WeiboSpiderSpiderMiddleware': 543,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="item_pipeline">ITEM_PIPELINE<a class="hash-link" href="#item_pipeline" title="Direct link to heading">​</a></h3><p>作用：清理html数据、验证去重、存储到数据库</p><p><img loading="lazy" alt="image-20220408165840617" src="/docone/assets/images/image-20220408165840617-a560eba2b80f79c884ea93b33094b9e5.png" width="796" height="288" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="反爬">反爬<a class="hash-link" href="#反爬" title="Direct link to heading">​</a></h3><ol><li>User-Agent代理反爬（可通过fake-useragent库应对）</li><li>验证码（暴力破解、机器学习建模、selenium模拟）</li><li>数据加密（css偏移、字体加密、js跳转）</li><li>字体反爬</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="脚本开发">脚本开发<a class="hash-link" href="#脚本开发" title="Direct link to heading">​</a></h2><p>打包成可执行文件（推荐使用虚拟环境，连同模块一起打包，使得脚本能在任何机器上执行而不用再安装环境）：</p><p>pyinstaller -F 脚本文件路径</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="正则表达式">正则表达式<a class="hash-link" href="#正则表达式" title="Direct link to heading">​</a></h2><ol><li>只能输入汉字、英文、数字和下划线	^<!-- -->[\w\u4e00-\u9fa5]<!-- -->+$</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="匹配词中的字符">匹配词中的字符<a class="hash-link" href="#匹配词中的字符" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">s1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'bar ber bir bor bur'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'abecdfghijklmnopqrstuvwxyz'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"b[ieo]r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"b[^ieo]r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">"[e-o]"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regex</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ['ber', 'bir', 'bor']</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regex</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ['bar', 'bur']</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regex</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 匹配字符范围，数字同理</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="量词">量词<a class="hash-link" href="#量词" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">*</span><span class="token plain"> 不出现、出现一次或多次（贪婪匹配）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'br ber beer beeer'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"be*r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> 出现一次或多次</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"be+r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 可选字符</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">懒惰匹配</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"be?r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ['br', 'ber']</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 出现次数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"be{1}r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 出现一次</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"be{1,}r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 至少出现一次</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"be{1,3}r"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 出现1~3次</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="组">组<a class="hash-link" href="#组" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"ha-ha,haa-haa"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r"(ha)-\1,(haa)-\2"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># \1引用分组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r"(?:ha)-ha,(haa)-\1"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># (?:)非引用分组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> 或</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'cat Cat rat'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r"(C|c)at|rat"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> $行首 行尾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'1. 3 eggs, beaten3'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'^[0-9]'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'[0-9]$'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="字符">字符<a class="hash-link" href="#字符" title="Direct link to heading">​</a></h4><ul><li>\w  字母、数字、下划线</li><li>\w  除字母、数字和下划线之外的字符</li><li>\d  数字</li><li>\D 除数字之外的字符</li><li>\s 仅匹配空白字符</li><li>\S 匹配除空白符之外的字符</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="零宽断言">零宽断言<a class="hash-link" href="#零宽断言" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Date: 4 Aug 3PM'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">正向先行断言</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">?</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#只匹配后面有PM的数值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'\d+(?=PM)'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">负向先行断言</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">?!</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 数字右边不是PM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'\d+(?!PM)'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">正向后行断言</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">?</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 数字左边为$</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'Product Code: 1064 Price: $5'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"(?&lt;=\$)\d+"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">负向后行断言</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 数字左边不包含$</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"(?&lt;!\$)\d+"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="标志">标志<a class="hash-link" href="#标志" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'cAt cat cat'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r'cat'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IGNORECASE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regex</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"42 11.1   -2.0  rng 24"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"(?:-?\d+\.?\d+\s+)+(?=rng)"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 意思是非捕获分组，可以取消分组功能，若有</span><span class="token string" style="color:#e3116c">'()'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">findall默认会捕获括号分组，search默认捕获所有分组，</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="案例">案例<a class="hash-link" href="#案例" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> re</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""match ip"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 如47.98.97.198</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> 匹配</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">255</span><span class="token plain">，包括</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">199</span><span class="token plain">和</span><span class="token number" style="color:#36acaa">200</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">255</span><span class="token plain">：</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">?\d</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">\d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> ‘</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">XXX’匹配三次：</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">?\d</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">\d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> re</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"^(([0-1]?\d{1,2})|(2((5[0-5])|([0-4]\d))))(\.(([0-1]?\d{1,2})|(2((5[0-5])|([0-4]\d))))){3}$"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>vscode编辑器正则替换</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">字符串：</span><span class="token operator" style="color:#393A34">==</span><span class="token plain">先变换成洛必达法则适用形式</span><span class="token operator" style="color:#393A34">==</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">保留双等号中间的字符串内容，替换为：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">tip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">先变换成洛必达法则适用形式</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">查找：</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">==</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">==</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">替换：</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">tip\n\n $2 \n\n</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$2表示第二个变量</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="数据库">数据库<a class="hash-link" href="#数据库" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mysql">MySQL<a class="hash-link" href="#mysql" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="增删改查">增删改查<a class="hash-link" href="#增删改查" title="Direct link to heading">​</a></h4><div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 插入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INSERT INTO 表名 (列名) VALUES (,,,)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 删除</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DELETE FROM 表名 WHERE 条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TRUNCATE TABLE 表名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UPDATE 表名 SET 列名1=值1,列名2=值2 WHERE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#DISTINCT返回唯一不同的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT DISTINCT 列名称 FROM 表名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#ORDER BY排序（DESC降序，ASC升序）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC, OrderNumber ASC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># IFNULL如果第一个参数 为 NULL，则返回第二个参数的备用值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IFNULL(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       (SELECT DISTINCT Salary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       FROM Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ORDER BY Salary DESC </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       LIMIT 2 OFFSET 1),   #返回从第三行开始，共1行数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       NULL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#join内连接，和inner join效果一样</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT a.NAME AS Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM Employee AS a JOIN Employee AS b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ON a.ManagerId = b.Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     AND a.Salary &gt; b.Salary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Dense_RANK() over对成绩排名，RANK() over排名时若有并列将占用下一位的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select Score,Dense_RANK() over (order by Score desc) as `Rank`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from Scores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#顺序：where——group by——having，注意group by紧跟在where最后一个限制条件后面，不能被夹在where限制条件之间。使用了having必须使用group by，但是使用group by 不一定使用having</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#IF(condition, value_if_true, value_if_false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#回购率：某一个时间窗口内消费的用户，在下一个时间窗口仍旧消费的占比</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #复购率：在某时间窗口内重复消费用户（消费两次及以上的用户）在总消费用户中占比</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="索引">索引<a class="hash-link" href="#索引" title="Direct link to heading">​</a></h4><blockquote><p><a href="https://juejin.cn/post/6844903645125820424" target="_blank" rel="noopener noreferrer">数据库两大神器【索引和锁】 - 掘金 (juejin.cn)</a></p></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="b树">B树<a class="hash-link" href="#b树" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="b索引">B+索引<a class="hash-link" href="#b索引" title="Direct link to heading">​</a></h5><p><strong>Mysql索引分类：</strong></p><ul><li>唯一索引</li><li>主键索引</li><li>联合索引</li></ul><p><strong>说明：</strong></p><ol><li>主键不能为null，唯一索引可以为null；主键可以做为外键，唯一索引不行</li><li>经常用到where条件的字段，应该建立索引，如果where条件中是OR关系，加索引不起作用</li><li>经常用到连接的列上创建索引</li><li>创建联合索引应当把最常用的条件字段放在最左（<code>最左前缀原则</code>），如（age,name,sex）相当于创建了（age）（age，name）（age,name,sex）三个索引</li><li>索引不会包含有NULL值的列</li></ol><p>最左前缀原则如果遇到范围查询<code>(&gt;、&lt;、between、like</code>左匹配)等就不能进一步匹配了</p><p><strong>为什么能增加查询速度？</strong></p><p>索引底层是一棵B+树（叶节点存放数据，其余节点存放索引。所有叶子节点之间都有一个链指针），通过二分查找，找到对应目录的数据；如果不用索引，就要遍历双向链表</p><p><strong>为什么降低增删改速度？</strong></p><p>B+树是一棵平衡树（左右子树高度差的绝对值&lt;=1），增删改会破坏原有树的结构，要重新调整平衡</p><p><strong>B树和B+树的区别？</strong></p><p>b+树叶节点存储数据，内部节点存储索引。查询效率较b树更稳定，因为每次查询都是从根节点到叶节点，而b树在内部某个节点查询到匹配值时就停止查找了。</p><p>同时b+树支持范围查询，叶节点之间通过指针连接，形成一个有序链表，通过遍历叶节点即可遍历整棵树</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="哈希索引">哈希索引<a class="hash-link" href="#哈希索引" title="Direct link to heading">​</a></h5><p>直接根据哈希值定位</p><ul><li>不支持最左匹配原则</li><li>在有大量重复键值的情况下，存在哈希碰撞可能</li><li>不支持范围查询</li></ul><p><strong>如何处理哈希冲突？</strong></p><ol><li>开放定址<ul><li>线性探测。冲突发生时，顺序查看下一单元</li><li>平方探测</li><li>再散列</li></ul></li><li>拉链法</li></ol><p>把所有同义词存放在一个线性链表中</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="事务特性">事务特性<a class="hash-link" href="#事务特性" title="Direct link to heading">​</a></h4><ul><li>原子性：事务不可分割，要么全部成功，要么全部失败</li><li>一致性：事务执行前后数据库保持一致性状态，若执行失败需要回滚</li><li>隔离性：多个事务之间互不干扰</li><li>持久性：事务开始就不会终止，不受其他因素影响</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="隔离级别">隔离级别<a class="hash-link" href="#隔离级别" title="Direct link to heading">​</a></h4><ul><li><code>READ UNCOMMITED</code>：读未提交，其他事务只要修改了数据，即使未提交，本事务也能看到修改后的数据值</li><li><code>READ COMMITED</code>：读已提交，其他事务提交了对数据的修改后，本事务就能读取到修改后的数据值 </li><li><code>REPEATABLE READ</code>：可重复读，无论其他事务是否修改并提交了数据，在这个事务中看到的数据值始终不受其他事务影响</li><li><code>Serializable</code>：串行化，一个事务一个事务的执行</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="锁-1">锁<a class="hash-link" href="#锁-1" title="Direct link to heading">​</a></h4><p>按属性分：</p><ul><li><code>共享锁（读锁）</code>：读的时候其他事务不支持修改操作</li><li><code>排他锁（写锁）</code>：在对数据进行修改的时候不允许其他事务读或写</li></ul><p>按粒度分：</p><ul><li><code>行锁（InnoDB）</code>：开销大，加锁慢，不易冲突</li><li><code>表锁（InnoDB、MyISAM）</code>：开销小，加锁快，易冲突</li></ul><p><code>乐观锁</code>：读某个字段，处理完业务逻辑开始更新之前，需要查看字段值是否变化，如果不一样则拒绝更新</p><p><code>悲观锁</code>：数据库层面加锁，select语句之后加上for update</p><p>行锁表锁都是悲观锁；MyISAM不支持事务</p><p>死锁解决：</p><ul><li>以固定的顺序访问表和行。比如对两个job批量更新的情形，简单方法是对id列表先排序，后执行，这样就避免了交叉等待锁的情形；将两个事务的sql顺序调整为一致，也能避免死锁。</li><li>大事务拆小。大事务更倾向于死锁，如果业务允许，将大事务拆小。</li><li>在同一个事务中，尽可能做到一次锁定所需要的所有资源，减少死锁概率。</li><li>降低隔离级别。如果业务允许，将隔离级别调低也是较好的选择，比如将隔离级别从RR调整为RC，可以避免掉很多因为gap锁造成的死锁。</li><li>为表添加合理的索引。可以看到如果不走索引将会为表的每一行记录添加上锁，死锁的概率大大增大。</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行流程">执行流程<a class="hash-link" href="#执行流程" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20220926121708163-c8c48f0b8009138c0cc4b64f1376b11d.png" width="1065" height="604" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="视图-触发器-游标">视图 触发器 游标<a class="hash-link" href="#视图-触发器-游标" title="Direct link to heading">​</a></h4><blockquote><p>触发器：trigger，是指事先为某张表绑定一段代码，当表中的某些内容发生改变（增、删、改）的时候，系统会自动触发代码并执行。</p><p>游标：类似一个指针，可对结果集进行处理，它总是指向某一行来对其进行操作</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="查询优化">查询优化<a class="hash-link" href="#查询优化" title="Direct link to heading">​</a></h4><ol><li><p>分库分表</p><ul><li><p>水平</p><p>库和表的数据、结构都一样，无交集</p></li><li><p>垂直</p><ul><li>分库：库结构、数据不一样，所有库的并集为全量数据</li><li>分表：表结构、数据不一样，至少有一列交集用于关联数据，所有表的并集为全量数据</li></ul></li></ul></li><li><p>字段避免null,可以使用0或其他数字代替null</p></li><li><p>单表字段不要太多</p></li><li><p><a href="###%E7%B4%A2%E5%BC%95">加索引</a></p></li><li><p>SQL语句优化：limit、避免select *、小表 join 大表</p></li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="问题排查">问题排查<a class="hash-link" href="#问题排查" title="Direct link to heading">​</a></h4><div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">查看当前Mysql所有的进程,找到最耗时的进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show processlist;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看Mysql的最大缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show global variables like "global max_allowed_packet"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看当前正在进行的事务</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select * from information_schema.INNODB_TRX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">查看当前Mysql的连接数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show status like 'thread%'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">top查看服务器的CPU占用率</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="设计规范">设计规范<a class="hash-link" href="#设计规范" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="密码字段">密码字段<a class="hash-link" href="#密码字段" title="Direct link to heading">​</a></h5><p><strong>账户密码存储设计</strong></p><p>动态盐+非固定加密算法</p><p>salt + cryption_algorithm + value</p><p>（每次注册产生的盐值+注册日期）+ 加密算法 + 加密后的字符串 </p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="时间字段">时间字段<a class="hash-link" href="#时间字段" title="Direct link to heading">​</a></h5><ul><li><p>最好使用datetime，而不是timestamp（存在性能问题）</p></li><li><p>配置指定时区，而不是使用操作系统的时区，配置文件中设置参数time_zone='+08:00'</p></li><li><p>每张业务核心表都增加一个datetime类型的last_modify_date字段，并设置修改自动更新机制</p></li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="范式准则">范式准则<a class="hash-link" href="#范式准则" title="Direct link to heading">​</a></h5><ul><li>1NF：字段具有原子性，不能再分</li><li>2NF：每行必须被唯一区分，每张表使用BIGINT类型作为主键</li><li>3NF：每列都和主键列直接相关，不存在传递依赖</li></ul><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="主键设计">主键设计<a class="hash-link" href="#主键设计" title="Direct link to heading">​</a></h5><p>自增主键</p><p><strong>核心业务表推荐使用UUID或业务自定义主键，非核心业务表可以用自增键做主键，原因如下：</strong></p><ul><li>8.0版本之前自增存在回溯问题</li><li>自增值在服务器端产生，存在并发性能问题</li><li>自增值做主键，只能在当前实例中保证唯一，不能保证全局唯一</li><li>公开数据值，容易引发安全问题</li><li>MGR（mysql group replication）可能引起的性能问题</li><li>分布式架构设计问题</li></ul><p>UUID主键设计</p><p>UUID全局唯一</p><p>海量并发推荐使用UUID（分布式数据库）</p><div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">create table User (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id BINARY(16) NOT NULL,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid CHAR(36) AS (BIN_TO_UUID(id)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PRIMARY KEY(id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 插入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">insert into User Values (UUID_TO_BIN(UUID(), True),......)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mongodb">MongoDB<a class="hash-link" href="#mongodb" title="Direct link to heading">​</a></h3><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 删除集合中所有数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">database</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">collection</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deleteMany</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">{}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="计算机网络">计算机网络<a class="hash-link" href="#计算机网络" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http状态码">http状态码<a class="hash-link" href="#http状态码" title="Direct link to heading">​</a></h4><table><thead><tr><th>状态码</th><th>含义</th><th>举例</th></tr></thead><tbody><tr><td>1xx</td><td>信息性状态码</td><td></td></tr><tr><td>2xx</td><td>成功状态码</td><td>200请求成功</td></tr><tr><td>3xx</td><td>重定向</td><td>301永久重定向（url不可更改），302暂时重定向</td></tr><tr><td>4xx</td><td>客户端错误</td><td>403访问权限问题，404资源没找到</td></tr><tr><td>5xx</td><td>服务器错误</td><td>500服务器请求错误，502服务器网关错误，504网关超时，</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="osi七层模型">OSI七层模型<a class="hash-link" href="#osi七层模型" title="Direct link to heading">​</a></h4><table><thead><tr><th>名称</th><th>作用</th><th>举例</th></tr></thead><tbody><tr><td>应用层</td><td>访问网络服务的接口</td><td>HTTP、FTP(20/21)、smtp(25)、Telnet（23）、DNS（53）</td></tr><tr><td>表示层</td><td>提供数据格式转换服务</td><td>url加密、口令加密、图片编码解码</td></tr><tr><td>会话层</td><td>在通信双方之间建立、管理和终止会话</td><td>服务器验证登录</td></tr><tr><td>传输层</td><td>提供可靠的端到端的报文传输和差错控制</td><td>TCP、UDP</td></tr><tr><td>网络层</td><td>定义数据逻辑链路，转发数据</td><td>路由器、多层交换机、防火墙</td></tr><tr><td>数据链路层</td><td>建立数据链路连接</td><td>网卡、网桥、二层交换机</td></tr><tr><td>物理层</td><td>提供原始比特流的传输的通路</td><td>网线、集线器</td></tr></tbody></table><p><strong>URI和URL的区别：</strong></p><p>URI：统一资源标识符。由命名机制(如com、gov等)、ip、资源路径组成</p><p>URL：统一资源定位符。由协议（http、https）、ip、端口号、资源路径、参数、片段组成</p><p>URL相当于继承URI，是URI的扩展</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常见加密算法">常见加密算法<a class="hash-link" href="#常见加密算法" title="Direct link to heading">​</a></h4><ul><li>对称（加密与解密密钥相同）<ul><li>DES、AES</li></ul></li><li>非对称（加密与解密密钥不同，公钥和私钥加解密）<ul><li>RSA</li></ul></li><li>散列（不需要密钥）<ul><li>SHA-1</li><li>MD-5（不可逆、密码值固定不安全）</li></ul></li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> hashlib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hashlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">md5</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"utf8"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hexdigest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sha1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hashlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sha1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'helloword'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sha1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'utf-8'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sha1_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sha1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hexdigest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sha1_data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_rsa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#1-1 实例化加密对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pubkey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">privkey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">rsa</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">newkeys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#1-2 公钥加密1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pwd1</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">rsa</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encrypt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pubkey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'加密后结果1为：'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pwd1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">hex</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#1-3 私钥解密1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depwd1</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">rsa</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decrypt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pwd1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">privkey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'解密后的结果1为：'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">depwd1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get_rsa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">b"15863274538"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="docker">Docker<a class="hash-link" href="#docker" title="Direct link to heading">​</a></h2><p>镜像层可读，容器层可写</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用命令">常用命令<a class="hash-link" href="#常用命令" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start/stop/restart </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> 查看docker运行状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> 开机启动</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td>docker images</td><td>查看所有镜像</td></tr><tr><td>docker search</td><td>查找镜像</td></tr><tr><td>docker search --limit 5 rabbitmq</td><td>查找前5个</td></tr><tr><td>docker pull rabbitmq</td><td>下载镜像（默认最新版本）</td></tr><tr><td>docker pull redis:6.0.8</td><td>指定版本号下载</td></tr><tr><td>docker rmi 镜像id</td><td>删除镜像</td></tr><tr><td>docker system df</td><td>查看镜像/容器/数据卷占用空间</td></tr><tr><td>docker ps -a</td><td>查看所有容器</td></tr><tr><td>docker ps -f status=exited</td><td>查看停止的容器</td></tr><tr><td>docker run -it --name=容器名称 镜像名称:TAG /bin/bash</td><td>以交互式创建容器</td></tr><tr><td>docker run -it -p 192.168.1.100:8080:80</td><td>将容器的TCP80端口映射到IP地址为192.168.1.100宿主机的8080端口</td></tr><tr><td>docker run -d 容器名称</td><td>以守护式创建容器</td></tr><tr><td>docker start/restart/stop/kill 容器id</td><td>启动/重启/停止/强制停止容器</td></tr><tr><td>docker rm 容器id</td><td>删除容器</td></tr><tr><td>docker inspect 容器id</td><td>查看容器内部细节</td></tr><tr><td>docker top 容器id</td><td>查看当前容器内的进程信息</td></tr><tr><td>docker exec -it 容器id /bin/bash</td><td>以交互式重新进入容器（exit退出后不会停止）</td></tr><tr><td>docker attach 容器id /bin/bash</td><td>进入容器（exit退出后容器停止）</td></tr><tr><td>docker cp 容器id:容器内路径 目标机器路径</td><td>拷贝容器文件到主机上</td></tr><tr><td>docker export 容器id &gt; 文件名.tar</td><td>导出容器</td></tr><tr><td>cat 文件名.tar <!-- -->|<!-- --> docker import - 镜像用户/镜像名：版本号</td><td>导入容器</td></tr><tr><td>docker commit -m="提交信息" -a="作者" 容器id 目标镜像名:TAG</td><td>提交容器</td></tr><tr><td>docker build -t 镜像名:TAG</td><td>构建新镜像</td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dockerfile">DockerFile<a class="hash-link" href="#dockerfile" title="Direct link to heading">​</a></h3><blockquote><p>用途：用来构建docker镜像的文本文件</p><ul><li>每条保留字指令都必须为大写字母且后面要跟随至少一个参数</li><li>指令按照从上到下顺序执行</li><li>每条指令都会创建一个新的镜像层并提交</li></ul></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用保留字">常用保留字<a class="hash-link" href="#常用保留字" title="Direct link to heading">​</a></h4><table><thead><tr><th>Word</th><th>Description</th></tr></thead><tbody><tr><td>FROM</td><td>基于已存在的某个镜像作为基础镜像</td></tr><tr><td>MAINTAINER</td><td>镜像维护者的姓名、邮箱</td></tr><tr><td>RUN</td><td>容器build时执行的命令</td></tr><tr><td>EXPOSE</td><td>当前容器对外暴露出的端口</td></tr><tr><td>WORKDIR</td><td>进入容器后的默认目录</td></tr><tr><td>USER</td><td>指定镜像执行的用户，默认root</td></tr><tr><td>ENV MY_PATH /home/yuqiuwen</td><td>设置环境变量</td></tr><tr><td>VOLUME</td><td>容器数据卷</td></tr><tr><td>ADD</td><td>将宿主机目录下的文件拷贝到镜像，并处理URL自动解压</td></tr><tr><td>COPY</td><td>拷贝文件和目录到新的镜像层中</td></tr><tr><td>CMD</td><td>容器启动后要执行的操作（会被docker run之后添加的额外参数覆盖）</td></tr><tr><td>ENTRYPOINT</td><td>同CMD，但不会被docker run的参数覆盖</td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git">Git<a class="hash-link" href="#git" title="Direct link to heading">​</a></h2><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch 查看本地所有分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> status 查看当前状态 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit 提交 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -a 查看所有的分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -r 查看远程所有分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -am </span><span class="token string" style="color:#e3116c">"init"</span><span class="token plain"> 提交并且加注释 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> origin git@192.168.1.119:ndshow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin master 将文件给推到服务器上 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote show origin 显示远程库origin里的资源 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin master:develop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push origin master:hb-dev 将本地库与服务器上的库进行关联 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout --track origin/dev 切换到远程dev分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> branch -D master develop 删除本地库develop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout -b dev 建立一个新的本地分支dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> merge origin/dev 将分支dev与当前分支进行合并</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout dev 切换到本地dev分支</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> remote show 查看远程库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> 文件名</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">包括路径</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 从git中删除指定文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone git://github.com/schacon/grit.git 从服务器上将代码给拉下来</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> config --list 看所有用户</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> ls-files 看已经被提交的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">file name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> 删除一个文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -a 提交当前repos的所有的改变</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">file name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> 添加一个文件到git index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -v 当你用－v参数的时候可以看commit的差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">"This is the message describing the commit"</span><span class="token plain"> 添加commit信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -a -a是代表add，把所有的change加到git index里然后再commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -a -v 一般提交命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> log 看你commit的日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">diff</span><span class="token plain"> 查看尚未暂存的更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> a.a 移除文件</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">从暂存区和工作区中删除</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> --cached a.a 移除文件</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">只从暂存区中删除</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">"remove"</span><span class="token plain"> 移除文件</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">从Git中删除</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -f a.a 强行移除修改后文件</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">从暂存区和工作区中删除</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">diff</span><span class="token plain"> --cached 或 $ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">diff</span><span class="token plain"> --staged 查看尚未提交的更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> stash push 将文件给push到一个临时空间中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> stash pop 将文件从临时空间pop下来</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="Python" term="Python"/>
        <category label="Django" term="Django"/>
        <category label="DataBase" term="DataBase"/>
        <category label="Network" term="Network"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[LeetCode]]></title>
        <id>/2022/12/24/leecode/LeetCode</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/12/24/leecode/LeetCode"/>
        <updated>2022-11-16T18:26:00.000Z</updated>
        <summary type="html"><![CDATA[基本算法]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="算法">算法<a class="hash-link" href="#算法" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="查找">查找<a class="hash-link" href="#查找" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二分查找">二分查找<a class="hash-link" href="#二分查找" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">binsearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> high </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> low </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> high</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">low </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> high</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> target </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> mid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> target </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            low </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mid </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            high </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mid </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="排序">排序<a class="hash-link" href="#排序" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="冒泡">冒泡<a class="hash-link" href="#冒泡" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">冒泡排序:每趟能确定一个元素的最终位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bubble_sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="快排">快排<a class="hash-link" href="#快排" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">quick_sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 用栈保存区间左右边界，右边界先入栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> high </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> partition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> high</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 基准元素的左区间存在则入栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> low</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">low</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 基准元素的右区间存在则入栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> high </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">high</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> arr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">partition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> high</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 选取第一个元素作为基准元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">low</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> low </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> high</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 比基准元素小的移到前面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> low </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> high </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">high</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            high </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">low</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">high</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 比基准元素大的移到后面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> low </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> high </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">low</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            low </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">high</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">low</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     将基准元素放到最终的位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">low</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> low</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="选择">选择<a class="hash-link" href="#选择" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">选择排序：每趟（i）从后面的n-i+1个待排元素选择1个最小的作为最终第i个元素的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">select_sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">min</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">min</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token builtin">min</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 若第一个数字不是最小值，则交换位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">min</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">min</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">min</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> arr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="归并">归并<a class="hash-link" href="#归并" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="image-20220814143834015" src="/docone/assets/images/image-20220814143834015-db955f7114a655db3324556592c9c141.png" width="723" height="637" class="img_ev3q"></p><p>==思路==：</p><ol><li>针对上图序列A（3,9）和序列B（1,4），指针i指向3，j指向1</li><li>1&lt;3，1添加到temp，同时指针j后移</li><li>3&lt;4，3添加到temp，同时指针i后移</li><li>4&lt;9，4添加到temp，同时指针j后移，此时j=8 &gt; 右边界r=7,跳出循环</li><li>此时i=5,j=8,mid=5,l=4,r=7，将剩下的序列A中的元素添加到temp列表中</li><li>将temp中的所有元素赋给原序列arr对应位置</li></ol><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> l</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> l</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mid </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> mid </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            i </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            temp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            j </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'-----------'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f'i:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">   j:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">j</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">   mid:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">mid</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">   l:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">l</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">   r:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">r</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 此时其中一序列（如1,3,4）已经全部按顺序添加到temp中，另一序列还剩9,只需将剩下的添加到temp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> mid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        temp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        i </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        temp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        j </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 此时子序列已排好序，直接将temp中排好序的元素赋给arr对应位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">l</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">merge_sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> l</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> l </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        merge_sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> l</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        merge_sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mid</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> l</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> arr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="基础">基础<a class="hash-link" href="#基础" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="查找第一个不重复的字符">查找第一个不重复的字符<a class="hash-link" href="#查找第一个不重复的字符" title="Direct link to heading">​</a></h5><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">first_char</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""记录每个字符的出现次数"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            d</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            d</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""再次遍历返回次数为1的元素"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first_char</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'a'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'b'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'c'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'c'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'c'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'d'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'e'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'f'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'a'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="动态规划">动态规划<a class="hash-link" href="#动态规划" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="01背包问题">01背包问题<a class="hash-link" href="#01背包问题" title="Direct link to heading">​</a></h5><p>从n个物品中选取一些物品（物品下标为i，背包容量为j），使得容量为s的背包包含的物品总价值最大。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 使用滚动数组优化：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># dp[j]表示容量为j的背包所装的最大价值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">backpack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 使用滚动数组dp[j]取代二维数组，表示容量为j的背包所装的最大价值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 重量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 价值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 最大承受重量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 物品个数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj_list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dp1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 二维数组方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dp1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dp1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dp1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                dp1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dp1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dp1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 一维滚动数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 倒序遍历背包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> dp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="礼物最大价值">礼物最大价值<a class="hash-link" href="#礼物最大价值" title="Direct link to heading">​</a></h5><blockquote><p>在一个 m*n 的棋盘的每一格都放有一个礼物，每个礼物都有一定的价值（价值大于 0）。你可以从棋盘的左上角开始拿格子里的礼物，并每次向右或者向下移动一格、直到到达棋盘的右下角。给定一个棋盘及其上面的礼物的价值，请计算你最多能拿到多少价值的礼物？</p><p>链接：<a href="https://leetcode.cn/problems/li-wu-de-zui-da-jie-zhi-lcof" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/li-wu-de-zui-da-jie-zhi-lcof</a></p></blockquote><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">maxValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">width</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">height</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 注意遍历顺序需要和i,j对应</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> height</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> width</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> grid</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> dp</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maxValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="滑动窗口">滑动窗口<a class="hash-link" href="#滑动窗口" title="Direct link to heading">​</a></h4><blockquote><p>给你一个整数数组 nums，有一个大小为 k 的滑动窗口从数组的最左侧移动到数组的最右侧。你只可以看到在滑动窗口内的 k 个数字。滑动窗口每次只向右移动一位。返回滑动窗口中的最大值 。
链接：<a href="https://leetcode.cn/problems/sliding-window-maximum" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/sliding-window-maximum</a></p><p>输入：nums = <!-- -->[1,3,-1,-3,5,3,6,7]<!-- -->, k = 3
输出：<!-- -->[3,3,5,5,6,7]<!-- -->
解释：
滑动窗口的位置                最大值</p><hr><p>[1  3  -1]<!-- --> -3  5  3  6  7       3
1 <!-- -->[3  -1  -3]<!-- --> 5  3  6  7       3
1  3 <!-- -->[-1  -3  5]<!-- --> 3  6  7       5
1  3  -1 <!-- -->[-3  5  3]<!-- --> 6  7       5
1  3  -1  -3 <!-- -->[5  3  6]<!-- --> 7       6
1  3  -1  -3  5 <!-- -->[3  6  7]<!-- -->      7</p></blockquote><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">maxSlidingWindow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 双端队列</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 单调递减栈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> q </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> nums</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># # 当队头元素超出窗口边界时，弹出队头元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">popleft</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 从第二个窗口开始之后都要弹出队头元素，第一个窗口右边界k-1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain">k</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> res</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mysql">MySQL<a class="hash-link" href="#mysql" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="基础-1">基础<a class="hash-link" href="#基础-1" title="Direct link to heading">​</a></h3><div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1 #DISTINCT返回唯一不同的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT DISTINCT 列名称 FROM 表名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2#ORDER BY排序（DESC降序，ASC升序）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC, OrderNumber ASC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3# IFNULL如果第一个参数 为 NULL，则返回第二个参数的备用值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IFNULL(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       (SELECT DISTINCT Salary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       FROM Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ORDER BY Salary DESC </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       LIMIT 2 OFFSET 1),   #返回从第三行开始，共1行数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       NULL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 #join内连接，和inner join效果一样</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT a.NAME AS Employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM Employee AS a JOIN Employee AS b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     ON a.ManagerId = b.Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     AND a.Salary &gt; b.Salary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5# Dense_RANK() over对成绩排名，RANK() over排名时若有并列将占用下一位的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select Score,Dense_RANK() over (order by Score desc) as `Rank`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from Scores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6 #顺序：where——group by——having，注意group by紧跟在where最后一个限制条件后面，不能被夹在where限制条件之间。使用了having必须使用group by，但是使用group by 不一定使用having</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 #IF(condition, value_if_true, value_if_false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8#回购率：某一个时间窗口内消费的用户，在下一个时间窗口仍旧消费的占比</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #复购率：在某时间窗口内重复消费用户（消费两次及以上的用户）在总消费用户中占比</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image-20210215213701733" src="/docone/assets/images/image-20210215213701733-46ee5709627f522f5c2a816ff8083c06.png" width="759" height="422" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="次日留存率">次日留存率<a class="hash-link" href="#次日留存率" title="Direct link to heading">​</a></h3><p>#查看用户在某天刷题后第二天还会再来刷题的平均概率。</p><p><img loading="lazy" alt="image-20220219161533073" src="/docone/assets/images/image-20220219161533073-d8754902ebc018589a17864a32c72c06.png" width="936" height="644" class="img_ev3q"></p><div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#先对用户去重，然后自连接，q1显示所有，q2显示留存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count(q2.device_id)/count(q1.device_id) as avg_ret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (select distinct device_id, date from question_practice_detail) q1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">left join</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (select distinct device_id, date from question_practice_detail) q2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">on q1.device_id=q2.device_id and q2.date=date_add(q1.date,interval 1 day)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="查找" term="查找"/>
        <category label="排序" term="排序"/>
        <category label="动态规划" term="动态规划"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Design patterns]]></title>
        <id>/2022/11/06/设计模式</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/11/06/设计模式"/>
        <updated>2022-11-06T10:21:00.000Z</updated>
        <summary type="html"><![CDATA[常见设计模式总结]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="面向对象设计原则">面向对象设计原则<a class="hash-link" href="#面向对象设计原则" title="Direct link to heading">​</a></h2><ol><li><p><strong>开放封闭原则</strong></p><p>尽量不修改代码前提下进行扩展</p></li><li><p><strong>里氏替换原则</strong></p><p>尽量不重写父类方法，若要重写应满足以下要求：</p><ul><li><p>子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法</p></li><li><p>子类可以增加自己特有的方法</p></li><li><p>当子类的方法重载父类的方法时，方法的形参要比父类方法的输入参数更宽松</p></li><li><p>当子类的方法实现父类的抽象方法时，方法的返回值应比父类更严格</p></li></ul></li><li><p><strong>依赖倒置原则</strong></p><ul><li>高层模块不应该依赖底层模块，二者都应该依赖抽象。</li><li>抽象不应该依赖细节，细节应该依赖抽象。</li><li>依赖倒置的中心思想是面向接口编程。</li></ul></li><li><p><strong>接口隔离原则</strong></p><p>不要在一个接口里面放很多的方法，这样会显得这个类很臃肿</p><ul><li>客户端不应依赖它不需要的接口</li><li>类间的依赖关系应该建立在最小的接口上</li></ul></li><li><p><strong>单一职责原则</strong></p><p>一个类只负责一项职责</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="创建型模式">创建型模式<a class="hash-link" href="#创建型模式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="工厂方法模式">工厂方法模式<a class="hash-link" href="#工厂方法模式" title="Direct link to heading">​</a></h3><p><code>优点</code>：</p><ol><li>每一个具体产品对应一个工厂类，不需要修改工厂类代码</li><li>隐藏对象创建的内部细节</li></ol><p><code>缺点</code>：</p><p>每增加一个产品类，就必须增加一个工厂类</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">GreekLocalizer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""A simple localizer a la gettext"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">translations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"dog"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"σκύλος"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"cat"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"γάτα"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">localize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""We'll punt if we don't have a translation"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">translations</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">EnglishLocalizer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""Simply echoes the message"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">localize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> msg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_localizer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">language</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"English"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""Factory"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    localizers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"English"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EnglishLocalizer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"Greek"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GreekLocalizer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> localizers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">language</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> g </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_localizer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">language</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"English"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> get_localizer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">language</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Greek"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> msg </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"dog parrot cat bear"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> g</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="抽象工厂模式">抽象工厂模式<a class="hash-link" href="#抽象工厂模式" title="Direct link to heading">​</a></h3><blockquote><p>提供一个创建一系列相关或者相互依赖产品的接口</p></blockquote><p><code>优点</code>：</p><p>除工厂方法模式的优点之外，还有利于约束产品族</p><p><code>缺点</code>：</p><p>扩展新的产品很麻烦</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> abc </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> abstractmethod</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ABCMeta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Pet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">metaclass</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ABCMeta</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@abstractmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">speak</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@abstractmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__str__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Dog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Pet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">speak</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"&lt;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&gt;汪汪~"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__str__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f"Dog&lt;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&gt;"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Cat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Pet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">speak</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"&lt;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&gt;喵喵~"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__str__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f"Cat&lt;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&gt;"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">PetShop</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> animal_factory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Type</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Pet</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pet_factory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> animal_factory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">buy_pet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Pet</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pet </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pet_factory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"Here is your lovely </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">pet</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> pet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cat_shop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PetShop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Cat</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dog_shop </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PetShop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Dog</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pet1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cat_shop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">buy_pet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"布偶"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pet1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">speak</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pet2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dog_shop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">buy_pet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"阿拉斯加"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pet2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">speak</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="创建者模式">创建者模式<a class="hash-link" href="#创建者模式" title="Direct link to heading">​</a></h3><blockquote><p>将一个复杂对象的创建于它的表示分离，使得同样的构建过程可以创建不同的表示</p></blockquote><p><code>优点</code>：</p><p>将构造代码与表示代码分开，可以精细控制构建过程</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> abc </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> abstractmethod</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ABCMeta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 抽象建造者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Building</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build_floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@abstractmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@abstractmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__repr__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Floor: {0.floor} | Size: {0.size}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 具体建造者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">House</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Building</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">floor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"One"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Big"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 具体建造者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Flat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Building</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">floor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"More than One"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Small"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In some very complex cases, it might be desirable to pull out the building</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># logic into another function (or a method on another class), rather than being</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># in the base class '__init__'. (This leaves you in the strange situation where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># a concrete class does not have a useful constructor)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ComplexBuilding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__repr__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Floor: {0.floor} | Size: {0.size}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ComplexHouse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ComplexBuilding</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">floor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"One"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Big and fancy"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 指挥者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">construct_building</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Building</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    building </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cls</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    building</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build_floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    building</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">build_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> building</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    house </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> House</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Flat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">house</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">flat</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Using an external constructor function:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    complex_house </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> construct_building</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ComplexHouse</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">complex_house</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># output</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Floor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> One </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Big</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Floor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> More than One </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Small</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Floor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> One </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Big </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> fancy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="原型模式">原型模式<a class="hash-link" href="#原型模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="单例模式">单例模式<a class="hash-link" href="#单例模式" title="Direct link to heading">​</a></h3><blockquote><p>保证一个类只有一个实例</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="结构型模式">结构型模式<a class="hash-link" href="#结构型模式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="适配器模式">适配器模式<a class="hash-link" href="#适配器模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="桥模式">桥模式<a class="hash-link" href="#桥模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="组合模式">组合模式<a class="hash-link" href="#组合模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="装饰模式">装饰模式<a class="hash-link" href="#装饰模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="外观模式">外观模式<a class="hash-link" href="#外观模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="享元模式">享元模式<a class="hash-link" href="#享元模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代理模式">代理模式<a class="hash-link" href="#代理模式" title="Direct link to heading">​</a></h3><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="行为型模式">行为型模式<a class="hash-link" href="#行为型模式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="解释器模式">解释器模式<a class="hash-link" href="#解释器模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="责任链模式">责任链模式<a class="hash-link" href="#责任链模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="命令模式">命令模式<a class="hash-link" href="#命令模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="迭代器模式">迭代器模式<a class="hash-link" href="#迭代器模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="中介者模式">中介者模式<a class="hash-link" href="#中介者模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="备忘录模式">备忘录模式<a class="hash-link" href="#备忘录模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="观察者模式">观察者模式<a class="hash-link" href="#观察者模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="状态模式">状态模式<a class="hash-link" href="#状态模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="策略模式">策略模式<a class="hash-link" href="#策略模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="访问者模式">访问者模式<a class="hash-link" href="#访问者模式" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="模板方法模式">模板方法模式<a class="hash-link" href="#模板方法模式" title="Direct link to heading">​</a></h3>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[自动化运维工具Paramiko & Fabric]]></title>
        <id>/2022/10/30/paramiko&amp;fabric</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/10/30/paramiko&amp;fabric"/>
        <updated>2022-10-30T14:50:39.000Z</updated>
        <summary type="html"><![CDATA[由于工作中经常用到这两个库，不过基本上用的fabric来实现环境部署、预检、数据上传下发等操作。因此，本文重点介绍Fabric的使用（fabric2版本）。]]></summary>
        <content type="html"><![CDATA[<p>由于工作中经常用到这两个库，不过基本上用的fabric来实现环境部署、预检、数据上传下发等操作。因此，本文重点介绍Fabric的使用（fabric2版本）。  </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paramiko">paramiko<a class="hash-link" href="#paramiko" title="Direct link to heading">​</a></h2><blockquote><p>paramiko是使用SSHv2协议的三方库，提供了客户端和服务端的功能。<br>
<a href="https://docs.paramiko.org/en/stable/" target="_blank" rel="noopener noreferrer">Welcome to Paramiko’s documentation! — Paramiko documentation</a></p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="安装">安装<a class="hash-link" href="#安装" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip install paramiko</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>paramiko中的几个重要组件：  </p><blockquote><p><code>SSHClient</code>：ssh服务器会话的高级封装，封装了<code>Transport</code>,&nbsp;<code>Channel</code>, and&nbsp;<code>SFTPClient</code><br>
<code>SFTPClient</code>：基于一个已连通的Transport打开一个sftp会话，可实现对文件的操作（上传下载等）</p></blockquote><blockquote><p><code>Channel</code>：一种ssh传输的安全通道，类似socket<br>
<code>Transport</code>：一种协商加密的会话，会创建tunnels通道流，称为channels。多个channels可以在单个会话中多路复用</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sshclient">SSHClient<a class="hash-link" href="#sshclient" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="连接">连接<a class="hash-link" href="#连接" title="Direct link to heading">​</a></h4><ol><li>通过密钥连接，有两种方式：<ul><li>实例化<code>SSHClient</code></li><li>创建一个<code>Transport</code>加密通道 </li></ul></li><li>通过密码连接，有两种方式：<ul><li>实例化<code>SSHClient</code></li><li>创建一个<code>Transport</code>加密通道</li></ul></li></ol><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""密钥连接(通过Transport连接)"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RSAKey</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_private_key_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'/xxx/xxx'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Transport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pkey</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">private</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""密钥连接(通过SSHClient连接)"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RSAKey</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_private_key_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'/xxx/xxx'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh_client&nbsp;</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SSHClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hostname</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">pkey</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">private</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""密码连接(通过Transport连接)"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Transport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""密码连接(通过SSHClient连接)"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh_client&nbsp;</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SSHClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hostname</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行ssh命令">执行SSH命令<a class="hash-link" href="#执行ssh命令" title="Direct link to heading">​</a></h4><p>通过<code>exec_command()</code>方法打开一个channel在服务器上执行命令，相当于我们使用ssh客户端工具执行。<br>
<!-- -->若要执行多个命令可以通过 <code>&amp;&amp;</code>连接，或者for循环调用<code>exec_command()</code>，这将会打开多个channel。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stdin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stderr&nbsp;</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ssh_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exec_command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"rm -i test1.txt &amp;&amp; cd /home"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>执行完成后会一次性返回stdout和stderr，同时可以通过<code>stdout.channel.recv_exit_status()</code>获取执行结果，该方法是一个阻塞方法，如果想实时获取日志输出可以封装一下，代码如下：  </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">exec_cmd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ssh_client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param commands: 待执行命令列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param f: 文件对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return: 执行状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> cmd </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stdin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stderr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ssh_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exec_command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"start run command: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">cmd</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stderr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">out </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> out</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">out </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        status</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stdout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">recv_exit_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="关闭连接">关闭连接<a class="hash-link" href="#关闭连接" title="Direct link to heading">​</a></h4><p><code>ssh_client.close()</code><br>
<code>transport.close()</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sftpclient">SFTPClient<a class="hash-link" href="#sftpclient" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="创建sftp客户端通道">创建SFTP客户端通道<a class="hash-link" href="#创建sftp客户端通道" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Transport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 基于已连通的transport创建一个SFTP客户端channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># sftp = paramiko.SFTPClient.from_transport(transport)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">open_sftp_client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 或者通过SSHClient创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh_client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SSHClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ssh_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">open_sftp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用操作">常用操作<a class="hash-link" href="#常用操作" title="Direct link to heading">​</a></h4><p><code>listdir(path)</code>：遍历远程路径下的文件目录（只能遍历一级目录和文件）<br>
<code>listdir_attr(path)</code>：遍历远程路径下的文件目录，并且可以获取每个文件的详细属性<br>
<code>remove(path)</code>：删除文件<br>
<code>rmdir(path)</code>：删除目录<br>
<code>mkdir(path)</code>：创建目录<br>
<code>stat(path)</code>：获取文件属性信息（若为软链接文件，获取的是指向的源文件）<br>
<code>lstat(path)</code>：获取文件属性信息（若为软链接文件，获取的是自身文件）<br>
<code>get(remotepath, localpath)</code>：下载<br>
<code>put(localpath, remotepath)</code>：上传  </p><p><strong>检查远程文件是否存在</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    由于windows和linux操作系统不同，路径格式会出现不统一的情况，反斜杠不处理的话会出现很多问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    替换windows路径中的\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'\\'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    判断目标机器路径是否存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param is_mkdir: 若为True，则会创建此路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> is_mkdir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>判断远程路径是否为目录</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">remote_path_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    检查一个远程路径是否为目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    attr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>上传</strong>  </p><p>注意：远程目录必须存在，否则会报错</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    下载文件或目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param remote_path: 目标机器路径（注意路径反斜杠问题会报错）</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param local_path:  本地路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 判断远程路径是否存在</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> sftp_attr </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listdir_attr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sftp_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'.'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 过滤隐藏文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_dir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 若为目录，则递归调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sftp_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># st_mode判断文件类型（目录还是文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_dir</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># parents为True支持多级创建，exist_ok 存在就不创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_dir</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 下载目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> remote_path_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 下载单个文件，如果没有设置本地文件名，默认为远程路径中的名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>下载</strong>  </p><p>注意：本地目录必须存在，否则会报错</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rglob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'[!.]*'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 拼接远程路径，relative_to获取相对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            remote </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 目标机器上不存在此路径需要创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 上传单个文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> remote_path_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># 若远程路径是一个目录，就将本地文件名作为默认名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="关闭">关闭<a class="hash-link" href="#关闭" title="Direct link to heading">​</a></h4><p><code>sftp.close()</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="封装">封装<a class="hash-link" href="#封装" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SSHConnection</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mylogger</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mylogger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 密钥方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># private = paramiko.RSAKey.from_private_key_file('/xxx/xxx')</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># transport = paramiko.Transport((self._host, self._port))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># transport.connect(username=self._user, pkey=private)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 密码连接方式(通过Transport连接，或者通过SSHClient连接)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># transport 一种加密的会话，会创建一个加密通道</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Transport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_password</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">exec_cmd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param commands: 待执行命令，支持list</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return: 执行状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 实例化SSHClient</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SSHClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> cmd </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stdin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stderr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exec_command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"start run command: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">cmd</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> stderr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">readline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">out </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> out</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'error'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            status</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stdout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">recv_exit_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">remote_path_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        检查一个远程路径是否为目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        attr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        判断目标机器路径是否存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param is_mkdir: 若为True，则会创建此路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> is_mkdir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_local_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        判断本地路径是否存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param local_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param is_mkdir:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> is_mkdir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">makedirs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> level</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        自定义写入文件方法，同时支持logger或文件对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param message:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param level:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Logger</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> level </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'error'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">"\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">"\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        下载文件或目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param remote_path: 目标机器路径（注意路径反斜杠问题会报错）</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param local_path:  本地路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 创建一个已连通的sftp client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># self._sftp = paramiko.SFTPClient.from_transport(self._transport)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">open_sftp_client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"路径不存在：</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'error'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> sftp_attr </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listdir_attr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sftp_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'.'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 过滤隐藏文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_dir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># 若为目录，则递归调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sftp_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># st_mode判断文件类型（目录还是文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    local_dir</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># parents为True支持多级创建，exist_ok 存在就不创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    local_dir</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"download file </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_dir</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> -&gt; </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">local_dir</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 下载目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remote_path_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            find_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 下载单个文件，如果没有设置本地文件名，默认为远程路径中的名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parents</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exist_ok</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"download file </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> -&gt; </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">local_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paramiko</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SFTPClient</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_transport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rglob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'[!.]*'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># 拼接远程路径，relative_to获取相对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 目标机器上不存在此路径需要创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"upload the file </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 上传单个文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remote_path_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># 若远程路径是一个目录，就将本地文件名作为默认名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"upload the file </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">local_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_transport</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        由于windows和linux操作系统不同，路径格式会出现不统一的情况，反斜杠不处理的话会出现很多问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        替换windows路径中的\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'\\'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fabric">fabric<a class="hash-link" href="#fabric" title="Direct link to heading">​</a></h2><blockquote><p>fabric是基于paramiko的进一步封装，使用起来更加方便。fabric共有三个版本：fabric1、fabric2、fabric3，其中fabric3是非官方版本，所以不推荐使用，建议使用fabric2版本。<br>
<!-- -->官方文档：<a href="https://www.fabfile.org/" target="_blank" rel="noopener noreferrer">https://www.fabfile.org/</a>  </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="安装-1">安装<a class="hash-link" href="#安装-1" title="Direct link to heading">​</a></h3><p><code>pip install fabric</code>或者<code>pip install fabric2</code>，都是安装最新的官方版本。  </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="使用">使用<a class="hash-link" href="#使用" title="Direct link to heading">​</a></h3></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="连接-1">连接<a class="hash-link" href="#连接-1" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> fabric </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">@</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">host</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"password"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connect_timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 5s超时</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 多个命令之间用&amp;&amp;或;连接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"ls"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>关于<code>run()</code>方法的参数说明： </p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>hide=True</td><td>服务器的输出信息不会在控制台打印</td></tr><tr><td>warn=True</td><td>忽略异常信息（即exit code不等于0的命令），会将异常信息输出到stderr，若设置False则会报SystemExit异常，之前在测试环境就是因为没有处理这个SystemExit异常（SystemExit和Exception是同级关系），导致整个进程崩溃</td></tr><tr><td>pty=True</td><td>交互式伪终端时使用，其他不建议使用</td></tr><tr><td>watchers</td><td>监听Responder列表，自动响应</td></tr><tr><td>out_stream</td><td>文件对象，可以记录命令输出信息（fabric1版本的参数好像是stdout）</td></tr><tr><td>err_stream</td><td>文件对象，可以记录命令错误输出信息</td></tr></tbody></table><p><code>ret = run()</code>方法返回值：  </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stdout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 正常输出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stderr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 异常输出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">failed  </span><span class="token comment" style="color:#999988;font-style:italic"># 执行状态True or False</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行交互式命令">执行交互式命令<a class="hash-link" href="#执行交互式命令" title="Direct link to heading">​</a></h4><p>如果需要用户主动输入命令，可以使用Responder，第一个参数为需要匹配的字符串，第二个参数为响应的内容。由于交互式终端原因，此处需要设置<code>pty=True</code>，否则运行会提示：<code>no tty present and no askpass program specified</code>，若提示<code>xx user is not in the sudoers file.  This incident will be reported</code>，需要通过登录root用户，修改sudoers文件。  </p><p>特别注意：模式匹配字符串要转义，否则会匹配不到，进而一直阻塞无响应（凡是需要用户介入的操作，都会一直卡在那里直到给出响应）；response内容必须以<code>\n</code>紧接结尾，相当于输入完成后执行回车操作。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> invoke </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Responder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> fabric </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudopass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Responder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">fr'\[sudo\] password for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     response</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">f'</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">password</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\n'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">@</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">host</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"password"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 如果要监听多个，则放入列表中传递给watchers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"sudo whoami"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pty</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watchers</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sudopass</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>with用法：</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 执行完自动关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> Connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">@</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">host</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"password"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"cd /home"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># with cd: 退出with上下文之后会回到当前登录用户的家目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">@</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">host</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"password"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/home/yuqiuwen/PythonProjects/zhongxin/"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 以下操作均在当前目录下执行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># with settings在fabric2中遗弃了</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="执行本地命令">执行本地命令<a class="hash-link" href="#执行本地命令" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Connection.local方法(实际上是invoke.run的装饰器)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">local</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"dir"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 或者invoke.run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> invoke </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="操作多台机器">操作多台机器<a class="hash-link" href="#操作多台机器" title="Direct link to heading">​</a></h4><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> fabric </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SerialGroup </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> Group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'web1'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'web2'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'mac1'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'uname -s'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GroupResult</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Connection </span><span class="token string" style="color:#e3116c">'web1'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CommandResult </span><span class="token string" style="color:#e3116c">'uname -s'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Connection </span><span class="token string" style="color:#e3116c">'web2'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CommandResult </span><span class="token string" style="color:#e3116c">'uname -s'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Connection </span><span class="token string" style="color:#e3116c">'mac1'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CommandResult </span><span class="token string" style="color:#e3116c">'uname -s'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> connection</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"{0.host}: {1.stdout}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">web1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">web2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mac1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Darwin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> fabric </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SerialGroup </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> Group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 当目标机器文件不存在时执行上传和解压缩操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">upload_and_unpack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'test -f /opt/mydata/myfile'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> warn</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">failed</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'myfiles.tgz'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/opt/mydata'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'tar -C /opt/mydata -xzvf /opt/mydata/myfiles.tgz'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 如果用户名不同的话可以用这种方式：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Group('user@host1', 'user2@host2', 'user3@host3', connect_kwargs={'password': '123456'})</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> connection </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> Group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'host1'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'host2'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'host3'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'root'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">'password'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'123456'</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    upload_and_unpack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="上传文件">上传文件<a class="hash-link" href="#上传文件" title="Direct link to heading">​</a></h4><p>fabric只能上传单个文件，如果想上传多个文件，有两种方案：本地打包之后上传，然后在远程服务器执行解压操作，或者通过遍历文件夹循环调用get上传，本地目录遍历用到了<code>pathlib2.Path</code>中的<code>rglob</code>方法。注意：远程路径如果不存在会报错。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">@</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">host</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"password"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sftp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rglob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'[!.]*'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 过滤掉以点开头的文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 拼接远程路径，relative_to获取相对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            remote </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 目标机器上不存在此路径需要创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 上传单个文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> remote_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 若远程路径是一个目录，就将本地文件名作为默认名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    判断目标机器路径是否存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param is_mkdir: 若为True，则会创建此路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> is_mkdir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> PermissionError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"sudo mkdir </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pty</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watchers</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sudopass</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="下载文件">下载文件<a class="hash-link" href="#下载文件" title="Direct link to heading">​</a></h4><p>fabric下载文件的方法和paramiko有略微细节差异，fabric下载文件时若本地路径不存在会自动创建，并且本地路径如果没提供文件名，会以远程文件名作为默认值，但前提是本地路径以<code>/</code>结尾，如果没有<code>/</code>，将以路径最后一部分作为文件名。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">traverse_remote_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    files_attr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listdir_attr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> file_attr </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> files_attr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'.'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 过滤以点开头的目录或文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 此处的local和remote可能为目录，也可能为文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        local</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 若为目录，则递归调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># st_mode判断文件类型（目录还是文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">yield</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> traverse_remote_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">yield</span><span class="token plain"> remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">remote_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    检查一个远程路径是否为目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    attr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> remote_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filepaths </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> traverse_remote_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> filepath </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> filepaths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            relpath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> filepath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">relpath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"文件不存在"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">suffix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 如果本地路径没有提供文件名，默认为远程文件名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"文件不存在"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fab命令">fab命令<a class="hash-link" href="#fab命令" title="Direct link to heading">​</a></h4><p>fab --help查看具体命令含义，这里列举的是fabric2的常用fab命令参数，和fabric1版本有很大不同。具体请参考<a href="https://www.fabfile.org/upgrading.html#upgrading" target="_blank" rel="noopener noreferrer">Upgrading from 1.x — Fabric documentation (fabfile.org)</a></p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>-l</td><td>列举任务列表（被@task装饰的函数才能被识别）</td></tr><tr><td>-c</td><td>从指定的任务模块名加载（默认为fabfile.py）</td></tr><tr><td>-r</td><td>从指定的根目录路径查找任务模块</td></tr><tr><td>-f</td><td>指定配置文件路径</td></tr><tr><td>-H</td><td>指定目标主机，多个主机逗号隔开</td></tr><tr><td>-V</td><td>显示Fabric、Paramiko、Invoke版本</td></tr><tr><td>-w</td><td>和warn=True效果一样，出现异常不会结束</td></tr></tbody></table><p><strong>示例</strong>  </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token decorator annotation punctuation" style="color:#393A34">@task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">task1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"hello world, today is </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">param</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">task2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 如果入口文件为fabfile.py，可以直接执行 fab -H localhost task2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其中被<code>@task</code>装饰的函数必须有一个参数，否则会报：<code>TypeError: Tasks must have an initial Context argument!</code>。<br>
<!-- -->假如入口文件不是fabfile.py且不指定的话，会报<code>Can't find any collection named 'fabfile'!</code>，fabric2中通过-c来指定加载的任务列表，<strong>官方API文档也说明了：--collection后面的参数是模块名而不是具体文件名</strong>。</p><p>比如上述的task函数存在于服务器<code>/home/yuqiuwen/PythonProjects/zhongxin/fab.py</code>路径下。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""通过本地调用远程服务器的脚本"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">now </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># fabric2中通过--参数名的形式来传递变量值，如果参数有空格，要用引号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"fab -c /home/yuqiuwen/PythonProjects/zhongxin/fab task1 --param '</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">now</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">'"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 或者 -r指定查找目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># conn.run(f"fab -r /home/yuqiuwen/PythonProjects/zhongxin/ -c fab task1 --param '{now}'")</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> output</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hello world</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> today </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2022</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">10</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">23</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">"""通过本地调用本地的脚本"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> invoke </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># windows环境下貌似给now参数加引号也会报错，不知道什么原因</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"fab -c 本地脚本路径 task1 --param '</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">now</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">'"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> out_stream</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err_stream</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>除此之外，还可以通过fab -l -F指定显示格式：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> fab -r ./ -c fab  -l -F json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"name"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"fab"</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">"help"</span><span class="token builtin class-name">:</span><span class="token plain"> null, </span><span class="token string" style="color:#e3116c">"default"</span><span class="token builtin class-name">:</span><span class="token plain"> null, </span><span class="token string" style="color:#e3116c">"tasks"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"name"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"task1"</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">"help"</span><span class="token builtin class-name">:</span><span class="token plain"> null, </span><span class="token string" style="color:#e3116c">"aliases"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">, </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"name"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"task2"</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">"help"</span><span class="token builtin class-name">:</span><span class="token plain"> null, </span><span class="token string" style="color:#e3116c">"aliases"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">"collections"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="封装-1">封装<a class="hash-link" href="#封装-1" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">FabConnection</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mylogger</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mylogger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 密钥文件方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># connect_kwargs={"key_filename": "/home/myuser/.ssh/private.key"},</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Connection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">@</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_host</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_port</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> connect_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"password"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_password</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> conn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sftp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remote_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filepaths </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">traverse_remote_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> filepath </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> filepaths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                relpath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> filepath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">relpath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filepath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"download </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">relpath</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"FileNotFoundError: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">filepath</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> -&gt; </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">local</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'error'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">suffix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 如果本地路径没有提供文件名，默认为远程文件名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                local_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"download </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"FileNotFoundError: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> -&gt; </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">local_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'error'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        local_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> path </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rglob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'[!.]*'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># 拼接远程路径，relative_to获取相对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relative_to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 目标机器上不存在此路径需要创建</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"upload </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 上传单个文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remote_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 若远程路径是一个目录，就将本地文件名作为默认名字</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">local_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"upload the file </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">local_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> successful!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">traverse_remote_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        files_attr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">listdir_attr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> file_attr </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> files_attr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> filename</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'.'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 过滤以点开头的目录或文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 此处的local和remote可能为目录，也可能为文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> local_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">joinpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 若为目录，则递归调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># st_mode判断文件类型（目录还是文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">yield</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">traverse_remote_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> local</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">yield</span><span class="token plain"> remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">writer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> level</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        自定义写入文件方法，同时支持logger或文件对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param message:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param level:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Logger</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> level </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'error'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">warning</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"\n"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        由于windows和linux操作系统不同，路径格式会出现不统一的情况，反斜杠不处理的话会出现很多问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        替换windows路径中的\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">isinstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'\\'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">remote_isdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        检查一个远程路径是否为目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        attr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">S_ISDIR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">st_mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_remote_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> remote_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_mkdir</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        判断目标机器路径是否存在</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param remote_path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param is_mkdir: 若为True，则会创建此路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remote_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lstat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> FileNotFoundError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> is_mkdir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_sftp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">remote_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> PermissionError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f"sudo mkdir </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">remote_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pty</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watchers</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sudo_pass</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo_pass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sudopass </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Responder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">fr'[sudo] password for </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_user</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">:'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> response</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">f'</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_password</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\n'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> sudopass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cmd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hide</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> warn</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pty</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watchers</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># hide=True控制台不打印运行信息，当out_stream不为空时，hide参数无效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             hide</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hide</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             warn</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">warn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             pty</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             out_stream</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             err_stream</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mylogger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             watchers</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">watchers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"utf8"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stdout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stderr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stdout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stderr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stdout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stderr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">conn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_conn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="Paramiko" term="Paramiko"/>
        <category label="Fabric" term="Fabric"/>
        <category label="DevOps" term="DevOps"/>
        <category label="Python" term="Python"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux Commands]]></title>
        <id>/2022/10/27/Linux commands/Linux命令</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/10/27/Linux commands/Linux命令"/>
        <updated>2022-10-27T12:47:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote><p><a href="https://man.niaoge.com/" target="_blank" rel="noopener noreferrer">https://man.niaoge.com/</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用命令">常用命令<a class="hash-link" href="#常用命令" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="df-查看磁盘占用情况">df 查看磁盘占用情况<a class="hash-link" href="#df-查看磁盘占用情况" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">df</span><span class="token plain"> -h   以易读格式显示</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="du-查看文件占用磁盘大小">du 查看文件占用磁盘大小<a class="hash-link" href="#du-查看文件占用磁盘大小" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -sh 目录名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">du</span><span class="token plain"> -sh * </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> -nr</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">head</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#查看文件大小并排序</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="top-查看cpu占用率">top 查看CPU占用率<a class="hash-link" href="#top-查看cpu占用率" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">top</span><span class="token plain"> -u 用户名  查看某用户的cpu使用情况</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="free-查看内存使用">free 查看内存使用<a class="hash-link" href="#free-查看内存使用" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">free</span><span class="token plain"> -m 以MB为单位显示内存使用情况</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sort-排序">sort 排序<a class="hash-link" href="#sort-排序" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-f  忽略大小写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-b  忽略最前面的空格符</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-M  以月份名字排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-n  以纯数字排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-r  反向排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-u  重复数据只显示其中一行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t  分隔符，默认 tab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-k  以某个分隔区间排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/passwd </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> -t </span><span class="token string" style="color:#e3116c">':'</span><span class="token plain"> -k </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> -n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="chmod-修改权限">chmod 修改权限<a class="hash-link" href="#chmod-修改权限" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> -R </span><span class="token number" style="color:#36acaa">777</span><span class="token plain"> /test  更改test目录下所有文件权限为777</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="chown-更改所有者">chown 更改所有者<a class="hash-link" href="#chown-更改所有者" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chown</span><span class="token plain"> yuqiuwen test.sh 修改test.sh文件所有者为yuqiuwen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uname-显示系统信息">uname 显示系统信息<a class="hash-link" href="#uname-显示系统信息" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">uname</span><span class="token plain"> -a    显示系统详细信息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tar-解压缩">tar 解压缩<a class="hash-link" href="#tar-解压缩" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxvf   解压文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -cvf    打包文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="grep">grep<a class="hash-link" href="#grep" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-a  将binary文件以text文件的方式搜寻数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-c  计算找到所搜寻字符串的次数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i  忽略大小写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-n  输出行号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v  反向选择</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--color</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">auto    关键词部分加上颜色</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">正则匹配</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">^ 行的开始 如：</span><span class="token string" style="color:#e3116c">'^grep'</span><span class="token plain">匹配所有以grep开头的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ 行的结束 如：</span><span class="token string" style="color:#e3116c">'grep$'</span><span class="token plain">匹配所有以grep结尾的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">.</span><span class="token plain"> 匹配一个非换行符的字符 如：</span><span class="token string" style="color:#e3116c">'gr.p'</span><span class="token plain">匹配gr后接一个任意字符，然后是p。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 匹配零个或多个先前字符 如：</span><span class="token string" style="color:#e3116c">'*grep'</span><span class="token plain">匹配所有一个或多个空格后紧跟grep的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.* 一起用代表任意字符。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">?  匹配其前面的字符0次或者1次；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">+  匹配其前面的字符至少1次；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> 匹配一个指定范围内的字符，如</span><span class="token string" style="color:#e3116c">'[Gg]rep'</span><span class="token plain">匹配Grep和grep。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">^</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> 匹配一个不在指定范围内的字符，如：</span><span class="token string" style="color:#e3116c">'[^A-FH-Z]rep'</span><span class="token plain">匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 标记匹配字符，如</span><span class="token string" style="color:#e3116c">'\(love\)'</span><span class="token plain">，love被标记为1。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> 锚定单词的开始，如:</span><span class="token string" style="color:#e3116c">'\&lt;grep'</span><span class="token plain">匹配包含以grep开头的单词的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 锚定单词的结束，如</span><span class="token string" style="color:#e3116c">'grep\&gt;'</span><span class="token plain">匹配包含以grep结尾的单词的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 重复字符x，m次，如：</span><span class="token string" style="color:#e3116c">'0\{5\}'</span><span class="token plain">匹配包含5个o的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">m,</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 重复字符x,至少m次，如：</span><span class="token string" style="color:#e3116c">'o\{5,\}'</span><span class="token plain">匹配至少有5个o的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">m,n</span><span class="token punctuation" style="color:#393A34">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 重复字符x，至少m次，不多于n次，如：</span><span class="token string" style="color:#e3116c">'o\{5,10\}'</span><span class="token plain">匹配5--10个o的行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">w 匹配文字和数字字符，也就是</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">A-Za-z0-9</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">，如：</span><span class="token string" style="color:#e3116c">'G\w*p'</span><span class="token plain">匹配以G后跟零个或多个文字或数字字符，然后是p。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">W </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">w的反置形式，匹配一个或多个非单词字符，如点号句号等。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">b 单词锁定符，如: </span><span class="token string" style="color:#e3116c">'\bgrep\b'</span><span class="token plain">只匹配grep。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="awk">awk<a class="hash-link" href="#awk" title="Direct link to heading">​</a></h4><p><code>必须外层用单引号，内层双引号</code></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NF  分割后当前行一共有多少字段</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NR  行数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FS  字段分隔符，默认空格</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FS 字段分隔符（默认是任何空格）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OFS 输出字段分隔符（默认值是一个空格</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RS 记录分隔符（默认是一个换行符）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ORS 输出记录分隔符（默认值是一个换行符）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARGC 命令行参数的数目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARGV 包含命令行参数的数组</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-F  指定分割符，默认空格</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-f  从脚本文件中读取</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v  赋值一个用户定义变量，将外部变量传递给awk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">option</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> pattern </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'END{print NR}'</span><span class="token plain"> test.log                </span><span class="token comment" style="color:#999988;font-style:italic"># 统计文件行数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'NR==3,NR==6{print NR,$0}'</span><span class="token plain"> test.log     </span><span class="token comment" style="color:#999988;font-style:italic"># 查看第3到第6行，$0代表整行,NR输出行号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'{print $1,$(NF-1)}'</span><span class="token plain"> test.log           </span><span class="token comment" style="color:#999988;font-style:italic"># 查看第一列和倒数第二列</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ifconfig</span><span class="token plain"> eth0 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'NR==2{print $2}'</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># 取ifconfig eth0中第二行第二列的ip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> -F </span><span class="token string" style="color:#e3116c">":"</span><span class="token plain"> -v </span><span class="token assign-left variable" style="color:#36acaa">OFS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"</span><span class="token string entity" style="color:#36acaa">\t</span><span class="token string" style="color:#e3116c">"</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'NR==3,NR==6{print $1,$NF}'</span><span class="token plain"> test.log </span><span class="token comment" style="color:#999988;font-style:italic"># 指定输出分隔符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> -v </span><span class="token assign-left variable" style="color:#36acaa">ORS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">" "</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'NR==3,NR==6{print NR,$0}'</span><span class="token plain"> test.log  </span><span class="token comment" style="color:#999988;font-style:italic"># 以空格作为换行标志</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'BEGIN{print ARGV[0],ARGV[1]}'</span><span class="token plain"> test.log     </span><span class="token comment" style="color:#999988;font-style:italic"># 访问数组中的第1、2个值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> -v </span><span class="token assign-left variable" style="color:#36acaa">myname</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"哈哈哈"</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'BEGIN{print myname}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sed">sed<a class="hash-link" href="#sed" title="Direct link to heading">​</a></h4><p> health_center.log日志文件如下：</p><p><img loading="lazy" alt="image-20220717222421979" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABDYAAACECAYAAABrnqshAAAgAElEQVR4nO3dXXLkKJSGYdVE7yLX5V5kezF21123+zbXkXNRoRlM8fMdOCAkvU+EosqZJCBAfwiJHz9//nz9888/29vb2/Z8Precx+Px7e8wbO27Utg9fOrzVJw9adXyYQ3nQSmb1rzkflsqs9j+O6+2sX8f5yeXP0t+RpVP7fP9u1RZlsoml4YSTxzf6HYKAAAAAKv6EXZsAAAAAAAAnMkfR2cAGKE06mPHKAcAAAAAOD86NnBJdFoAAAAAwD38z9EZAAAAAAAAaEXHBgAAAAAAOC06NgAAAAAAwGll37GRmtqyNLVk/J1lGtNQKa3cFJilKTQt8aTynZqK1ms6WGVKz5lhFNZpSEenNXu99rBe7/BQpzpevQxr23MqvNJ2PPKzyvtWRtRFS9uw1pU13lXyg++YGhoAAFzaz58/X+/v769t274tz+dT+qznN7Xwud+O+jz1tzX/6qKU1cwwXnnuLZfV16vWJqzpKttUa3pnLEPv9uRVVx517V0Xo9vGzPIelZ8VlqPXQzmmtuR5pfViGVdelDMLCwsLy1mWrkdRalNq7ncTlak3W9Pwiid153PknS2vuJV4Zt6h8xzNsJrH43GakRrbNrfeU6OaUunXyvDKbccjzO7K2xn8XLWdXHW9VkM5AwDOZPnpXnOPgxwVD1Azc8g3w8v7KI+shGV8p/K2PnY2s72r+YnzVvvbklaqszz3WKM13x6Ux71Kj1nm8mwJo24zlnVPrVetrZZubFgeNa2tl1Jmav1aylDJszUfnC8BAM7G1LERdg7k/t2Ff5+5U2FWnr3KZ8ZIADUfu5lleAaz66hUF6kRVR7vWvB6X4NHfkrx5y7GlL97029tA577ilBtxFpqHx+GG7n9edVX3N5T7V9Nq1Y3tbAj1To1cnlT8qyGeT6fv6UV/r5FaSRYLZy1Pac+y61X7Vyn5RyolpYlz6nflpz1fA0AcG+Hj9hQLqqOGLXhfbFXS2uFi6WUlnyVOrk801IuUo5QuzPp2amhhKvVhXJRMFstj95p7H+Xtnuv9rVCp8a26Rd6ahy95WPtaBlZX0payu960mxVayMzt221PtRjcqmzRs1HKS613mvlq+xnVbXftbbVnBX2/wAAtBjasWE5EVROxmZ2bsy627ZCp8a2+Z7sWk/ERqa1otQd4tSJdy3Mis6Sz6N4dGzNaBtKm/SmjIaYRblQtl7wznDV7U8dgRJ+1hrX2Xjm+artBwBwD+aOjbhjwHJ3Qhm6eqeD6iqdGpjHY8g05kkNpfeIqzXMHdpGaTj/zDy0hDmyPq7YFrbN/7G8GaNZwjY8ul5mlQ0AAKvrmhXFW20IpddQ8NwQ5tl3BOnU8LXKeu7PRR+dlnce9rRK6fWW/5F35VP7hH2/0LtuV91OwzLzrLvU/jj1dymMkh9124nT8nzkJpeGNc7RIwtbwqhlllv30Z0aLW3MW28arXmO6+Zs+x4AAGI/fv78+frnn3+2t7e3b19Yhn7m7mrmnteOT1qV57pLI0JKQ4JTFyu5eGrhYz0nA8p6KvlRy0tJS6GUj6UMPdPqvfC0pKWEUy5kS/EoYWppedaXkpZlnXPpebQfa12p6bRu8yO209a237PvKe0zw/16a35S5VE6jpTiK90tV/KsbnuhnrpqKTsL9RicC6/EGX+ntoneda+11doNk1xcte+UMlT3iT1pqfsCr+MlAAAraurYwC+UEe5i9EXXinIX8Xcqg7Ojvo5D2QMAgJkOnxUFwPq4QAEAAACwqmLHxh3v0ipmvgcAwDFy7+LB+nh/wLH28uccAgAAzJLt2OBEJI+yAe6Bbf2cqLdjUf4AAGC2pWZFAQAAAAAAsKBjAwAAAAAAnFb2UZTUtGCl52Xj71qmyqullXveXZnuVYknle/alLCzpxgdGUZhnRp0dFpHTS07Oq0w7AptrCW9I6cmXnFawxF1YW0f1v3hDJapOI/AeyIAAABO4OfPn6/39/fXtm3flufzKX3W85ta+NxvR32e+tuaf3VRympmGK8895bLqut1RBnW2t9K66X8rjU/3u3oiGVEXbS2D+t+ckYZj9qPjKy/K6bJwsLCwsLCwnLWpetRlNrsIPvdxJ5ZRLxmIFHzGhp5h84rbiWemXcarzoDwcz62sP1prlavadGcFyxraR4b6feI3lWdJe2kXKnbQMAAMDDH6/X6+g8FOUeBzkqHqBm5tB1hsn3UR5ZCcv4KuWt7g/VR4s8H/0p5UvJj/IYolKXal17twmOUwAAAHbZd2ykhCfDuX934d9n7lSYlWev8lEvVkav1xHvOJh5F9rzjvmRdZEaUTVjvdSL1978lNKP465dGHtewPZspzO331L5hOXiVSa9+YnbX6otPZ/Pb3lOHbvCeM+0XwEAALgrU8fGCMpFzBGjNmZcXIVprXCxlNKSr1Inl2dayoXMCLVytj520FP/vWml0m7NjxK3Ja+9+bGmVevk8Wpfq3Rq1PaHSvl4qnUkeObH8thULR1GagAAABxvaMeGctKp3vWb3bnhfTcyZ4VOjW3z7bixXDSMTssbFx95arncuQw9RlTF+9XejrHV6mOlvMyyWh0AAACcjbljIz4Rrj2GEqpdWN/t5G6VTg1oKMP7iR9Z8IqrNYzX6BqsgzoEAADo1zUrijdlyK/HUOjSs9ez0Knhb+R6WuLen+HPfefpiLR64rWORhgpNfIh9Hg8ku9kaE1r1e00t++rlU/OqDq05qe3nVrSaU3rLvtmAACA0X78/fffr3///Xd7e3v79kXt5X65ERq5lweW3oVgff+C8s6G3F1W5f0CufCxnpNS9TnyWn7U8lLSUijl4/V+EmtavReepbQsZRi/fNCaVi69WWnV4upNS7nAV/JjiaOUH0s6Pe8fSenZTlvafs/+UO2QspaPdZ9bCxe207jNqsehWjy5cAAAADhGU8cGfqGMcBd3vHjLXejfqQwAAACAMzh8VhQA6+NiHgAAAMCqih0bd7xLq5j5HgAAx8i9iwcAAADAWrIdG5zA51E2wD2wrQMAAADrW2pWFAAAAAAAAAs6NgAAAAAAwGn98Xq9kl+kpsGzTHlXm5avNrVhKq3c8+7KdK9KPKl890yBWOM1FedqU7DG4WZN93qltOLwvY9E1KZvtuSnlEYpnpZphz2mV13lcZIRbcxaPtb94QyldxatUHe8awoAAOAEPj8/X+/v769t274tz+dT+qznN7Xwud+O+jz1tzX/6qKU1cwwXnnuLZdV12t2GYbf9bazUhwrl2Hvureuy4hlpfKx7idnlPGo/cjI+rtimiwsLCwsLCwsZ126HkWpzQ6y303smUXEawYSNa+hkXfovOJW4pl5p9FjdMGKZtbXzqMsH49HMY6ZdZUawVEaRXKlduS9nfaWzxlmdrpS/Vtdrf0DAACMVpzudQW5x0GOigeomTl0nWHyfZRHVsIyvkp5q/vDUvmE33k++qM+NpXLj/IYolKXal17twmOUwAAAHamjo3wZDj37y78+8ydCrPy7FU+6sXK6PU64h0HM+5Ce61XLZ7Z28vs+jp6tEbtolf5uzf91u10lfIJy8WrTHrzE7fjOM79szDPqWNXGO/M0S1nPU4CAAAc7fARG6kTz9gRozaUfHlZoVMjd/Le+uLGXCeXZ1rKhYy30nqlwrTEY2kPIx6ROfLiambaqUfPStu9V/tapVOjtj9UysdTrSPBMz+1MrTUOyM1AAAAjje0Y0M56VTv+s3u3PC+G5mzQqfGtvl23FguGkandVbxtnOli57autx53ZUwnuWz4mi6lfIyy2p1AAAAcDbmjo34RLj2GEqodmF9t5O7VTo1sJbUuwPuUnerrXv8yIJXXK1hVisf9KMOAQAA+nXNiuJNGfLrMRS69Oz1LHRq+Bu5npa2sT/D3xtPb1rq761p9aa3SltMjXwIPR6P5DsZWtNadTvN7ftq5ZMzaj9qzY/XdqGk05rWStsDAADAmf34/Px8fX19bW9vb9++sLzcL3dXM/dehdS7EVLhQtZ3NuTustZGlljerdFzUqo+R17Lj1peSloKpXy83k9iTav3wtOSVim9+OWDrfHEYUt5UtNKhZ25XpZtpqdulfVuSaN1mx+xnbaUT8/+sKedtuapJZ2wncZtVj0O1eLJhQMAAMAxmjo28AtlhLu448Vb7kL/TmUAAAAAnMHhs6IAWB8X8wAAAABWVezYuONdWsXMd3EAOEbuXTwAAAAA1pLt2OAEPo+yAe6BbR0AAABY31KzogAAAAAAAFjQsQEAAAAAAE4r+yhKaho8y5R36jSVsVJauefdlelelXhS+e6ZArHGa4rR1aZgjcPNmu51dFpx+FFpeU7PG8bZsh1a4q/F0zKdqUcZr/I4yYj2bC0j6/5whtI7i1aoO941BQAAcAKfn5+v9/f317Zt35bn8yl91vObWvjcb0d9nvrbmn91UcpqZhivPPeWy8rrpbaLVdYrzKtl2xhVhpb201PGHuXmvYyo99Yysu4nZ5TxqP3IyPq7YposLCwsLCwsLGdduh5Fqc0Ost9N7JlFxGsGEjWvoZF36LziVuKZeaex5y77GcxYv9QIjtY0H49H8bdeaSnxqGnV8nxG3ttpbzs8w8xOV2sDFlffjwIAAHgrTve6gtzjIEfFA9TMHLrOMPk+yiMrYRlfpbzV/WGpfMLvPB/9KeVLyY/yGKJSl2pde7cJjlMAAAB2po6N8GQ49+8u/PvMnQqz8uxVPurFyuj1OuIdB6PvQh/RhmemebU2WEt/2/IXvcrfvem3ltHM7bdUPmG5eJVJb37i/U4c5/5ZmOfUsSuMd+bolqO3CwAAgLM6fMRG6sQzdsSoDSVfXla4oMydvLfkq9TJ5ZmWciHjxVJHMy9MuAhql3pUprTde7WvVTo1avtDpXw81ToSPPNTK0NLvTNSAwAA4HhDOzaUk071rt/szg3vu5E5K3RqbJvvBbLlomF0Wp7i9nyWtjEzrTOM1jiSR/l4tsMVR9OtlJdZVqsDAACAszF3bMQnwrXHUEK1C+u7ndxxMXkeqef5Kc/rix9Z8IqrNQzt8HqoQwAAgH5ds6J4U4b8egyFLj17PQudGv5WWc/9Gf7eONRHpmanlUvvbG0xNfIh9Hg8ku9kaE1r1bLJ7ftq5ZMz8nEwSzo9+Qh/q6TTmtZK2wMAAMCZ/fj8/Hx9fX1tb29v374onXCVRmjkXhpZeheC9f0LyjsbcndZayNLLO/W6DkpVZ8jr+VHLS8lLYVSPl7vJ7Gm1XvhWUtLTTN++WBLWtZ3wahppcJ6puVx8a7kuUaNw9p+Wrf5EdtpS9vv2R/2bBOteWpJJ2yncZtVj0O1eHLhAAAAcIymjg38QhnhLu548Za70L9TGQAAAABncPisKADWx8U8AAAAgFUVOzbueJdWMfNdHACOkXsXDwAAAIC1ZDs2OIHPo2yAe2BbBwAAANa31KwoAAAAAAAAFnRsAAAAAACA08o+ipKaBs8y5Z06JWaslFbueXdlulclnlS+e6ZArPGaOnW1KVjjcLOmex2dVhx+VFpXnZ63ZTpTj7ys8jjJiLqwlpF1fzhD6Z1FK9Qd75oCAAA4gc/Pz9f7+/tr27Zvy/P5lD7r+U0tfO63oz5P/W3Nv7ooZTUzjFeee8tl5fVS28WZ1mvFtPbyHdWOjlhG1EVrGVn3kzPKeNR+ZGT9XTFNFhYWFhYWFpazLl2PotRmB9nvJvbMIuI1A4ma19DIO3RecSvxzLzT2HOX/Qx616+lvq5Spup6PR6PS6xvyHs77W0TZ5jZ6WptwOIq2zwAAMAsxeleV5B7HOSoeICamUPXGSbfR3lkJSzjq5S3uj8slU/4neejP6V8KflRHkNU6lKta+82wXEKAADAztSxEZ4M5/7dhX+fuVNhVp69yke9WBm9Xke842D0XWjPclPLZ3RdpUZUzeqQOXJ/ULvoVf7uTb91O525/ZbKJywXrzLpzU+8XaXa9vP5/Jbn1LErjHfm6JajtwsAAICzOnzEhnJRdcSojZkXeyt0auRO3ltfWJnr5PJMS7mQ8WKpI+tjBz31P+Lu+F0urlKPnpW2e6/2tUqnRm1/qJSPp1pHgmd+amVoqXdGagAAABxvaMeGctKp3vWb3bnhfTcyZ4VOjW3z7bixXDSMTstT3J7P0jZWc9X1UniMqPJshyuOplspL7OsVgcAAABnY+7YiE+Ea4+hhGoX1nc7uVulUwN1dx3VcHfxIwtecbWGoR1eD3UIAADQr2tWFG/KkF+PodClZ69noVPD3yrruT/Dn/tOjUN9ZGpWu93T6klvlTratvTIh9Dj8Ui+k6E1rVW309y+r1Y+OSMfB7Ok09tOLem0prXS9gAAAHBmPz4/P19fX1/b29vbty9KJ1ylERq5lyKW3oVgff+C8s6G3F3W2sgSy7s1ek5K1efIa/lRy0tJS6GUj9f7Saxp9V541tJS04xfPtiSlvVdML1p1cJ4pqVc4MesdavGYW0/rdv8iO20pe337A97tonWPLWkE7bTuM2qx6FaPLlwAAAAOEZTxwZ+oYxwF3e8eMtd6N+pDAAAAIAzOHxWFADr42IeAAAAwKqKHRt3vEurmPkuDgDHyL2LBwAAAMBash0bnMDnUTbAPbCtAwAAAOtbalYUAAAAAAAACzo2AAAAAADAaWUfRbFOxxqG857aUJmSrzceC68pNFebOjUON2ua1tFpxeE9Hi9QpgpW85SLvxaH5/sfLPU+et2vbKVZVWa1MY/pez31tvVSnJb1ajnGtkq9LyaVdo06nXvt89T3YT5L+Y3DW/J9RLs727vKVtpHXc2ItjByH3V23tPdjyq71v0ngITPz8/X+/v7a9u2b8vz+fzts9J38Wejwii/acm/uhy57q159yiz2eXjuV7hd17rOKr8Zpeh9Xej1/2sy9nWf3YbW7GMvPPjtQ8LP1eOh5Zjpked1vLc+ne8Pi2/n1nfZ0n7ynk9Y9nQDo9b155j3OiyOypdFparLW6PoozoTUz1kKp3ckbxWk8lnpk9tFe/SzNypIa3Vev96m0EWE1te3s8HlKY2VqP3eFvVlwvABghtX/knAuwK073qmDDw1XMHKp5x2GhqtLwy/g7a9hamNR3YTql31vyktObnzOqrZdlmK46rFjNUy2OK9XDKkaXZa3OanVvGbpe+r6WlmVfp6bXQ93/KOWT6uBSHm9Mbf/K/rC3nNX9vIVnGbbuo+LvettQzzE3V5+W/N+Fep6Q+tsSv1IXpbZqOXa35qkU1hI/rqO5Y+PIURMrmTkSYEYn0hE7hNFtaXYdhWa996KXctI8et1LB839s/hkKXXypBx8LWmF8afC7J+X1jd34e2RH6+27RGmRW29cifIqc9TJ3kt5WOtr56yOeOx1CPPysW6t9K2o2yDqXzW4kmVlbq975+n0hhVXrl4lf1h6vdq3pX9Wmq/UMqPVzmP2N/2lGGc71watXCpbbBl2/Y45sb1Gf/fKvW7nrqbsX8Kj2mlTiHlPCGOsyUfSl2U2qrl2G3NU5zW/necp7t2ft1Zc8eGckKn7FS8djyeOzBLmkd3auTKvyVftRMQr7S8DqYKSx2VwinxWDoElDzNOpFV6t1z3S3x5A6kpYN/Lp6WtOJwI9tqS3560qptgzO30z3+0ndKu5zZSeDVLiz7dQ8ex0qvPM8+AbXux1L1qqyn0jbU7T0XthZmlNq6eW4HSphafrzL2cOoMrSm48nrmFvq4KnFF8odH1a/wK1d9Fvas0decunuammrx+6WPCnfj273WM8fr9dre71ezRHUTka3rdyIlTCWfMzaca3QqbFtvgfenoOId1qeUicNrR0/HvGsRlmHWeuuHoBaevxb07qq1guJVR3d0XEWq9bp7GN4Sq29eLaxK7ZNpXx6OpBXbbue2I/hLFZsq0enj+N1v2NDoVyEeFyoeMZTskqnBuq8euzP2PPvZea6q/HWRmx4poU1KCN1cB4r1uHM/Ky27jPlRvzU7hCv2GYAlM08drN/gNusKOpwJEuY3BA9ZWTBCo829MZzl4P4Kuu5P7/X83uPtLzb7p7WzOHtXvGk8h22l9y2rsZTCxOHU9ezpTxGDUdW02Z/ZNPSLu5CPXavVm7qPsESj7qf9zj+zCjP3nav/MZ6LC39buR+tVS3pXRm7Tus6Sgjlnras3ddzGrzqhn5sZbhSuUzg/d+Fefz4+Pj4/X19bX9+eef377IncSWGkg4lDT+LPw81YGRCpNKs3RiVIsn/K71BD23/srwS2s8alqKWn7UMCPS8nycoPbMpZIn5QIvF4+an1panvXlkVYqbOu611i295Z9gyVMeJehFI8l37X0lDhq667wKB9rOqm4rOtV2n+n2mAcXqkLa32pbSSXRu1455Fnj+3TkufS5/t3qQ6Q1rqw5Ltnv6G0sTBcqW147DNS6Y2i7A9nboPq/nlEOSvptbSJVJ5ay1BN05qvnuOFuq+w5ruWVi6c13mLkh/197X8WNtg77GpFJe6P9zDep0X9p774brMHRtXcOV1A0IzTnavjH0FAPyy2v5wtfwAyGN7xQxT3rEB4BgcRAAolOG67E8AAFZ0amCWYsfG1e72KiduALBt/7+/uNp+EEihfaNktf3havkB8Du2T8yW7di4YiO84joBGIP9BQD8str+cLX8APgd2ylmc5sVBQAAAAAAYDY6NgAAAAAAwGl1vzz0qs9PWaZ37J0e6mplt4oRbVOtrytuF2dqqy1TNraEqaWnTp1Xev+PZcrPGs/pOlN5Cqd6s7yM0jJlHAAAAPCbj4+P119//fXatq15eT6fh/x29KLkrTf/K6//0YtH2RxZvler2zPWRyk9r+07DhP+Xft9LWwp7tbyzP3GmlYuv/vn6u9r8bCwsLCwsLCwsLDUFh5FAXBJlpEDvWmESmla81IbsTBq/azrFYZJ/b8W1vIdAAAAEPtj27btx48f3z6sDT8Ow7SegIZpWIY7e6RXimfWIyg1qWHqXkPqU+FqYdT8xHGV0okvlFLD0j3qPozHowxb20b8nec2lBu6rzwiYanbVrO397M782MYXvk+6/oDAABgvm/v2Ehd1NQuxlrvFoa/t3QytF54pS74lPUs5cfjTmluPfaLzDCfqXVX1it38Virg/BzJT9KfYVhc3lV2oZFbxnG+c6lUQuX6shpaUOlclbC7GUc1kH8/5Seupi9vafa7hEXyvE7J1L/xvmewWvf5dEJ5RUPAAAA7uu3l4cqw4/ji8KRJ+Mtw6FTlN8o6zVz3ZX0ejuWrGFq+bHUV67zwNuoMrSm40kpu5Zt+Whe2/tZeXaaKumEWtL06ITyjAcAAAD39FvHxhUvIo68MzqSsl49HTR3uLC4atvAuevxjNue10gr7xFbAAAAuL7qiA2cX+0xEzUMcAbKo1UzxY+dHPlojKcRj4oBAAAALX6bFSU1TL80dN/7rmjtMYGRd2GV9Rq57iPSU35jibeWn5H1VaqTUjqz6syaTi1Mab2s26map9lWy7O13nKPNnldqCttZESngLpeXvVj3Qet2JYBAABwnB8fHx+v//77b3t7e/u/D5UXuYXPQfc+E11Lz+PFcrlHNHIn6qX18lz3Wp5raSjrpTxmooZR1rlUX9ZHXqxtMff5jDJU07Tmq6Wca2FyF+ej23QpT+r3LXHXOiNCynsuSu1aGS2itC8lP6PKp/b5/p3ynp1avtV44vgY5QEAAIBdsmMDa1htiPZq+QEAAAAA4Ld3bAAAzkd5PIOOSQAAAFwRHRuL2i9SVhl2vVp+AHzHNgkAAIC7omNjUatdpKyWHwAAAAAAti0xKwoAAAAAAMBZ0LEBAAAAAABO649t27bX6/XbF6lp/ixTU1qmdAyV0spNB1iaTtASTyrfpSlh499aKdMbzgyjsE7JODqt2esVhvd4PKfWvix5ysVfi8OrDOO4jmyrXtuopxHr3tIOPdtXKt5V8oPveD8Scka0DXXfRLsEALj5+Ph4/fXXX69t274tz+dT+qznN7Xwud+O+jz1tzX/6qKU1cwwXnnuLZeV10ttF5Z0R5Xf7DJUfjc7P55luWJd9LTDmdvtkflZYTl6PZRjakueV1qvuy9Hbrur5H/l5errx8LCwrLK0vUoSm16wb3HXpmGsDUNr3hSdxdG3kHwiluJZ+adEK+RDKsaOVLDG/W+Du/tlPKG4qrt5KrrheuhrQLAPMvPipJ7HOSoeICamUNrGcbbR3lkJSzjO5W39bGzme1dzU+ct9rflrRSneW5xxqt+fZQOt7l0lLybAmjbjOWdY/XS02r5VGwVDi13pV1L7WL+LtUWGsbU3iWYWudW7ZTRaos1UeMc/Wptus7HCsAYBWmjo3wgJD7dxf+feZOhVl5njkSYEZdeJ1ktaY5Kv6ZdRQa+d4LT6W0UqO3WsJ4SJ2U9lwEt6Tfup16tsNQbcRa6YIyFZ8nr/pKXSDG+VbTqtVNLexItU6NXN6UPKthns/nb2mFv2+RG1mppKW051qdqvVey4/SxsKwubx6t7HeMozznUujFk7ZThWlclbC7GUc1kH8/1LaZzznBYAzO3zEhnIR49UxYolnxsVVmNYKF0spLfmqnTB6peV18qOw1FHvHRzLxaySJ+Xk3YNS7y0XF6PybO1U8WpfK3RqbJvecaHG0Vs+1o6WkfWlpKX8rifNVrU2MvNiS60P9Zisrlepw8rKuo9V82NpY7VtwcuoMrSm40kpu5Z9SwmdGgBwjKEdG5YTQeWkZWbnhvedkJwVOjW2zfdEqeXCfVRanlInea0dPx7xrOYK6zBa73a6f2+N0yrXwTSScld8llpauYuxo7eBq+xLYr3rpbRnpU5XrfcZjtgnnNFVt0EAOANzx0bcMZDqKGi52+jVcXEmq3RqoM5rFMGs0QjwkRqa7RFXa5g7tJ/cseCokQaWMEfWxxXbwrbNXS+lTlerd6yDdgAAx+qaFcVbbUii15DF3GeQtvcAAAGRSURBVDDD2XcE6dTwtcp67s/g9vzeIy3v9ryndZW7dLVh1o/H789X96R1xe00LDPPdqEMg0+1RWt+1G0nTmvE9t2zbc0YWdgSRi2z3Lpb1qu3fnraS0t+Rj3mUYqr1sZGbc+96dTCWI6Dtf2GmqdUOmfbfwPA1fz4+Ph4fX19bX/++ee3L0o76dIIjfCAkHteOz5pzYULlUaElIaGpi5WcvHUwsd6DmTKeir5UctLSUuhlI+lDD3T6r3wrKWlprl/r1zI5uJR81NLy7O+ZqXl0X5K+4RcOCWd1m1+xHba2vZ79j2lfWa4X2/NT6o8SseRUnylUYBKntXtPNRTVy1lZ6Eeg3PhlTjj79Q20bvuSlpKe1bqVA2jrLvlGFCKpxZXHKZ1G/YqQzVNa748tr84TG67ad3fAQDGaerYwC+UEe7ijidwuYv4O5XB2VFfx5lZ9qvV82r5AQDgDg6fFQXA+jhJBwAAALCqYsfGHe/SKkY+ewpgDbl38WB98TP81Ntce/nPOIeYmZZitfwAAHAX/wuXD9o2ND364wAAAABJRU5ErkJggg==" width="1078" height="132" class="img_ev3q"></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-n  仅显示处理后的结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e  以选项中的指定的script来处理输入的文本文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i  直接编辑源文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p   打印</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d   删除</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a 在当前行下面插入文本。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i 在当前行上面插入文本。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s   替换指定字符</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g   获得内存缓冲区的内容，并替代当前模板块中的文本。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  模式匹配</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -n </span><span class="token string" style="color:#e3116c">'1,6p'</span><span class="token plain"> health_center.log     </span><span class="token comment" style="color:#999988;font-style:italic"># 统计1到6行的文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -n </span><span class="token string" style="color:#e3116c">'1,+6p'</span><span class="token plain"> health_center.log    </span><span class="token comment" style="color:#999988;font-style:italic"># 输出第1行和之后的6行（共7行）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -n </span><span class="token string" style="color:#e3116c">'/ERROR/p'</span><span class="token plain"> health_center.log </span><span class="token comment" style="color:#999988;font-style:italic"># 输出包含ERROR的行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/INFO/d"</span><span class="token plain"> test.log              </span><span class="token comment" style="color:#999988;font-style:italic"># 删除含有INFO的行（不会操作源文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -i </span><span class="token string" style="color:#e3116c">"/INFO/d"</span><span class="token plain"> test.log           </span><span class="token comment" style="color:#999988;font-style:italic"># 删除含有INFO的行（直接操作源文件）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'10001,$d'</span><span class="token plain"> test.log -i          </span><span class="token comment" style="color:#999988;font-style:italic"># 删除从10001行到末尾的行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"s/WARNING/ERROR/g"</span><span class="token plain"> test.log -i </span><span class="token comment" style="color:#999988;font-style:italic"># 将WARNING替换为ERROR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -e </span><span class="token string" style="color:#e3116c">"s/ERROR/WARNING/g"</span><span class="token plain"> -e </span><span class="token string" style="color:#e3116c">"s/2022-05-28/2023-05-28/g"</span><span class="token plain"> test.log -i   </span><span class="token comment" style="color:#999988;font-style:italic"># 替换多个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1a 123456"</span><span class="token plain"> test.log -i         </span><span class="token comment" style="color:#999988;font-style:italic"># 在第1行的下面添加一行123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1i abcde"</span><span class="token plain"> test.log -i          </span><span class="token comment" style="color:#999988;font-style:italic"># 在第1行的前面添加一行abcde</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1a tomorrow will be fine.</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c"> okay okay"</span><span class="token plain"> test.log -i         </span><span class="token comment" style="color:#999988;font-style:italic"># \n表示在第1行的下面添加多行文本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'a ------------'</span><span class="token plain"> test.log       </span><span class="token comment" style="color:#999988;font-style:italic"># 在每一行下面添加------------字符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">### 文本如下，获取第二行中的ip 172.26.25.254</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eth0: </span><span class="token assign-left variable" style="color:#36acaa">flags</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">416</span><span class="token operator file-descriptor important" style="color:#393A34">3</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UP,BROADCAST,RUNNING,MULTICAST</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        inet </span><span class="token number" style="color:#36acaa">172.26</span><span class="token plain">.25.254  netmask </span><span class="token number" style="color:#36acaa">255.255</span><span class="token plain">.192.0  broadcast </span><span class="token number" style="color:#36acaa">172.26</span><span class="token plain">.63.255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ether 00:16:3e:15:c5:19  txqueuelen </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ethernet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RX packets </span><span class="token number" style="color:#36acaa">1338810002</span><span class="token plain">  bytes </span><span class="token number" style="color:#36acaa">88450660493</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">82.3</span><span class="token plain"> GiB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RX errors </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  dropped </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  overruns </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  frame </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TX packets </span><span class="token number" style="color:#36acaa">21251292571</span><span class="token plain">  bytes </span><span class="token number" style="color:#36acaa">1463867614512</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.3</span><span class="token plain"> TiB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TX errors </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  dropped </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> overruns </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  carrier </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  collisions </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 结合正则表达式，2s中的2代表第二行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ifconfig</span><span class="token plain"> eth0 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> -e </span><span class="token string" style="color:#e3116c">"2s/^.*inet //"</span><span class="token plain"> -e  </span><span class="token string" style="color:#e3116c">"2s/net.*$//p"</span><span class="token plain"> -n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wc-统计字符">wc 统计字符<a class="hash-link" href="#wc-统计字符" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-l  行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-w  英文字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-m  字符</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ps-查看进程">ps 查看进程<a class="hash-link" href="#ps-查看进程" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> -ef </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> python    显示系统中的python进程</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="kill-杀死进程">kill 杀死进程<a class="hash-link" href="#kill-杀死进程" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># grep -v grep 过滤掉grep本身所占进程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># awk '{print $2}'  提取找到的进程行记录中第二列的参数，也就是python的进程号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># xargs kill -9 把前面的参数都传递给后面的命令 kill -9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> -ef </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> python </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> -v </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">awk</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'{print $2}'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">xargs</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> -9</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="netstat-查看网络端口信息">netstat 查看网络端口信息<a class="hash-link" href="#netstat-查看网络端口信息" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">netstat</span><span class="token plain"> -ntlp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -nltp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="curl-获取网址信息">curl 获取网址信息<a class="hash-link" href="#curl-获取网址信息" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> www.baidu.com  获取该网址的文本信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain">  -i www.baidu.com  获取该网址的文本信息以及协议头部信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -x www.baidu.com   使用代理获取网页文本信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X POST --header </span><span class="token string" style="color:#e3116c">"Content-Type:application/json"</span><span class="token plain">  --data </span><span class="token string" style="color:#e3116c">'{}'</span><span class="token plain">  www.baidu.com/getAllUserInfo    使用post模拟json格式请求接口</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tail-根据位置输出文件内容">tail 根据位置输出文件内容<a class="hash-link" href="#tail-根据位置输出文件内容" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -n </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> error.log    查看最新10行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -n +20 error.log   从第20行开始输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -c </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> error.log    输出最后10个字符</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -c +10 error.log   从第10个字符开始输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tail</span><span class="token plain"> -f error.log   持续输出指定文件最新10行</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sz-rz-上传下载">sz rz 上传下载<a class="hash-link" href="#sz-rz-上传下载" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sz filename 下载文件到本地</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rz filename 上传文件到服务器</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sftp-传输文件">sftp 传输文件<a class="hash-link" href="#sftp-传输文件" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sftp</span><span class="token plain"> root@10.2.21.21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> get /aa/bb/cc.txt /home/  </span><span class="token comment" style="color:#999988;font-style:italic"># 将21机器上的cc.txt文件下载到home目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> put /aa/bb/cc.txt /home/  </span><span class="token comment" style="color:#999988;font-style:italic"># 将cc.txt文件上传到21机器上的home目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sftp</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin class-name">pwd</span><span class="token plain"> //查询当前工作目录</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="test-判断文件是否存在">test 判断文件是否存在<a class="hash-link" href="#test-判断文件是否存在" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">test</span><span class="token plain"> -e file.txt </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#存在则输出11</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="环境变量">环境变量<a class="hash-link" href="#环境变量" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效时间：使用相同的用户打开新的终端时生效，或者手动source ~/.bashrc生效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效期限：永久有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效范围：仅对当前用户有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果有后续的环境变量加载文件覆盖了</span><span class="token environment constant" style="color:#36acaa">PATH</span><span class="token plain">定义，则可能不生效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">会在每次运行Shell脚本的时候读取一次</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/.bash_profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效时间：使用相同的用户打开新的终端时生效，或者手动source ~/.bash_profile生效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效期限：永久有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效范围：仅对当前用户有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果没有~/.bash_profile文件，则可以编辑~/.profile文件或者新建一个</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">只在用户登录的时候读取一次</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/bashrc     /etc/profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bash_profile</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效时间：新开终端生效，或者手动source /etc/bashrc生效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效期限：永久有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效范围：对所有用户有效</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效时间：新开终端生效，或者手动source /etc/environment生效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效期限：永久有效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">生效范围：对所有用户有效</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>环境变量加载顺序(系统级-&gt;用户级)：</p><ol><li>/etc/environment</li><li>/etc/profile</li><li>~/.bash_profile</li></ol></blockquote><p><a href="https://www.cnblogs.com/youyoui/p/10680329.html" target="_blank" rel="noopener noreferrer">Linux环境变量配置全攻略 - 悠悠i - 博客园 (cnblogs.com)</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="shell">shell<a class="hash-link" href="#shell" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="image-20220522163333891" src="/docone/assets/images/image-20220522163333891-8e2995b229b9388f1fdf9bc32910d2e4.png" width="972" height="338" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="批量替换文件名">批量替换文件名<a class="hash-link" href="#批量替换文件名" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 替换aa_bb_finished.jpg为aa_bb.jpg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">file</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> *fin*jpg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$file</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable builtin class-name" style="color:#36acaa">echo</span><span class="token variable" style="color:#36acaa"> $</span><span class="token variable punctuation" style="color:#393A34">{</span><span class="token variable" style="color:#36acaa">file//_finished/</span><span class="token variable punctuation" style="color:#393A34">}</span><span class="token variable" style="color:#36acaa">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token keyword" style="color:#00009f">done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="Linux" term="Linux"/>
        <category label="笔记" term="笔记"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MarkDown Handbook]]></title>
        <id>/2022/07/20/Typora常用符号</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/07/20/Typora常用符号"/>
        <updated>2022-07-20T14:00:00.000Z</updated>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p><strong>Markdown</strong> is created by <a href="http://daringfireball.net/" target="_blank" rel="noopener noreferrer">Daring Fireball</a>; the original guideline is <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank" rel="noopener noreferrer">here</a>. Its syntax, however, varies between different parsers or editors. <strong>Typora</strong> is using <a href="https://help.github.com/articles/github-flavored-markdown/" target="_blank" rel="noopener noreferrer">GitHub Flavored Markdown</a>.</p><div class="tableOfContentsInline_prmo"><ul class="table-of-contents"><li><a href="#overview">Overview</a></li><li><a href="#block-elements">Block Elements</a><ul><li><a href="#paragraph-and-line-breaks">Paragraph and line breaks</a></li><li><a href="#headers">Headers</a></li><li><a href="#blockquotes">Blockquotes</a></li><li><a href="#lists">Lists</a></li><li><a href="#task-list">Task List</a></li><li><a href="#fenced-code-blocks">(Fenced) Code Blocks</a></li><li><a href="#math-blocks">Math Blocks</a></li><li><a href="#tables">Tables</a></li><li><a href="#footnotes">Footnotes</a></li><li><a href="#horizontal-rules">Horizontal Rules</a></li><li><a href="#yaml-front-matter">YAML Front Matter</a></li><li><a href="#table-of-contents-toc">Table of Contents (TOC)</a></li></ul></li><li><a href="#span-elements">Span Elements</a><ul><li><a href="#links">Links</a><ul><li><a href="#internal-links">Internal Links</a></li><li><a href="#reference-links">Reference Links</a></li></ul></li><li><a href="#urls">URLs</a></li><li><a href="#images">Images</a></li><li><a href="#emphasis">Emphasis</a></li><li><a href="#strong">Strong</a></li><li><a href="#code">Code</a></li><li><a href="#strikethrough">Strikethrough</a></li><li><a href="#underlines">Underlines</a></li><li><a href="#emoji-">Emoji 😄</a></li><li><a href="#inline-math">Inline Math</a></li><li><a href="#subscript">Subscript</a></li><li><a href="#superscript">Superscript</a></li><li><a href="#highlight">Highlight</a></li></ul></li><li><a href="#html">HTML</a><ul><li><a href="#embed-contents">Embed Contents</a></li><li><a href="#video">Video</a></li><li><a href="#other-html-support">Other HTML Support</a></li></ul></li><li><a href="#latex">LaTeX</a></li><li><a href="#思维导图">思维导图</a><ul><li><a href="#流程图">流程图</a></li><li><a href="#时序图">时序图</a><ul><li><a href="#甘特图">甘特图</a></li><li><a href="#饼图">饼图</a></li></ul></li></ul></li><li><a href="#docusaurus-for-mdx">Docusaurus for MDX</a></li></ul></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="block-elements">Block Elements<a class="hash-link" href="#block-elements" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paragraph-and-line-breaks">Paragraph and line breaks<a class="hash-link" href="#paragraph-and-line-breaks" title="Direct link to heading">​</a></h3><p>A paragraph is simply one or more consecutive lines of text. In markdown source code, paragraphs are separated by two or more blank lines. In Typora, you only need one blank line (press <code>Return</code> once) to create a new paragraph.</p><p>Press <code>Shift</code> + <code>Return</code> to create a single line break. Most other markdown parsers will ignore single line breaks, so in order to make other markdown parsers recognize your line break, you can leave two spaces at the end of the line, or insert <code>&lt;br/&gt;</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers">Headers<a class="hash-link" href="#headers" title="Direct link to heading">​</a></h3><p>Headers use 1-6 hash (<code>#</code>) characters at the start of the line, corresponding to header levels 1-6. For example:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> This is an H1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> This is an H2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">######</span><span class="token title important"> This is an H6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In Typora, input ‘#’s followed by title content, and press <code>Return</code> key will create a header.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blockquotes">Blockquotes<a class="hash-link" href="#blockquotes" title="Direct link to heading">​</a></h3><p>Markdown uses email-style &gt; characters for block quoting. They are presented as:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> This is a blockquote with two paragraphs. This is first paragraph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> This is second pragraph. Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> This is another blockquote with one paragraph. There is three empty line to seperate two blockquote.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In Typora, inputting ‘&gt;’ followed by your quote contents will generate a quote block. Typora will insert a proper ‘&gt;’ or line break for you. Nested block quotes (a block quote inside another block quote) by adding additional levels of ‘&gt;’.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lists">Lists<a class="hash-link" href="#lists" title="Direct link to heading">​</a></h3><p>Input <code>* list item 1</code> will create an unordered list - the <code>*</code> symbol can be replace with <code>+</code> or <code>-</code>.</p><p>Input <code>1. list item 1</code> will create an ordered list - their markdown source code is as follows:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> un-ordered list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain">   Red</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain">   Green</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">*</span><span class="token plain">   Blue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> ordered list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">1.</span><span class="token plain">  Red</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">2.</span><span class="token plain">  Green</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">3.</span><span class="token plain">  Blue</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="task-list">Task List<a class="hash-link" href="#task-list" title="Direct link to heading">​</a></h3><p>Task lists are lists with items marked as either <!-- -->[ ]<!-- --> or <!-- -->[x]<!-- --> (incomplete or complete). For example:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> [ ] a task list item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> [ ] list syntax required</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> [ ] normal </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">formatting</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">, @mentions, #1234 refs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> [ ] incomplete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> [x] completed</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can change the complete/incomplete state by clicking on the checkbox before the item.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fenced-code-blocks">(Fenced) Code Blocks<a class="hash-link" href="#fenced-code-blocks" title="Direct link to heading">​</a></h3><p>Typora only supports fences in GitHub Flavored Markdown. Original code blocks in markdown are not supported.</p><p>Using fences is easy: Input <!-- -->`<!-- -->`<!-- -->`<!-- --> and press <code>return</code>. Add an optional language identifier after <!-- -->`<!-- -->`<!-- -->`<!-- --> and we'll run it through syntax highlighting:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Here's an example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​```</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function test() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log("notice the blank line before this function?");</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​```</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syntax highlighting:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​```ruby</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require 'redcarpet'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">markdown = Redcarpet.new("Hello World!")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">puts markdown.to_html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">​```</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="math-blocks">Math Blocks<a class="hash-link" href="#math-blocks" title="Direct link to heading">​</a></h3><p>You can render <em>LaTeX</em> mathematical expressions using <strong>MathJax</strong>.</p><p>To add a mathematical expression, input <code>$$</code> and press the 'Return' key. This will trigger an input field which accepts <em>Tex/LaTex</em> source. For example:</p><p>$$
\mathbf{V}_1 \times \mathbf{V}_2 =  \begin{vmatrix}
\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} <!-- -->\<!-- -->
\frac{\partial X}{\partial u} &amp;  \frac{\partial Y}{\partial u} &amp; 0 <!-- -->\<!-- -->
\frac{\partial X}{\partial v} &amp;  \frac{\partial Y}{\partial v} &amp; 0 <!-- -->\<!-- -->
\end{vmatrix}
$$</p><p>In the markdown source file, the math block is a <em>LaTeX</em> expression wrapped by a pair of ‘$$’ marks:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\mathbf{V}_1 \times \mathbf{V}_2 =  \begin{vmatrix}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\frac{\partial X}{\partial u} &amp;  \frac{\partial Y}{\partial u} &amp; 0 \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\frac{\partial X}{\partial v} &amp;  \frac{\partial Y}{\partial v} &amp; 0 \\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\end{vmatrix}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can find more details <a href="https://support.typora.io/Math/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tables">Tables<a class="hash-link" href="#tables" title="Direct link to heading">​</a></h3><p>Input <code>| First Header  | Second Header |</code> and press the <code>return</code> key. This will create a table with two columns.</p><p>After a table is created, putting focus on that table will open up a toolbar for the table where you can resize, align, or delete the table. You can also use the context menu to copy and add/delete individual columns/rows.</p><p>The full syntax for tables is described below, but it is not necessary to know the full syntax in detail as the markdown source code for tables is generated automatically by Typora.</p><p>In markdown source code, they look like:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> First Header  </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Second Header </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-header-row"></span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">-------------</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">-------------</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-line"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> Content Cell  </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> Content Cell  </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> Content Cell  </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> Content Cell  </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also include inline Markdown such as links, bold, italics, or strikethrough in the table.</p><p>Finally, by including colons (<code>:</code>) within the header row, you can define text in that column to be left-aligned, right-aligned, or center-aligned:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Left-Aligned  </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Center Aligned  </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> Right Aligned </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-header-row"></span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">:------------</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line punctuation" style="color:#393A34">:---------------:</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">-----:</span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-line"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> col 3 is      </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> some wordy text </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> $1600 </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> col 2 is      </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> centered        </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data">   $12 </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> zebra stripes </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> are neat        </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data">    $1 </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A colon on the left-most side indicates a left-aligned column; a colon on the right-most side indicates a right-aligned column; a colon on both sides indicates a center-aligned column.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="footnotes">Footnotes<a class="hash-link" href="#footnotes" title="Direct link to heading">​</a></h3><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">You can create footnotes like this[^footnote].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url-reference url punctuation" style="color:#393A34">[</span><span class="token url-reference url variable" style="color:#36acaa">^footnote</span><span class="token url-reference url punctuation" style="color:#393A34">]</span><span class="token url-reference url punctuation" style="color:#393A34">:</span><span class="token url-reference url" style="color:#36acaa"> Here</span><span class="token plain"> is the </span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token italic content">text</span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token plain"> of the </span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">footnote</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will produce:</p><p>You can create footnotes like this<sup id="fnref-footnote-0c2352"><a href="#fn-footnote-0c2352" class="footnote-ref">footnote</a></sup>.</p><p>Hover over the ‘footnote’ superscript to see content of the footnote.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="horizontal-rules">Horizontal Rules<a class="hash-link" href="#horizontal-rules" title="Direct link to heading">​</a></h3><p>Inputting <code>***</code> or <code>---</code> on a blank line and pressing <code>return</code> will draw a horizontal line.</p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="yaml-front-matter">YAML Front Matter<a class="hash-link" href="#yaml-front-matter" title="Direct link to heading">​</a></h3><p>Typora now supports <a href="http://jekyllrb.com/docs/frontmatter/" target="_blank" rel="noopener noreferrer">YAML Front Matter</a>. Input <code>---</code> at the top of the article and then press <code>Return</code> to introduce a metadata block. Alternatively, you can insert a metadata block from the top menu of Typora.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="table-of-contents-toc">Table of Contents (TOC)<a class="hash-link" href="#table-of-contents-toc" title="Direct link to heading">​</a></h3><p>Input <code>[toc]</code> and press the <code>Return</code> key. This will create a  “Table of Contents” section. The TOC extracts all headers from the document, and its contents are updated automatically as you add to the document.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="span-elements">Span Elements<a class="hash-link" href="#span-elements" title="Direct link to heading">​</a></h2><p>Span elements will be parsed and rendered right after typing. Moving the cursor in middle of those span elements will expand those elements into markdown source. Below is an explanation of the syntax for each span element.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="links">Links<a class="hash-link" href="#links" title="Direct link to heading">​</a></h3><p>Markdown supports two styles of links: inline and reference.</p><p>In both styles, the link text is delimited by <!-- -->[square brackets]<!-- -->.</p><p>To create an inline link, use a set of regular parentheses immediately after the link text’s closing square bracket. Inside the parentheses, put the URL where you want the link to point, along with an optional title for the link, surrounded in quotes. For example:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">This is </span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">an example</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">http://example.com/</span><span class="token url" style="color:#36acaa"> </span><span class="token url string" style="color:#e3116c">"Title"</span><span class="token url" style="color:#36acaa">)</span><span class="token plain"> inline link.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">This link</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">http://example.net/</span><span class="token url" style="color:#36acaa">)</span><span class="token plain"> has no title attribute.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will produce:</p><p>This is <a href="http://example.com/" target="_blank" rel="noopener noreferrer" title="Title">an example</a> inline link. (<code>&lt;p&gt;This is &lt;a href="http://example.com/" title="Title"&gt;</code>)</p><p><a href="http://example.net/" target="_blank" rel="noopener noreferrer">This link</a> has no title attribute. (<code>&lt;p&gt;&lt;a href="http://example.net/"&gt;This link&lt;/a&gt; has no</code>)</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="internal-links">Internal Links<a class="hash-link" href="#internal-links" title="Direct link to heading">​</a></h4><p><strong>You can set the href to headers</strong>, which will create a bookmark that allow you to jump to that section after clicking. For example:</p><p>Command(on Windows: Ctrl) + Click <a href="#block-elements">This link</a> will jump to header <code>Block Elements</code>. To see how to write that, please move cursor or click that link with <code>⌘</code> key pressed to expand the element into markdown source.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reference-links">Reference Links<a class="hash-link" href="#reference-links" title="Direct link to heading">​</a></h4><p>Reference-style links use a second set of square brackets, inside which you place a label of your choosing to identify the link:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">This is </span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">an example</span><span class="token url" style="color:#36acaa">][</span><span class="token url variable" style="color:#36acaa">id</span><span class="token url" style="color:#36acaa">]</span><span class="token plain"> reference-style link.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Then, anywhere in the document, you define your link label on a line by itself like this:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url-reference url punctuation" style="color:#393A34">[</span><span class="token url-reference url variable" style="color:#36acaa">id</span><span class="token url-reference url punctuation" style="color:#393A34">]</span><span class="token url-reference url punctuation" style="color:#393A34">:</span><span class="token url-reference url" style="color:#36acaa"> http://example.com/  </span><span class="token url-reference url string" style="color:#e3116c">"Optional Title Here"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In Typora, they will be rendered like so:</p><p>This is <a href="http://example.com/" target="_blank" rel="noopener noreferrer" title="Optional Title Here">an example</a> reference-style link.</p><p>The implicit link name shortcut allows you to omit the name of the link, in which case the link text itself is used as the name. Just use an empty set of square brackets — for example, to link the word “Google” to the google.com web site, you could simply write:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Google][]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">And then define the link:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url-reference url punctuation" style="color:#393A34">[</span><span class="token url-reference url variable" style="color:#36acaa">Google</span><span class="token url-reference url punctuation" style="color:#393A34">]</span><span class="token url-reference url punctuation" style="color:#393A34">:</span><span class="token url-reference url" style="color:#36acaa"> http://google.com/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In Typora, clicking the link will expand it for editing, and command+click will open the hyperlink in your web browser.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="urls">URLs<a class="hash-link" href="#urls" title="Direct link to heading">​</a></h3><p>Typora allows you to insert URLs as links, wrapped by <code>&lt;</code>brackets<code>&gt;</code>.</p><p><code>&lt;i@typora.io&gt;</code> becomes <a href="mailto:i@typora.io" target="_blank" rel="noopener noreferrer">i@typora.io</a>.</p><p>Typora will also automatically link standard URLs. e.g: <a href="http://www.google.com" target="_blank" rel="noopener noreferrer">www.google.com</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="images">Images<a class="hash-link" href="#images" title="Direct link to heading">​</a></h3><p>Images have similar syntax as links, but they require an additional <code>!</code> char before the start of the link. The syntax for inserting an image looks like this:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token url operator" style="color:#393A34">!</span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">Alt text</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">/path/to/img.jpg</span><span class="token url" style="color:#36acaa">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url operator" style="color:#393A34">!</span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">Alt text</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">/path/to/img.jpg</span><span class="token url" style="color:#36acaa"> </span><span class="token url string" style="color:#e3116c">"Optional title"</span><span class="token url" style="color:#36acaa">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You are able to use drag &amp; drop to insert an image from an image file or your web browser. You can modify the markdown source code by clicking on the image. A relative path will be used if the image that is added using drag &amp; drop is in same directory or sub-directory as the document you're currently editing.</p><p>If you’re using markdown for building websites, you may specify a URL prefix for the image preview on your local computer with property <code>typora-root-url</code> in YAML Front Matters. For example, input <code>typora-root-url:/User/Abner/Website/typora.io/</code> in YAML Front Matters, and then <code>![alt](/blog/img/test.png)</code> will be treated as <code>![alt](file:///User/Abner/Website/typora.io/blog/img/test.png)</code> in Typora.</p><p>You can find more details <a href="https://support.typora.io/Images/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="emphasis">Emphasis<a class="hash-link" href="#emphasis" title="Direct link to heading">​</a></h3><p>Markdown treats asterisks (<code>*</code>) and underscores (<code>_</code>) as indicators of emphasis. Text wrapped with one <code>*</code> or <code>_</code> will be wrapped with an HTML <code>&lt;em&gt;</code> tag. E.g:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token italic punctuation" style="color:#393A34">*</span><span class="token italic content">single asterisks</span><span class="token italic punctuation" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token italic punctuation" style="color:#393A34">_</span><span class="token italic content">single underscores</span><span class="token italic punctuation" style="color:#393A34">_</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>output:</p><p><em>single asterisks</em></p><p><em>single underscores</em></p><p>GFM will ignore underscores in words, which is commonly used in code and names, like this:</p><blockquote><p>wow_great_stuff</p><p>do_this_and_do_that_and_another_thing.</p></blockquote><p>To produce a literal asterisk or underscore at a position where it would otherwise be used as an emphasis delimiter, you can backslash escape it:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\*this text is surrounded by literal asterisks\*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Typora recommends using the <code>*</code> symbol.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="strong">Strong<a class="hash-link" href="#strong" title="Direct link to heading">​</a></h3><p>A double <code>*</code> or <code>_</code> will cause its enclosed contents to be wrapped with an HTML <code>&lt;strong&gt;</code> tag, e.g:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token bold punctuation" style="color:#393A34">**</span><span class="token bold content">double asterisks</span><span class="token bold punctuation" style="color:#393A34">**</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token bold punctuation" style="color:#393A34">__</span><span class="token bold content">double underscores</span><span class="token bold punctuation" style="color:#393A34">__</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>output:</p><p><strong>double asterisks</strong></p><p><strong>double underscores</strong></p><p>Typora recommends using the <code>**</code> symbol.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="code">Code<a class="hash-link" href="#code" title="Direct link to heading">​</a></h3><p>To indicate an inline span of code, wrap it with backtick quotes (`). Unlike a pre-formatted code block, a code span indicates code within a normal paragraph. For example:</p><div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Use the </span><span class="token code-snippet code keyword" style="color:#00009f">`printf()`</span><span class="token plain"> function.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will produce:</p><p>Use the <code>printf()</code> function.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="strikethrough">Strikethrough<a class="hash-link" href="#strikethrough" title="Direct link to heading">​</a></h3><p>GFM adds syntax to create strikethrough text, which is missing from standard Markdown.</p><p><code>~~Mistaken text.~~</code> becomes <del>Mistaken text.</del></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="underlines">Underlines<a class="hash-link" href="#underlines" title="Direct link to heading">​</a></h3><p>Underline is powered by raw HTML.</p><p><code>&lt;u&gt;Underline&lt;/u&gt;</code> becomes <u>Underline</u>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="emoji-">Emoji 😄<a class="hash-link" href="#emoji-" title="Direct link to heading">​</a></h3><p>Input emoji with syntax <code>:smile:</code>.</p><p>User can trigger auto-complete suggestions for emoji by pressing <code>ESC</code> key, or trigger it automatically after enabling it on preference panel. Also, inputting UTF-8 emoji characters directly is also supported by going to <code>Edit</code> -&gt; <code>Emoji &amp; Symbols</code> in the menu bar (macOS).</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="inline-math">Inline Math<a class="hash-link" href="#inline-math" title="Direct link to heading">​</a></h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>$</code> to wrap a TeX command. For example: <code>$\lim_{x \to \infty} \exp(-x) = 0$</code> will be rendered as LaTeX command.</p><p>To trigger inline preview for inline math: input “$”, then press the <code>ESC</code> key, then input a TeX command.</p><p>You can find more details <a href="https://support.typora.io/Math/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subscript">Subscript<a class="hash-link" href="#subscript" title="Direct link to heading">​</a></h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>~</code> to wrap subscript content. For example: <code>H~2~O</code>, <code>X~long\ text~</code>/</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="superscript">Superscript<a class="hash-link" href="#superscript" title="Direct link to heading">​</a></h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>^</code> to wrap superscript content. For example: <code>X^2^</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="highlight">Highlight<a class="hash-link" href="#highlight" title="Direct link to heading">​</a></h3><p>To use this feature, please enable it first in the <code>Preference</code> Panel -&gt; <code>Markdown</code> Tab. Then, use <code>==</code> to wrap highlight content. For example: <code>==highlight==</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="html">HTML<a class="hash-link" href="#html" title="Direct link to heading">​</a></h2><p>You can use HTML to style content what pure Markdown does not support. For example, use <code>&lt;span style="color:red"&gt;this text is red&lt;/span&gt;</code> to add text with red color.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="embed-contents">Embed Contents<a class="hash-link" href="#embed-contents" title="Direct link to heading">​</a></h3><p>Some websites provide iframe-based embed code which you can also paste into Typora. For example:</p><div class="language-Markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;iframe height='265' scrolling='no' title='Fancy Animated SVG Menu' src='http://codepen.io/jeangontijo/embed/OxVywj/?height=265&amp;theme-id=0&amp;default-tab=css,result&amp;embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'&gt;&lt;/iframe&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="video">Video<a class="hash-link" href="#video" title="Direct link to heading">​</a></h3><p>You can use the <code>&lt;video&gt;</code> HTML tag to embed videos. For example:</p><div class="language-Markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Markdown codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;video src="xxx.mp4" /&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="other-html-support">Other HTML Support<a class="hash-link" href="#other-html-support" title="Direct link to heading">​</a></h3><p>You can find more details <a href="https://support.typora.io/HTML/" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="latex">LaTeX<a class="hash-link" href="#latex" title="Direct link to heading">​</a></h2><blockquote><p><a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols" target="_blank" rel="noopener noreferrer">https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="思维导图">思维导图<a class="hash-link" href="#思维导图" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="流程图">流程图<a class="hash-link" href="#流程图" title="Direct link to heading">​</a></h4><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="时序图">时序图<a class="hash-link" href="#时序图" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="甘特图">甘特图<a class="hash-link" href="#甘特图" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="饼图">饼图<a class="hash-link" href="#饼图" title="Direct link to heading">​</a></h4><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="docusaurus-for-mdx">Docusaurus for MDX<a class="hash-link" href="#docusaurus-for-mdx" title="Direct link to heading">​</a></h2><blockquote><p><a href="https://www.docusaurus.cn/docs/markdown-features" target="_blank" rel="noopener noreferrer">https://www.docusaurus.cn/docs/markdown-features</a></p></blockquote><div class="footnotes"><hr><ol><li id="fn-footnote-0c2352">Here is the <em>text</em> of the <strong>footnote</strong>.<a href="#fnref-footnote-0c2352" class="footnote-backref">↩</a></li></ol></div>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="Typora" term="Typora"/>
        <category label="Markdown" term="Markdown"/>
        <category label="Latex" term="Latex"/>
        <category label="Mind" term="Mind"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Django笔记]]></title>
        <id>/2022/07/17/Django笔记/django笔记</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2022/07/17/Django笔记/django笔记"/>
        <updated>2022-07-17T14:50:00.000Z</updated>
        <summary type="html"><![CDATA[涵盖Django常用技巧，Rest Framework、ORM等（持续更新中）]]></summary>
        <content type="html"><![CDATA[<blockquote><p><a href="https://docs.djangoproject.com/zh-hans/3.2/" target="_blank" rel="noopener noreferrer">Django 文档 | Django 文档 | Django (djangoproject.com)</a></p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="查询">查询<a class="hash-link" href="#查询" title="Direct link to heading">​</a></h2><p><strong>表结构</strong></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Diabetes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SET_NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pregnancies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'怀孕次数'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    glucose </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'葡萄糖'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    blood_pressure </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'血压'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    skin_thickness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'皮肤厚度'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    insulin </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DecimalField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_digits</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decimal_places</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'胰岛素'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bmi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DecimalField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_digits</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decimal_places</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'身体质量指数'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pedigree_function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DecimalField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_digits</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decimal_places</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'遗传特性'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'年龄'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    outcome </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'预测结果,0正常/1发病'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DecimalField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_digits</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decimal_places</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'预测患病概率'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        db_table </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'diabetes'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        verbose_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'糖尿病数据'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        verbose_name_plural </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> verbose_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AbstractUser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sexType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'M'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'male'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'F'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Female'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    roles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">IntegerField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'角色'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">256</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'邮箱验证码'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">auto_now_add</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'注册提交时间'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is_remember </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BooleanField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'是否记住登录状态'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> choices</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sexType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="orm">ORM<a class="hash-link" href="#orm" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1.使用annotate和F重命名字段</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">annotate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userName</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">F</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'username'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pregnancies_count</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'diabetes'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2.查询每个用户有多少条Diabetes记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">annotate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pregnancies_count</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'diabetes'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'pregnancies_count'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3.外键反向查询：查询用户为song的所有diabetes数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'song'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">diabetes_set</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 或者通过related_name查询：user.related_name.all()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 4.查询Diabetes表中所有用户为song的记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 表名小写__字段名，或者related_name__字段名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diabetes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Diabetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> user__username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'song'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 5.查询diabetes表中age=21的对应的所有user记录，queryset有重复可以使用distinct去重</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> diabetes__age</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">distinct</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 6.统计胰岛素含量的最高值和平均值之差</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Diabetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">aggregate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">insulin_diff</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'insulin'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Avg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'insulin'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="原生sql">原生sql<a class="hash-link" href="#原生sql" title="Direct link to heading">​</a></h3><p>复杂的sql语句可通过原生sql实现，绕过django模型层，直接执行sql语句</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">db </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 查询一条记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">query_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        columns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> col </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">dict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fetchall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 查询多条记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">query_one</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        columns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> col </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">dict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fetchone</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 执行查询</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sql </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f"""select task_id, date_created, status, task_kwargs from django_celery_results_taskresult where task_id = %s"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> query_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">task_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>要避免 SQL 注入，你绝对不能在 SQL 字符串中用引号包裹 <code>%s</code> 占位符，使用 <code>params</code> 参数和不用引号包裹占位符使你免受 <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer">SQL 注入攻击</a></p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="序列化">序列化<a class="hash-link" href="#序列化" title="Direct link to heading">​</a></h3><blockquote><p>反序列化：json数据转换为模型对象</p><p>序列化：模型对象转换为json数据</p></blockquote><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">post</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DiabetesModelSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    diabetes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Diabetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># 如果查询集有多条，设置many=True，否则查询单条记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serializer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DiabetesModelSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">diabetes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> many</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> response_success</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"查询成功"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> serializer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">put</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    diabetes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Diabetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#instance要更新的对象，partial默认false(需包含所有字段),设置为true表示局部修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DiabetesModelSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instance</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">diabetes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> partial</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#采用逻辑删除，非物理删除，若queryset为单一，则删除一条，否则批量删除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Diabetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="另一个案例">另一个案例<a class="hash-link" href="#另一个案例" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="模型层">模型层<a class="hash-link" href="#模型层" title="Direct link to heading">​</a></h3><p>现有两张表：班级表和学生表（一对多关系）</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Grade</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">256</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'班级名称'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        db_table </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'grades'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        verbose_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'班级表'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        verbose_name_plural </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> verbose_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Students</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sexTYPE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'M'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'male'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'F'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Female'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">256</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'姓名'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> choices</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sexTYPE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"性别"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">256</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'学号'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grade </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Grade</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> on_delete</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SET_NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> null</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        db_table </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'students'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        verbose_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'学生表'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        verbose_name_plural </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> verbose_name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="路由">路由<a class="hash-link" href="#路由" title="Direct link to heading">​</a></h3><p><code>app路由文件</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> routers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">views </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> routers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SimpleRouter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r"stu"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DemoView</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">r'grades/'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> DemoView</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">'get'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'get_grades'</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>总路由文件</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">urlpatterns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'admin/'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> admin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">urls</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'api/'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> include</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'students.urls'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="序列化器">序列化器<a class="hash-link" href="#序列化器" title="Direct link to heading">​</a></h3><p>DRF默认使用<code>PrimaryKeyRelatedField</code>序列化外键字段，为了前端展示，需要获取班级表的name和id字段</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> serializers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> DateTimeField</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Students</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Grade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">GradeSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelSerializer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Grade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'id'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'name'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">StudentSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serializers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModelSerializer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    create_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DateTimeField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">format</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> read_only</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    update_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DateTimeField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">format</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> read_only</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 序列化主表所有字段(需是fields指定的)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grade </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GradeSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Students</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"__all__"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="视图层">视图层<a class="hash-link" href="#视图层" title="Direct link to heading">​</a></h3><p>最基本的视图类如<code>APIView</code>，包含：get、post、delete、put，其他的还有<code>GenericAPIView</code></p><blockquote><p><a href="https://www.django-rest-framework.org/api-guide/viewsets/#modelviewset" target="_blank" rel="noopener noreferrer">Viewsets - Django REST framework (django-rest-framework.org)</a></p></blockquote><p>关于ViewSets我还没怎么研究，后面再看看吧。这里使用的是<code>ModelViewSet</code>视图集，<code>ModelViewSet</code>继承自<code>GenericAPIView</code>，包含：</p><p>list()、retrieve()、create()、update()、partial_update()。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> traceback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> F</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decorators </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">permissions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> AllowAny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">viewsets </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ModelViewSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create your views here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Students</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">serializers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> common</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http_response </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> HttpResponse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ModelViewSet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># permission_classes = [AllowAny]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    queryset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'-update_time'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serializer_class </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StudentSerializer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        新增数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param kwargs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StudentSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">raise_exception</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_success</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"创建成功"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            traceback</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">print_exc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_failed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"创建失败"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 自定义方法：url_path表示请求接口名，使用后可以不用在路由中单独注册, 访问格式：/stu/info</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">methods</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'get'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> detail</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> url_path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'info'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_stu_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        获取学生信息，支持模糊查询</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param request: name</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'name'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            grade </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'grade'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stu_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'stu_id'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'id'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                stu </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'-update_time'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># grade__name__contains=grade 表示 在学生表中按班级名查询</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                stu </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Q</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stu_id__contains</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stu_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> Q</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name__contains</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> Q</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">grade__name__contains</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">grade</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'-update_time'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># stu = stu.annotate(grade=F('grade_id'))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StudentSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> many</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_success</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"查询成功"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            traceback</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">print_exc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_failed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"查询失败"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        修改方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stu_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'id'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stu </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Students</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stu_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'create_time'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'update_time'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cur_time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cur_time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StudentSerializer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instance</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> partial</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_valid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_success</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"创建成功"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            traceback</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">print_exc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_failed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"创建失败"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">methods</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'GET'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> detail</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_grades</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        获取所有班级信息, 并对结果集字段重命名</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :param request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        :return:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        grades </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Grade</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">annotate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">label</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">F</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'name'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">F</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'id'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">is_active</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'label'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'value'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response_success</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"查询所有班级成功"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grades</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面使用到了Q查询，配合<code>&amp;</code>、<code>|</code>可以完成复杂的查询。使用<code>~</code>表示not反转： <code>Q(question__startswith='Who') | ~Q(pub_date__year=2005)</code></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Q对象必须位于关键字参数之前</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="自定义类">自定义类<a class="hash-link" href="#自定义类" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="响应封装">响应封装<a class="hash-link" href="#响应封装" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">response </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rest_framework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">HttpResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_status</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> results</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exception</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'code'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data_status</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'msg'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> results </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'results'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> results</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">status</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">headers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exception</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">exception</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@classmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">response_success</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HTTP_200_OK</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> results</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">HTTP_200_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@classmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">response_failed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> HttpResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HTTP_500_INTERNAL_SERVER_ERROR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> results</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">HTTP_500_INTERNAL_SERVER_ERROR</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="Django" term="Django"/>
        <category label="RestFramework" term="RestFramework"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[21考研数学笔记]]></title>
        <id>/2020/10/14/考研数学/考研高数</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2020/10/14/考研数学/考研高数"/>
        <updated>2020-10-14T15:03:00.000Z</updated>
        <summary type="html"><![CDATA[---]]></summary>
        <content type="html"><![CDATA[<div class="tableOfContentsInline_prmo"><ul class="table-of-contents"><li><a href="#微分学">微分学</a><ul><li><a href="#函数-极限-连续">函数 极限 连续</a><ul><li><a href="#一-函数">一、 函数</a></li><li><a href="#二极限">二、极限</a></li><li><a href="#三连续">三、连续</a></li></ul></li><li><a href="#导数-微分">导数 微分</a><ul><li><a href="#一导数与微分的概念">一、导数与微分的概念</a></li><li><a href="#二导数公式及求导法则">二、导数公式及求导法则</a></li><li><a href="#三高阶导数">三、高阶导数</a></li><li><a href="#四导数应用">四、导数应用</a></li><li><a href="#强化题型-3"><code>————强化题型</code></a></li><li><a href="#题型归纳-1"><code>————题型归纳</code></a></li></ul></li><li><a href="#微分中值定理及导数应用">微分中值定理及导数应用</a><ul><li><a href="#一微分中值定理">一、微分中值定理</a></li><li><a href="#二导数应用">二、导数应用</a></li><li><a href="#题型归纳-2"><code>————题型归纳</code></a></li><li><a href="#典型例题"><code>————典型例题</code></a></li><li><a href="#强化题型-4"><code>————强化题型</code></a></li></ul></li></ul></li><li><a href="#积分学">积分学</a><ul><li><a href="#不定积分">不定积分</a><ul><li><a href="#一概念与性质">一、概念与性质</a></li><li><a href="#二不定积分的基本公式">二、不定积分的基本公式</a></li><li><a href="#三三种主要积分法">三、三种主要积分法</a></li><li><a href="#四三类常见可积函数积分">四、三类常见可积函数积分</a></li><li><a href="#题型归纳-3"><code>————题型归纳</code></a></li><li><a href="#典型例题-1"><code>————典型例题</code></a></li></ul></li><li><a href="#定积分">定积分</a><ul><li><a href="#一定积分的概念和几何意义">一、定积分的概念和几何意义</a></li><li><a href="#二定积分的性质">二、定积分的性质</a></li><li><a href="#三积分上限的函数">三、积分上限的函数</a></li><li><a href="#四定积分的计算">四、定积分的计算</a></li><li><a href="#题型归纳-4"><code>————题型归纳</code></a></li><li><a href="#典型例题-2"><code>————典型例题</code></a></li></ul></li><li><a href="#反常积分">反常积分</a><ul><li><a href="#一相关定义">一、相关定义</a></li><li><a href="#题型归纳-5"><code>————题型归纳</code></a></li><li><a href="#典型例题-3"><code>————典型例题</code></a></li></ul></li><li><a href="#定积分的应用">定积分的应用</a><ul><li><a href="#一几何应用">一、几何应用</a></li><li><a href="#二物理应用">二、物理应用</a></li></ul></li></ul></li><li><a href="#一微分方程的基本概念">一、微分方程的基本概念</a></li><li><a href="#二一阶微分方程">二、一阶微分方程</a><ul><li><a href="#1可分离变量的方程y--fxgy">1、可分离变量的方程	y' = f(x)g(y)</a></li><li><a href="#2齐次方程">2、齐次方程</a></li><li><a href="#3线性方程">3、线性方程</a></li><li><a href="#4伯努利方程">4、伯努利方程</a></li><li><a href="#5全微分方程">5、全微分方程</a></li></ul></li><li><a href="#三可降阶方程">三、可降阶方程</a></li><li><a href="#四高阶线性微分方程">四、高阶线性微分方程</a><ul><li><a href="#1线性微分方程的解的结构">1、线性微分方程的解的结构</a></li><li><a href="#2常系数齐次线性微分方程">2、常系数齐次线性微分方程</a></li><li><a href="#3常系数非齐次线性微分方程">3、常系数非齐次线性微分方程</a></li><li><a href="#4欧拉方程">4、欧拉方程</a></li><li><a href="#5差分方程tip">5、差分方程（:::tip</a></li></ul></li><li><a href="#题型归纳-6"><code>————题型归纳</code></a></li><li><a href="#典型例题-4"><code>————典型例题</code></a></li><li><a href="#微分学-1">微分学</a><ul><li><a href="#重极限连续偏导数全微分">重极限	连续	偏导数	全微分</a><ul><li><a href="#一二元函数的极限">一、二元函数的极限</a></li><li><a href="#二多元函数的连续性">二、多元函数的连续性</a></li><li><a href="#三偏导数">三、偏导数</a></li><li><a href="#题型归纳-7"><code>————题型归纳</code></a></li><li><a href="#典型例题-5"><code>————典型例题</code></a></li></ul></li><li><a href="#多元函数微分法">多元函数微分法</a><ul><li><a href="#一复合函数的微分法">一、复合函数的微分法</a></li><li><a href="#二隐函数的微分法">二、隐函数的微分法</a></li><li><a href="#三多元函数的极值与最值">三、多元函数的极值与最值</a></li></ul></li></ul></li><li><a href="#积分学-1">积分学</a><ul><li><a href="#向量代数与空间解析几何">向量代数与空间解析几何</a><ul><li><a href="#一向量代数">一、向量代数</a></li><li><a href="#二空间平面与直线">二、空间平面与直线</a></li><li><a href="#典型例题-7"><code>————典型例题</code></a></li><li><a href="#三曲面与空间曲线">三、曲面与空间曲线</a></li><li><a href="#典型例题-8"><code>————典型例题</code></a></li><li><a href="#四多元微分在几何上的应用">四、多元微分在几何上的应用</a></li></ul></li><li><a href="#二重积分">二重积分</a><ul><li><a href="#一二重积分的概念及性质">一、二重积分的概念及性质</a></li><li><a href="#二二重积分的计算">二、二重积分的计算</a></li><li><a href="#题型归纳-11"><code>————题型归纳</code></a></li><li><a href="#典型例题-10"><code>————典型例题</code></a></li></ul></li><li><a href="#多元积分学及其应用">多元积分学及其应用</a><ul><li><a href="#一三重积分">一、三重积分</a></li><li><a href="#二曲线积分">二、曲线积分</a></li><li><a href="#三曲面积分">三、曲面积分</a></li><li><a href="#四多元积分的应用">四、多元积分的应用</a></li><li><a href="#五场论初步">五、场论初步</a></li></ul></li></ul></li><li><a href="#一常数项级数">一、常数项级数</a><ul><li><a href="#1级数的概念">1、级数的概念</a></li><li><a href="#2级数的性质">2、级数的性质</a></li><li><a href="#3级数的审敛准则">3、级数的审敛准则</a><ul><li><a href="#1正项级数">（1）正项级数</a></li><li><a href="#2交错级数">（2）交错级数</a></li><li><a href="#3任意项级数">（3）任意项级数</a></li></ul></li><li><a href="#题型归纳-14"><code>————题型归纳</code></a></li><li><a href="#典型例题-16"><code>————典型例题</code></a></li></ul></li><li><a href="#二幂级数">二、幂级数</a><ul><li><a href="#1幂级数的相关定义">1、幂级数的相关定义</a></li><li><a href="#2幂级数的性质">2、幂级数的性质</a></li><li><a href="#3函数的幂级数展开">3、函数的幂级数展开</a></li><li><a href="#题型归纳-15"><code>————题型归纳</code></a></li><li><a href="#典型例题-17"><code>————典型例题</code></a></li></ul></li><li><a href="#三傅里叶级数">三、傅里叶级数</a><ul><li><a href="#1傅里叶系数与傅里叶级数">1、傅里叶系数与傅里叶级数</a></li><li><a href="#2收敛定理狄利克雷">2、收敛定理（狄利克雷）</a></li><li><a href="#3周期为2π的函数的展开">3、周期为2π的函数的展开</a></li><li><a href="#4周期为2l的函数的展开">4、周期为2l的函数的展开</a></li><li><a href="#题型归纳-16"><code>————题型归纳</code></a></li><li><a href="#典型例题-18"><code>————典型例题</code></a></li></ul></li><li><a href="#常用公式">常用公式</a><ul><li><a href="#极限运算法则">极限运算法则</a></li><li><a href="#常用基本极限">常用基本极限</a></li><li><a href="#常用等价无穷小">常用等价无穷小</a></li><li><a href="#泰勒公式">泰勒公式</a></li><li><a href="#常用高阶导数公式">常用高阶导数公式</a></li></ul></li><li><a href="#常见空间曲面方程">常见空间曲面方程</a></li><li><a href="#常见二维平面方程">常见二维平面方程</a><ul><li><a href="#抛物线">抛物线</a></li><li><a href="#星形线">星形线</a></li><li><a href="#摆线">摆线</a></li><li><a href="#心形线">心形线</a></li><li><a href="#阿基米德螺线">阿基米德螺线</a></li><li><a href="#伯努利双纽线">伯努利双纽线</a></li><li><a href="#三叶玫瑰线">三叶玫瑰线</a></li></ul></li></ul></div><hr><h1>一元函数微积分</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="微分学">微分学<a class="hash-link" href="#微分学" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="函数-极限-连续">函数 极限 连续<a class="hash-link" href="#函数-极限-连续" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一-函数">一、 函数<a class="hash-link" href="#一-函数" title="Direct link to heading">​</a></h4><font color="red">考点：1）、函数有界性、单调性、周期性、奇偶性的判定</font><p>​			  <font color="red">2）、复合函数</font></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1函数概念">1、函数概念<a class="hash-link" href="#1函数概念" title="Direct link to heading">​</a></h5><p>​			基本要素：定义域、对应法则</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2常用函数">2、常用函数<a class="hash-link" href="#2常用函数" title="Direct link to heading">​</a></h5><p>​			符号函数 y=sgnx</p><p>​			取整函数 y=<!-- -->[x]<!-- --> (不超过x的最大整数)</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3复合函数">3、复合函数<a class="hash-link" href="#3复合函数" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200815094213459-f5bf43334312cf3b529e4dbe5631f1bf.png" width="1043" height="334" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>不是任意两个函数都可以复合</p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4反函数">4、反函数<a class="hash-link" href="#4反函数" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200815094355062-18e735c82ab81c1a768100bdad4dbfe7.png" width="1058" height="202" class="img_ev3q"></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>不是任意两个函数都有反函数</p><p>单调函数=&gt;反函数</p><p>有反函数&lt;=&gt;对定义域中的任意x1、x2，有f(x1)不等于f(x2)</p><p>f^-1^<!-- -->[f(x)]<!-- -->=f<!-- -->[f^-1^(x)]<!-- -->=x</p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5初等函数">5、初等函数<a class="hash-link" href="#5初等函数" title="Direct link to heading">​</a></h5><blockquote><p>​			定义：由常数和基本初等函数经过有限次加减乘除和复合所得到的只能用一个解析式表示的函数</p></blockquote><p>​			基本初等函数：幂函数、指数、对数、三角、反三角</p><p>​			<img loading="lazy" src="/docone/assets/images/image-20200301171031936-d951ef6812fe23282ee949712e88cb50.png" width="619" height="453" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6函数的性质">6、函数的性质<a class="hash-link" href="#6函数的性质" title="Direct link to heading">​</a></h5><p>​			1）、单调性</p><p><img loading="lazy" src="/docone/assets/images/image-20200815095704633-e02722913fc2e04b8ec74baad021ade3.png" width="1020" height="599" class="img_ev3q"></p><p>​			2）、奇偶性</p><p>​						<code>奇+奇=奇、偶+偶=偶、奇×奇=偶、 奇×偶=奇</code></p><p><img loading="lazy" src="/docone/assets/images/image-20200815104936671-64ef78d83dee50366038ca7963a0a088.png" width="1055" height="603" class="img_ev3q"></p><p>​			3）、周期性</p><p>​						<code>f(x)周期为T，则f(ax+b)周期为T/|a|</code></p><p><img loading="lazy" src="/docone/assets/images/image-20200815105610046-a0a6248594d405192bdad607890088d9.png" width="1065" height="490" class="img_ev3q"></p><p>​			4）、有界性</p><blockquote><p>​						有界函数：若存在M&gt;0，使得对任意的x$\epsilon$X，恒有|f(x)|&lt;=M</p><p>​						无界函数：对任意的M&gt;0，至少存在一个x~0~$\epsilon$X，使得|f(x~0~)|&gt;M</p></blockquote><p><img loading="lazy" src="/docone/assets/images/image-20200815110538698-1dba350fa265d823f04c7c226b02827d.png" width="1060" height="567" class="img_ev3q"></p><hr><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="强化题型"><code>————强化题型</code><a class="hash-link" href="#强化题型" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200815111619425-375dc48c5b832fa6beb8b439580f7c44.png" width="1384" height="779" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200815112439076-2af435fbb750fbfd158a6702bc9e3f36.png" width="1421" height="723" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200815113111388-c1bbc6f34005711c3a9085cd01eda455.png" width="1342" height="773" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816133734535-7a24142eef887ace8d06b1e8adec5c37.png" width="1341" height="795" class="img_ev3q"></p><p><code>积分中值定理或定积分不等式均可</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二极限">二、极限<a class="hash-link" href="#二极限" title="Direct link to heading">​</a></h4><font color="red">考点：<br>1）、极限的概念性质及存在准则 </font><font color="red">2）、求极限 </font><font color="red">3）、无穷小量阶的比较</font><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1数列极限">1、数列极限<a class="hash-link" href="#1数列极限" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200816134710624-f2dac91dc177caa58e8727e52156e8f6.png" width="1043" height="459" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2函数极限">2、函数极限<a class="hash-link" href="#2函数极限" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200816134957084-5383ebf154dab9e582b69adcde3f7380.png" width="1082" height="386" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816135624801-fb0285d64e089fda1d9bd866db73c544.png" width="1013" height="756" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816135931188-cd9fb5f9f9b99a6068650afdae027c11.png" width="968" height="348" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200305103408744-bba12662c71affcfd387998d01b2e4a1.png" width="719" height="408" class="img_ev3q"></p><p>​				</p><hr><p>​		<img loading="lazy" src="/docone/assets/images/image-20200309211614776-3dafc6394420e459a9562d41b7981593.png" width="683" height="340" class="img_ev3q"></p><p>​	</p><p>极限性质：</p><p><img loading="lazy" src="/docone/assets/images/image-20200816141349272-61d0a8ece103d4ca49d84e3789f05bb9.png" width="1025" height="685" class="img_ev3q"></p><p>​				    <code>如：f(x)=x²，g(x)=x³在x=0处</code></p><p><img loading="lazy" src="/docone/assets/images/image-20200816141714532-1e4572ded886a0ba3204d4acb1bfa296.png" width="963" height="137" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3极限存在准则">3、极限存在准则<a class="hash-link" href="#3极限存在准则" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200816141938877-dd2cd20bdc619e56393848cf63b6b794.png" width="939" height="411" class="img_ev3q"></p><p>​				<em>夹逼准则的应用：</em></p><p><img loading="lazy" src="/docone/assets/images/image-20200311120342504-e851f955ec9b82425c12fda072af3dee.png" width="979" height="718" class="img_ev3q"></p><hr><p><img loading="lazy" src="/docone/assets/images/image-20200316211548164-5940e795eb68dee9de747fa41fe86e11.png" width="740" height="388" class="img_ev3q"></p><hr><p><img loading="lazy" src="/docone/assets/images/image-20200316212603766-c7722f835c4929d846a211c465fb4c6e.png" width="576" height="326" class="img_ev3q"></p><p>​		</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4无穷小量极限为0的变量">4、无穷小量（极限为0的变量）<a class="hash-link" href="#4无穷小量极限为0的变量" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200816142159016-668f4cf3fbdc844fe8555c0244b0aa02.png" width="975" height="672" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200317103530965-471194b1df9417a27401c9a655775a6a.png" width="649" height="171" class="img_ev3q"></p><p>​			<em>无穷小量的应用：</em></p><p><img loading="lazy" src="/docone/assets/images/image-20200317102311166-21b015b537b215c893939b50b3c4400c.png" width="740" height="388" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5无穷大量">5、无穷大量<a class="hash-link" href="#5无穷大量" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200816142858378-9c1bbd186917ae9a451a7d1be07c77c7.png" width="902" height="684" class="img_ev3q"></p><p>​	 无穷大量的性质</p><p>​			（1）<strong>有限**</strong>个无穷大量的积仍为无穷大量；</p><p>​			（2）无穷大量与有界变量之和仍为无穷大量；</p><p>​	 无穷大量与无界变量的关系</p><p><img loading="lazy" src="/docone/assets/images/image-20200816153515061-90103eaa13f01a93cf1a22a7d758f0fe.png" width="514" height="398" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200324153658740-3b5233724fba0f7ffa12e44cf80cf728.png" width="715" height="497" class="img_ev3q"></p><hr><p><img loading="lazy" src="/docone/assets/images/image-20200319122646800-626f09dd54cbf0b7aa7b02058dd7778d.png" width="1280" height="695" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>选C，考查对极限概念的理解，两式中的ε可以不相等，而不能片面理解成两个ε的值相等，如果只靠背公式则会出错</p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200319124410335-21db917a0912e7eff3f2839c7f36fefd.png" width="1231" height="506" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>选D，D选项条件中不能包含所有的序列，还缺少X3n+2项，ABC都包含了所有项</p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200322104907718-acb61f9fa7a75e9eacd1167bdd23f37c.png" width="1420" height="778" class="img_ev3q"></p><hr><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6求极限常用方法">6、求极限常用方法<a class="hash-link" href="#6求极限常用方法" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200322105251219-6486d73dc6b17dc918562193d3a3661e.png" width="774" height="373" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322111255233-c76582acf51d9b18ccf2c320f7a194f0.png" width="1192" height="772" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322111906649-f3af7550b948a6ce3cbe2e9cdeafe96c.png" width="1213" height="614" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322120515961-5fc23839ccca10bd864510487d9758ec.png" width="984" height="560" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 容易犯经典错误 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200322151238711-aae5085b7ae8b0082c7fd262f87f4ebc.png" width="764" height="662" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322160526710-e5af6dc179cc57fd8df8aed3bdeaf93f.png" width="921" height="507" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322162514116-29b309f0a6cd520fc86bbae15c5c910c.png" width="851" height="452" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322210057570-54298746eb4291c1ac05a81b9ecfb129.png" width="853" height="352" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 常用等价无穷小 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200322210503153-e3d5138f344c713853b9048262152a80.png" width="731" height="508" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 等价无穷小（1+x)^n^-1~nx </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200322211820236-ccd5cb812c21d405077701734fec9f43.png" width="797" height="334" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 也可直接用洛必达法则 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200322213147541-fccece74a06e48d1816d966c06a2d4ae.png" width="807" height="401" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322214527184-7308c48da8a29101101d5b429e6002ab.png" width="771" height="485" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322215346125-661e2b1386a8b7ed5efaa3660e7eb4c3.png" width="755" height="331" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322215653907-b40caba29583dc1401c9d4a46d8909c2.png" width="826" height="409" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200322220747734-788b9a4f1f164450e7eba69607f41930.png" width="664" height="467" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 极限 、连续、导数、级数均满足以上性质 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200324132656469-8e2192d9bba5423af4473bad58403247.png" width="755" height="259" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200324141658385-4b0ccd44f99b69d94f50d30d9f1a0a76.png" width="802" height="172" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 将其内部分解，利用有理运算相加减法则 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200324143532896-af85c6d3637b7a7100ce5149c442431a.png" width="652" height="476" class="img_ev3q"></p><p> <img loading="lazy" src="/docone/assets/images/image-20200324144149857-fda143596c70d36247134ea9a8031594.png" width="869" height="503" class="img_ev3q"></p><p> <img loading="lazy" src="/docone/assets/images/image-20200324150435756-ab7508b38cb97618ab18422c8aac6c57.png" width="911" height="496" class="img_ev3q"></p><hr><p><strong>洛必达法则</strong></p><p><img loading="lazy" src="/docone/assets/images/image-20200324172725971-729ab026a3ae63bdaa9298a46ef1998f.png" width="851" height="516" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200324181459441-06c06a857a7845af05d0648d80da49e5.png" width="857" height="362" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 先变换成洛必达法则适用形式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200325122622893-4b25bf1da463ed3a56443ed067df3c27.png" width="731" height="352" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 此题易犯错，如果告诉f(x)n阶可导，则洛必达法则只能用到(n-1)阶，除非条件为连续可导 </p></div></div><p><strong>泰勒公式</strong></p><p><img loading="lazy" src="/docone/assets/images/image-20200325145039108-6986dae8f5710841b071a70242123da0.png" width="841" height="231" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 带佩亚诺余项的公式用于求极限、极值；拉格朗日用于求最值、不等式 </p></div></div><p><strong>常用的泰勒公式</strong></p><p><img loading="lazy" src="/docone/assets/images/image-20200325145200963-7680119b5dd902136b275c90ab7c70a9.png" width="525" height="230" class="img_ev3q"></p><p>展开原则：</p><p>1、分式上下同阶原则（A/B形式）：将分子分母展开到同阶</p><p>2、加减幂次最低原则（A-B形式）：将A、B展开到它们系数不相等的x的最低次幂为止（即幂次数相同，且幂次数是第一次出现，其系数也不同）</p><p>若α ~ β  $\Longrightarrow$​α=β+o(β)
$$
（tanx-x）~ \sim \frac{1}{3}x^3，\Longrightarrow tanx=x+\frac{1}{3}x^3+o(x^3)
$$</p><p>$$
（x-arctanx）~ \sim \frac{1}{3}x^3，\Longrightarrow arctanx=x-\frac{1}{3}x^3+o(x^3)
$$</p><p>$$
（arcsinx-x）~ \sim \frac{1}{6}x^3，\Longrightarrow arcsinx=x+\frac{1}{6}x^3+o(x^3)
$$</p><p><img loading="lazy" src="/docone/assets/images/image-20200325153258984-d065e24988a766a3dc9948872be155e2.png" width="844" height="457" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 解法一为泰勒，解法二为洛必达+等价无穷小 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200327105650711-015a6a8f387c4a2b657b2cc01069da2d.png" width="771" height="398" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 解法一泰勒展开，利用x-ln(1+x)等价于1/2x^2^求解（其中一次项系数必须等于0，否则极限不存在 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200327111203842-8ba67f70375d3c06fa776aad6f63082b.png" width="681" height="390" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200327111030274-cb8ad7f2ff329d51431a934b200be5bb.png" width="594" height="289" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 将左式拼接成右式 </p></div></div><p><strong>夹逼原理</strong></p><p><img loading="lazy" src="/docone/assets/images/image-20200327112155164-ea5f0f09f33d34a4f56e58134abc2796.png" width="667" height="373" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200327113054233-de4ef63632637e9013b29dd23dd2021d.png" width="809" height="453" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200327113509546-d36dfb96f8419bb0648a97dacdea0857.png" width="769" height="392" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200327113826031-7ad9a1b6090e761f563db2d7dc8ae97f.png" width="626" height="303" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 常用结论根号下的式子中，1/a最大 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200327114957423-ce3a16e869cdddd78c88666387a721fc.png" width="801" height="381" class="img_ev3q"></p><p><strong>单调有界准则</strong></p><p><img loading="lazy" src="/docone/assets/images/image-20200327115758574-5869a84c6f821672db88ed33d3b093ed.png" width="817" height="469" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 须先证明极限存在 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200327121045097-27915d303088dc86562b3eceb54300d0.png" width="685" height="458" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 分子有理化 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200327121403058-7c521c382ff87491d57975fdf274128c.png" width="564" height="200" class="img_ev3q">
​                                                                          :::tip</p><p> (1+x)^α^-1 ~ αx== ==1-cos^α^x ~ (α/2)x^2^ </p><p>:::</p><p><img loading="lazy" src="/docone/assets/images/image-20200327122418706-deb8e306f3267a6a077650d7a69c6e30.png" width="768" height="387" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200327122947808-3c56ef6c6eb7acc8c4eea4367a775186.png" width="717" height="439" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200328162546251-18f6932e0d0c4b4646773354c354df2a.png" width="712" height="391" class="img_ev3q"></p><hr><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="强化题型-1"><code>————强化题型</code><a class="hash-link" href="#强化题型-1" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200816154825266-24872b20b867e24efc8fc2b9caa5eba3.png" width="1055" height="620" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816155159451-d50b890daba0e8ca7f1abfa10d8d5349.png" width="1134" height="305" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816155734612-eda3f8d82212635b901591b66b6fe4bf.png" width="956" height="270" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816160842445-5d8cc35b9f0c9919249ef6741d8a9ff6.png" width="1079" height="640" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816161219692-70fc764e8a73aa7fd51d508652dcd0b8.png" width="1284" height="551" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200816162041454-b3fcf599a7fed01ea0a1bbdbb32ea629.png" width="1127" height="802" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200817140856842-2dada7cc0180629cc21a45aee9c8285b.png" width="1024" height="639" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200817141810813-653464c8efc89f480b8b6fd13160a120.png" width="1067" height="685" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200818141807866-d8340a625c7ebf5b61ad13e11e32755d.png" width="1232" height="795" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200818154248307-4b2e0e90ef89ddab502791c3f75ed03d.png" width="1067" height="761" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200818154459455-82be1fc28376d2e93428ed7a24c14989.png" width="1054" height="707" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200818155518813-fcab32fdfc699098b523981fdb12b48b.png" width="1013" height="796" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819133708710-9b9d7490a3058faf96c1da33a5f2b100.png" width="995" height="788" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819134452376-f250287923f88fc42d2c75b2de22ee8a.png" width="899" height="591" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819134903642-b5d74d6d3e5b1dd5be229bdcebc05b04.png" width="1125" height="680" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819135903312-339c5510985d2e59fbcfbeac6e917eab.png" width="1117" height="727" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819140137228-b7288c7834da10d3b69ab6435c2a708c.png" width="1033" height="452" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819140349091-32b32eb85a2ab77436f7969dd8237289.png" width="1056" height="307" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819140938906-cda46a230d26d32e93f942bcc1ef8907.png" width="1066" height="494" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819140821771-557042b675ceba17370fb24aa01d0f32.png" width="1186" height="436" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三连续">三、连续<a class="hash-link" href="#三连续" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1连续的概念">1、连续的概念<a class="hash-link" href="#1连续的概念" title="Direct link to heading">​</a></h5><blockquote><p><img loading="lazy" src="/docone/assets/images/image-20200328164629131-29e03ed2eebab9fdcaacdea74a423be1.png" width="574" height="263" class="img_ev3q"></p><p>定义4:&nbsp; 区间上的连续。（a,b)连续即区间内所有点连续，不包含端点；<!-- -->[a,b]<!-- -->连续即要求端点a右连续，端点b左连续。</p></blockquote><p><img loading="lazy" src="/docone/assets/images/image-20200328170005823-4bc86622f1999455725ead3374eafae2.png" width="702" height="325" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2间断点及其分类">2、间断点及其分类<a class="hash-link" href="#2间断点及其分类" title="Direct link to heading">​</a></h5><blockquote><p><strong>定义：</strong>若f(x)在某去心领域有定义，但在X~0~处不连续，则称X~0~为f(x)的间断点</p></blockquote><p><strong>分类</strong>：<img loading="lazy" src="/docone/assets/images/image-20200819142906260-41ac866e1e5d1972a2765b46cbe480cb.png" width="937" height="546" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 判断并说明间断点时第一类必须精确到细分类，第二类不用再细分 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200402114726875-b7675a6a27801a3522334c16af0608d0.png" width="736" height="324" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200402115352780-b722f12eed04adf6c79d05b1d6dbda3a.png" width="725" height="436" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 选A。x=0和x=1无定义，且x=0有极限则为可去间断点；x=1左右极限不等则为跳跃间断点 </p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3连续函数的性质">3、连续函数的性质<a class="hash-link" href="#3连续函数的性质" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200819143321005-d988d1e1331b37e1ed1ba33ac584f8a0.png" width="1059" height="667" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819143445355-a36ddd74dbd1c81667e1911c7b72d352.png" width="1077" height="291" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200403131825353-58a408f206d5df0cf833f09f21421af6.png" width="564" height="98" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200403153925411-e6567705abceaf888b7a862721174d36.png" width="598" height="427" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200403154720969-afb6ab6fa7c8119de2b909b1dde90b32.png" width="759" height="204" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 1^∞^<em>型极限</em> </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200403155748132-1b26e875f8f6b0430d1f84e7fad1ac97.png" width="784" height="415" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> x--&gt;1时需判断左右极限 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200403160721392-4faf1e74914bf8be0ba7f8fe708fd323.png" width="663" height="438" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200403160834555-e964ee9cc6e39cd5b9971e81568f9282.png" width="596" height="308" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 如果是初等函数，则除间断点外其他处处连续 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200403161748017-8fc568d229c76a471e20666ad08720cd.png" width="770" height="356" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> x=1时，左极限≠有极限≠f(1)，所以为跳跃间断点；x=-1时，左极限=有极限=f(-1)，所以为连续点 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200403162820789-6b84b5625d9c4ce9a45690207f2e0e0c.png" width="772" height="438" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 应用最值定理和介值定理。先对式子进行放大缩小 </p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="强化题型-2"><code>————强化题型</code><a class="hash-link" href="#强化题型-2" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200819145540682-9c01efcba2252c96c1c2ce288d720f57.png" width="1024" height="602" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819144649232-73c9b543aca50e74dda9c2081650c65e.png" width="1021" height="704" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200819145310002-0374f2621cd8662c0ff9ff6dc8ba5401.png" width="1084" height="803" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200820132320794-e98c63e05d915fc79abe2e9f51d1843f.png" width="1343" height="784" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200820132637222-394561667de6e9949f412a34100e013a.png" width="1303" height="768" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200821163251195-bfef95df00cde81221306a5bb1c894c3.png" width="1274" height="529" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳"><code>————题型归纳</code><a class="hash-link" href="#题型归纳" title="Direct link to heading">​</a></h5><blockquote><ol><li>函数性质</li><li>复合函数</li><li>极限概念和性质</li><li><font color="red">求极限</font></li><li><font color="red">无穷小量阶的比较</font></li><li><font color="red">讨论函数连续性及间断点类型</font></li><li>有关闭区间上连续函数性质的证明</li></ol></blockquote><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="导数-微分">导数 微分<a class="hash-link" href="#导数-微分" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一导数与微分的概念">一、导数与微分的概念<a class="hash-link" href="#一导数与微分的概念" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1导数的概念">1、导数的概念<a class="hash-link" href="#1导数的概念" title="Direct link to heading">​</a></h5><p><em>（该点变化率）</em></p><p><img loading="lazy" src="/docone/assets/images/image-20200821171644871-2352481c1a4d8bdd55afa3ae3d05b360.png" width="1094" height="375" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404133304534-e8d454e56e1693b7d40f185931b862a6.png" width="767" height="461" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> x=1处的右极限不能直接带入，因为x取不到1 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200404134502583-97c493a039f798f9f50cd674d84e622a.png" width="790" height="396" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2微分概念">2、微分概念<a class="hash-link" href="#2微分概念" title="Direct link to heading">​</a></h5><p><em>（函数改变量的近似值）</em></p><blockquote><p><img loading="lazy" src="/docone/assets/images/image-20200404135038228-e3cafe555255962ffaf4e162bc2b0629.png" width="630" height="304" class="img_ev3q"></p></blockquote><p><img loading="lazy" src="/docone/assets/images/image-20200404135350912-893b28ecf06aef5a4fbc8d8f062d470d.png" width="775" height="354" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3导数与微分的几何意义">3、导数与微分的几何意义<a class="hash-link" href="#3导数与微分的几何意义" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200404135856760-59c05740077c006e115c14c2f31a7aaa.png" width="703" height="411" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4连续可导可微之间的关系">4、连续、可导、可微之间的关系<a class="hash-link" href="#4连续可导可微之间的关系" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200821173227423-79fa3c46afd7c7ba96b95f3e65cc0317.png" width="1069" height="700" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404150225102-02edc6b25ffd98872759bb62317739fe.png" width="576" height="161" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 若f(x) n阶可导，则洛必达法则最多能用到(n-1)阶 </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 若f(x) n阶连续可导，则洛必达法则最多能用到 n 阶 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200404151508971-f6f008c7a2755fb52eb4db438050a5a6.png" width="801" height="447" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二导数公式及求导法则">二、导数公式及求导法则<a class="hash-link" href="#二导数公式及求导法则" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1基本初等函数的导数公式">1、基本初等函数的导数公式<a class="hash-link" href="#1基本初等函数的导数公式" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200821173333793-33daed9b39d581a94e9ac37bd0e44bf4.png" width="1072" height="655" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2求导法则">2、求导法则<a class="hash-link" href="#2求导法则" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200821173421073-12c6c0c15504922234306f2d5a2b36d5.png" width="1011" height="556" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200821173607578-720f9098bd0c3717a7a94937d1e59ce0.png" width="986" height="677" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404152532699-82c4afab30447e1c7dbd08676593b54b.png" width="705" height="251" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404155136549-b983c8f284edac8baddd352b2cbbc3fa.png" width="639" height="183" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404155630505-f79cc261709310944e345671dfc3b0eb.png" width="711" height="397" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404160406605-38230070ff67b953a3263b0ee6757b89.png" width="787" height="427" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 还可推出φ''(y)=-f''(x)/f '^3^(x) </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200821173725759-64b6a05315731b31d93d50707242edc2.png" width="1027" height="657" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404161718549-2b6fb18716a3907d839081fe83178a6b.png" width="777" height="438" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404161950860-f15730b97d2b4a6e831391baf83eeeae.png" width="743" height="424" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 两边同时取对数 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200404162157442-0dd10e5f46b513dc00722c3f4daaac47.png" width="695" height="317" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三高阶导数">三、高阶导数<a class="hash-link" href="#三高阶导数" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200821173851335-6cd1dfa0a3f8087328c286698e161c63.png" width="982" height="709" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200404163219248-16e82d5ea1f97b83b37796bf7f4eda69.png" width="802" height="257" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> y=sin(ax+b)，则y^(n)^=sin(ax+b+nπ/2)×a^n^ </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200404163907174-b3b0a19a044afade993eb62d47ee123c.png" width="721" height="255" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 可用莱布尼茨公式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200405135422478-77b56aea92a72e6ef0681aaf7a5033fb.png" width="683" height="309" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 解法二为举特例 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200405140119642-5a4a2282359e674fe412164b2bf062d7.png" width="665" height="347" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405140843676-f17169fc41264259417aaf66b1be1050.png" width="688" height="347" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> f(0)=1,利用导数定义可知要求所给极限，即要求f'(0） </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200405141934249-d9102bfe93d55196e47254dcffe4f91b.png" width="680" height="352" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 考查导数的定义 </p></div></div><p> <img loading="lazy" src="/docone/assets/images/image-20200405144343985-f2fdadbb4a0ad22fe56895e68fafc9b1.png" width="699" height="395" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> A选项只能证明右导数存在；B选项的n默认为正整数；C选项整体极限存在，不能证明单个极限存在 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200405160725058-b49e3133861d419689aa07a298948c5a.png" width="698" height="206" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405161304285-25414c9cf2208894cbf95f3e14142b79.png" width="695" height="385" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405161730992-52e5db5cfdf902ca6cca7a9432de2b4a.png" width="701" height="393" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405163110088-7cc8db04dd3d2145fe55dc1b7fc5a96f.png" width="698" height="385" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405163934677-b350cb55ad8875406d243b11d6aefc44.png" width="696" height="388" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四导数应用">四、导数应用<a class="hash-link" href="#四导数应用" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1导数的几何意义">1、导数的几何意义<a class="hash-link" href="#1导数的几何意义" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200405170946681-5acb56cbbf8b61e995c1437d5d6f34c1.png" width="697" height="305" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405171826345-e73bce5f7a37965c3891a5f046da0fb8.png" width="698" height="375" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2相关变化率">2、相关变化率<a class="hash-link" href="#2相关变化率" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200405174837963-a3a84f56f97360755a3eeba266757d36.png" width="704" height="341" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="强化题型-3"><code>————强化题型</code><a class="hash-link" href="#强化题型-3" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200822154955020-d64b4f2be54514855b67961ab8140046.png" width="1126" height="786" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200822155234380-66da2083987d0ee251fcd881341f5915.png" width="1251" height="610" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200822163715713-7b7e09f7515efaaa97e0994af58e0e22.png" width="1168" height="451" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200823134029211-76e500a17908ccddfa1ecffb3e3ee245.png" width="1189" height="747" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200823134649328-19ec8daf49e6d47467dfa2668afc0f2e.png" width="1172" height="642" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200823134957367-7e2ef6e0a74109b2fd6b5e5cc44a0267.png" width="1336" height="755" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200823135700118-9408ee00d2cb83788a2332da51e21c47.png" width="1143" height="540" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200823135852454-10501a01462f3f8c7170e749955ded06.png" width="1223" height="467" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200823140017855-f04c2f644ef2f136e74d4ac9b3353a55.png" width="1202" height="779" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-1"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-1" title="Direct link to heading">​</a></h4><blockquote><ol><li>导数定义</li><li>复合函数、隐函数、参数方程求导</li><li>高阶导数</li><li>导数应用</li></ol></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="微分中值定理及导数应用">微分中值定理及导数应用<a class="hash-link" href="#微分中值定理及导数应用" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一微分中值定理">一、微分中值定理<a class="hash-link" href="#一微分中值定理" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1罗尔-拉格朗日柯西">1、罗尔 	拉格朗日	柯西<a class="hash-link" href="#1罗尔-拉格朗日柯西" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200827153908918-c7617d8522a14a5e186489891f4a4b06.png" width="814" height="411" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200825131645399-7a9fa3ca166d1c6138abbe4d7df28377.png" width="1072" height="142" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827154022142-6e256f999b5732c21e0c797f24246fe0.png" width="729" height="365" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827154517623-3382ac66f0bce3e7e8f810366e510821.png" width="807" height="297" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405182721077-5308a3b1c2a63ab9e2417a1fd9f47d0e.png" width="695" height="405" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2常用泰勒公式">2、常用泰勒公式<a class="hash-link" href="#2常用泰勒公式" title="Direct link to heading">​</a></h5><hr><p><img loading="lazy" src="/docone/assets/images/image-20200405183021990-e5e6dd210c791f3912af8dfdadb7c0e2.png" width="689" height="387" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二导数应用">二、导数应用<a class="hash-link" href="#二导数应用" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1函数的单调性">1、函数的单调性<a class="hash-link" href="#1函数的单调性" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200405195632066-adc001bb484be4de0a1cbe77e0dd250b.png" width="695" height="117" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2函数的极值">2、函数的极值<a class="hash-link" href="#2函数的极值" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200405195854551-bf1a3a0aa4b60aebcd29efd7a5e4d390.png" width="694" height="126" class="img_ev3q"></p><u>极值的必要条件：</u><p>​	若f(x)在X~0~处可导，且在X~0~处取得极值，则f '(X~0~)=0</p><u>驻点与极值点的关系：</u><p>​	:::tip</p><p> 若f(x)可导：那么极值点一定是驻点；驻点不一定是极值点 </p><p>:::</p><u>极值的第一充分条件：</u><p><img loading="lazy" src="/docone/assets/images/image-20200405201022812-bdb2f2b81ceb159778dbd1c7e9f35655.png" width="697" height="298" class="img_ev3q"></p><u>极值的第二充分条件：</u><p><img loading="lazy" src="/docone/assets/images/image-20200405201315343-bb5865723a094ce1f219e034c19e6bfe.png" width="697" height="136" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3函数的最大值最小值">3、函数的最大值最小值<a class="hash-link" href="#3函数的最大值最小值" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200405201700429-84959a87bc389fd7736b5cd2343f6aee.png" width="698" height="195" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 若连续函数f(x)在（a,b）内仅有唯一极值点，那么就是最值点 </p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4曲线的凹凸性">4、曲线的凹凸性<a class="hash-link" href="#4曲线的凹凸性" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200405203319514-b8af972bc95a6ebe5b6c5658f88ff3d4.png" width="686" height="91" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200405203827128-9c86d67e01c15522795ff1724ecb9c87.png" width="699" height="94" class="img_ev3q"></p><p><code>拐点的第一充分条件：</code></p><p>​	f''(X~0~)=0，f''(X~0~)在X~0~两侧变号，则（X~0~，f(X~0~)）为拐点</p><p><code>拐点的第二充分条件：</code></p><p>​	f''(X~0~)=0，f'''(X~0~)≠0，则（X~0~，f(X~0~)）为拐点</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5曲线的渐近线">5、曲线的渐近线<a class="hash-link" href="#5曲线的渐近线" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200718154357757-28c49db61728d148f874fe0ae0d75291.png" width="932" height="540" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6函数的作图">6、函数的作图<a class="hash-link" href="#6函数的作图" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7函数的弧微分与曲率">7、函数的弧微分与曲率<a class="hash-link" href="#7函数的弧微分与曲率" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200718154110317-06c6b2bc7bfdbdeeec3d40be85b40343.png" width="697" height="441" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200718154245807-a318542aaaef642e589f788f750b1817.png" width="915" height="171" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200824160755777-bdae1293f1a2bdd6b574409e571f46ae.png" width="1066" height="670" class="img_ev3q"></p><u>相关例题</u>：<hr><p><img loading="lazy" src="/docone/assets/images/image-20200406131240163-95d59ea4861f5ed1908fc1c6ecd6a250.png" width="706" height="329" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 需要注意的是导数不存在的点，如果没有连续这个条件则不一定有极值点 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-2"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-2" title="Direct link to heading">​</a></h4><blockquote><ol><li>函数极值和最值、曲线的凹向与拐点</li><li>函数的极值和最值、曲线的凹向与拐点</li><li>求曲线的渐近线</li><li>方程的根</li><li>不等式的证明</li><li>有关中值定理的证明</li></ol></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题"><code>————典型例题</code><a class="hash-link" href="#典型例题" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200406132312854-02a2409398a604d556d796ddefe09d7a.png" width="703" height="362" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 用到了极限的保号性 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200406142746658-e0205e2a72dc7974be746666d4cf3516.png" width="697" height="386" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406142930365-380afd2d16689ad87b6c21e5f0622241.png" width="693" height="304" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406143609387-8298741972fb594fcaf4f595127fda74.png" width="695" height="356" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200530152620469-fa6bb2cb1d916219229503f39e247db1.png" width="770" height="421" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406145533800-d7dc0e6d6c59c62b28c6f31261bc8f8b.png" width="690" height="323" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 选C。即判断是否有水平、垂直、斜渐近线，解法二：可写成f(x)=ax+b+α(x)就有渐近线 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200406150845464-0f6941168ec10a26935662471fb6a6d9.png" width="686" height="389" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 特别注意的是e^∞^≠∞ </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200406151714305-e0c28737fc868d644ea3defd4067e5d9.png" width="694" height="393" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406152403283-488357f1a9fbb442a82a2ede036fd092.png" width="694" height="353" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406153104057-cdbea319aa985fade9fbea6f9faa7ba4.png" width="693" height="359" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 罗尔定理的应用 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200406153541338-36968911541c16ab8233fc423b72f881.png" width="692" height="343" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406154346386-19511f1d080bb9f8d3555782ef7c1259.png" width="696" height="335" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 拉格朗日的应用 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200406155021648-3f225080a29e0c9303d77c5b2c5e0a06.png" width="692" height="345" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406155257595-5ae0af5b767817ca9fa6b14594349bfc.png" width="694" height="298" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406155710801-e92686f1317d58234e963a1cd33f26d5.png" width="694" height="388" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406211917790-eb8e7dd78152efa3b25232ecccccad5c.png" width="702" height="354" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200406214811878-dce1c49945f9202d0a17f3b821d11432.png" width="699" height="392" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 第二问一般解法为构造辅助函数，利用罗尔定理求解 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="强化题型-4"><code>————强化题型</code><a class="hash-link" href="#强化题型-4" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200827134634454-128ab4b222d7898033d09ca736ded0d3.png" width="1211" height="786" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827135530449-bc9a40a28e3dcb40540e12d8d6596a92.png" width="1207" height="767" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827140238548-b3fe79d1eb6479bc23b05d8ec36f734f.png" width="1136" height="681" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827140551249-ac30392fd83fdf24ff2a2f94d171dbf2.png" width="1227" height="553" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827141236090-0cb84630d523ca65acec2442c74e1a7f.png" width="1309" height="769" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 要学会灵活易变 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200827141538109-ea6aa54aa9714f660c30c1eaed827e95.png" width="1368" height="600" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827152013284-f2df20354dd0800c2a87f7c9d2295922.png" width="1282" height="794" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827152918834-bf61a539c643c8f4e70a8c3dc1181934.png" width="1275" height="780" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827153429485-b61986caee6fcdc3f7a72290d76ae9a0.png" width="1280" height="686" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827154736850-4be112ccf489630a9eb4d2fd8334d7b7.png" width="1166" height="663" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827154927719-b33699f61ec50033b57652e672676bff.png" width="1220" height="701" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827155332640-5035cd5ddba22b75840a36a6e71aff31.png" width="1225" height="710" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827155818850-13b3ce56bd66adf3cee3d51c138992aa.png" width="1318" height="796" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827160616019-8fbb3db5b5fb59c2a4593a67be2f5ad1.png" width="1301" height="666" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827160735267-ba3ba4aab61aceea30c1d9d1d3707dfe.png" width="1227" height="345" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827161805112-1cda1cc1bf3b1777020d9f998b6660ef.png" width="1309" height="774" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827162135150-6c758434127b2e8d2569cd2bafbae461.png" width="1291" height="799" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200827162910666-983824e1a18d9622c16aa52aa3ca1999.png" width="1340" height="674" class="img_ev3q"></p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="积分学">积分学<a class="hash-link" href="#积分学" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="不定积分">不定积分<a class="hash-link" href="#不定积分" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一概念与性质">一、概念与性质<a class="hash-link" href="#一概念与性质" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200407132331286-fe45f03ca36017ec9a3acb6517a37a14.png" width="685" height="140" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407132406871-470ab61e73d7c0a1ba5d3eac760e4962.png" width="685" height="181" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407132919254-502210e300b942abd1122df2225b42b1.png" width="692" height="383" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407133359214-2c88d74b3e23670a576f651e6e41e724.png" width="694" height="288" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407133703967-32fb9927519b83bef8d5d2c70b672c1f.png" width="688" height="265" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二不定积分的基本公式">二、不定积分的基本公式<a class="hash-link" href="#二不定积分的基本公式" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200722095623073-d17c85105e806ad5eaf9c6ec06976a17.png" width="648" height="506" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407135218439-93f37ab7bc8ba418246c17ad2b791125.png" width="690" height="359" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三三种主要积分法">三、三种主要积分法<a class="hash-link" href="#三三种主要积分法" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1第一类换元法凑微分法">1、第一类换元法（凑微分法）<a class="hash-link" href="#1第一类换元法凑微分法" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200407142212538-e445ecf7907b08da1d44b711f764bdb7.png" width="692" height="115" class="img_ev3q"></p><hr><p><img loading="lazy" src="/docone/assets/images/image-20200407135804965-1a4e054bf1e00250b156456b13ea27c4.png" width="691" height="328" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 不定积分的解法不同，结果也可能会不同 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200407140521613-2b291ead16d80e8ecb2593bebdbf259b.png" width="694" height="304" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407141000399-693e9482fcd04b2639f8f2e865bfd7c4.png" width="698" height="270" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407141957184-d7645cd67198fec659e7ea356851eacb.png" width="691" height="229" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2第二类换元法">2、第二类换元法<a class="hash-link" href="#2第二类换元法" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200407143056797-6c5035a298f9d61034110a6268d22345.png" width="695" height="305" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407143743808-1d1491ecd5477128aad3b7dd5ffb2ab6.png" width="694" height="388" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407144042532-768cae164a3e2d38bf4567fe2b4177cc.png" width="690" height="387" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407144343435-a5dcec39a39242edaa8df0084bf20d90.png" width="689" height="303" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3分部积分法">3、分部积分法<a class="hash-link" href="#3分部积分法" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200407144544047-4eb7eb428d9acf5fcd7a935ec6011856.png" width="697" height="201" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407144739645-b1af26dfefb8a9a87cd66a9d5cd62afd.png" width="692" height="284" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四三类常见可积函数积分">四、三类常见可积函数积分<a class="hash-link" href="#四三类常见可积函数积分" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1有理函数积分">1、有理函数积分<a class="hash-link" href="#1有理函数积分" title="Direct link to heading">​</a></h5><p>$\int$ R(x) dx</p><p>（1）一般法（部分分式法）</p><p>（2）特殊方法（加项减项拆或凑微分降幂）</p><p><img loading="lazy" src="/docone/assets/images/image-20200407145720973-79bd40eb1a795d68108a79b60fb25060.png" width="696" height="227" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407150143508-e39791371fab313f9a5c90ffc621d364.png" width="697" height="398" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2三角有理式积分">2、三角有理式积分<a class="hash-link" href="#2三角有理式积分" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200407150522946-503206477e5d9e3deb7ee75f78f97556.png" width="697" height="288" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407151257279-77fef120cac61cbed7d4ae9e8cbdb499.png" width="698" height="396" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407151543590-9dd9bb3414fedf2bbf889bfc37e4aa66.png" width="697" height="388" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407152634269-4556d80075b04264a20914169b9b825c.png" width="700" height="328" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3简单无理函数积分">3、简单无理函数积分<a class="hash-link" href="#3简单无理函数积分" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200407152802384-f8b1521e39b239ebd9e6d9cb608439b5.png" width="694" height="111" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200407152938931-caa477387005d4fbe0157077076c2444.png" width="698" height="355" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-3"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-3" title="Direct link to heading">​</a></h4><blockquote><ol><li>求积分（换元、分部）</li></ol></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-1"><code>————典型例题</code><a class="hash-link" href="#典型例题-1" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200408131721511-cacca30a3e1ee90f64c84838fcf0da7e.png" width="698" height="255" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408132319559-f10d61d068c21dd5c677fb9fe2f4a7b4.png" width="697" height="381" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 需要讨论连续性 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200408133709547-60ebb746ceff85af9317f0c483c2293c.png" width="699" height="383" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408134100116-dc33a02a05d442f3c9e42b6e0d281dcc.png" width="700" height="388" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 解法二为排除法 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200408134745482-edc10628afa83775f20c7a87efc9dd90.png" width="697" height="372" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408135523566-1798dda6b2bae6f3ca95b42f234ef27d.png" width="700" height="312" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408135700978-98cab5d1bac8c1e4b994507ba28c0792.png" width="695" height="243" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408140820162-3f020439eb101ecba67801ee3a0ef6f7.png" width="698" height="301" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408150446634-fbb8a3a9758a01d0e7580656d4effee4.png" width="699" height="348" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408151325827-9a140b2919f5079d98b9238476bd2493.png" width="702" height="331" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408152502937-acf56f2bc8da73ca944a22b41106744f.png" width="698" height="376" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="定积分">定积分<a class="hash-link" href="#定积分" title="Direct link to heading">​</a></h3><hr><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一定积分的概念和几何意义">一、定积分的概念和几何意义<a class="hash-link" href="#一定积分的概念和几何意义" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200408154412571-ccd42920619939ff0bb54302032b67db.png" width="691" height="265" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200408160005174-3421dd11e2af179f07e011ce3ed5bab8.png" width="693" height="379" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二定积分的性质">二、定积分的性质<a class="hash-link" href="#二定积分的性质" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200408160909311-e65c5d820bdde6f3fc0408e394e79f2e.png" width="699" height="357" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> f(x)为奇函数，则$\int_{0}^{x}{f(t)}dt$ 为偶函数； </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> f(x)为偶函数，则$\int_{0}^{x}{f(t)}dt$ 为奇函数； </p></div></div><p><em>证明如下：</em></p><p><em>设 F(x) = $\int_{0}^{x}{f(t)}dt$</em>
$$
F(-x)=\int<em>{0}^{-x}{f(t)}dt=\int</em>{0}^{x}-{f(u)}d(-u)=\int<em>{0}^{x}{f(u)}du=\int</em>{0}^{x}{f(t)}dt=F(x)
$$</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三积分上限的函数">三、积分上限的函数<a class="hash-link" href="#三积分上限的函数" title="Direct link to heading">​</a></h4><p>$$
\int_{a}^{x}{f(t)}dt
$$</p><p><img loading="lazy" src="/docone/assets/images/image-20200408162610460-f7fe84802d012e93c7ef7ef085a33355.png" width="698" height="144" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四定积分的计算">四、定积分的计算<a class="hash-link" href="#四定积分的计算" title="Direct link to heading">​</a></h4><p><em>牛顿-莱布尼茨公式：</em>
$$
\int_{a}^{b}{f(x)}dx=F(b)-F(a)
$$</p><p><em>换元法：</em>
$$
\int<em>{a}^{b}{f(x)}dx=\int</em>{α}^{β}{f(φ(t))φ'(t)}dt
$$</p><p><em>分部积分法：</em>
$$
\int<em>{a}^{b}{u}dv=uv|</em>{a}^{b}  -\int_{a}^{b}{v}du
$$</p><p><em>利用奇偶性、周期性：</em></p><p><img loading="lazy" src="/docone/assets/images/image-20200408164420735-90b2aa435dd42ae18d5ada8458d1b581.png" width="694" height="127" class="img_ev3q"></p><p><em>点火公式：</em></p><p><img loading="lazy" src="/docone/assets/images/image-20200408165010442-b6868bf6e83d055e052393ef7e03bbb4.png" width="692" height="167" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-4"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-4" title="Direct link to heading">​</a></h4><blockquote><ol><li>定积分的概念、性质及几何意义</li><li>定积分计算</li><li>变上限定积分</li></ol></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-2"><code>————典型例题</code><a class="hash-link" href="#典型例题-2" title="Direct link to heading">​</a></h4><hr><p><img loading="lazy" src="/docone/assets/images/image-20200408170836803-c1e45a795c590c9560986073e71966b7.png" width="695" height="311" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 提可爱因子 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200409150846781-4559db7650013ef274cf47398f3f69fd.png" width="695" height="249" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409152252067-a74c4bf97caae0f4b2ea6dc7fcabf672.png" width="694" height="227" class="img_ev3q"></p><p> <img loading="lazy" src="/docone/assets/images/image-20200409153001364-459eb5b506a4c2bfbe01254cea368227.png" width="698" height="240" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 此题就用夹逼原理 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200409153753804-c57be53793b85482b7ee04cf3a8b5d86.png" width="701" height="305" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409154105120-a0984e1c1cc2bbc5afd465ee9b972770.png" width="697" height="288" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409155624034-5b422aee82b96d5c3e90c332a3790824.png" width="703" height="386" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 需要注意在使用定积分的几何意义时必须满足积分上限大于积分下限 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200409162209109-165d4e8e4a14d60ed585ecb56b2f5f8f.png" width="698" height="388" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409162607786-d8908466377a02f21ccdb798412284f1.png" width="700" height="389" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409163726166-45e34990ba98344567ab14f2321f07b5.png" width="697" height="326" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 积分中值定理以及罗尔定理的应用 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200409164310292-7449632f90e371a61c618ab99e45479c.png" width="699" height="341" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> ①熟记sin^n^x积分公式；②判断奇偶 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200409164818832-3b7c212801453ef5b7d63655c2134726.png" width="696" height="386" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409165107649-9afa6881168837e0b0961a0af1dd06b3.png" width="696" height="357" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 巧用公式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200409165910344-2c81f36e43c49bce4e69250d17faa16c.png" width="697" height="365" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409170118849-ed40c92b8ba44ae6670d991393f0229f.png" width="697" height="373" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409170220277-f27feafdbef132fb88b46ffd747e77bb.png" width="691" height="331" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409170655883-e876a9d8fccbb1d2895dd8b555705ea1.png" width="709" height="370" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200409171232781-4c20ad62bfbaf32c54f324837d8b4235.png" width="698" height="375" class="img_ev3q"></p><hr><p><em>变上限定积分：</em></p><p><img loading="lazy" src="/docone/assets/images/image-20200410122841301-1fae2723a2de458650bfcd25fc11f912.png" width="700" height="337" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200410134240482-9ff04a7e6fe0bc4746caf9b64dbfff28.png" width="702" height="387" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200410213010369-e712d9d8725c4ec42b0721279ac2fda8.png" width="696" height="350" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200410214159922-a27f3c7a88e1ceb373f2c89521d61f46.png" width="701" height="367" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200410215210218-dab8f4f6681114ce82b88b267c2343b6.png" width="699" height="389" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200411154156241-d297ca8be1c78db4b78f50bd59d58ea1.png" width="704" height="385" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200411155919277-d705ac3c4ca62937d97ac959f98be414.png" width="699" height="360" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200411180815967-75606f671c531efea543b99a3acfeb57.png" width="700" height="376" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200411181811838-cac13af121baba7584ddc97e32cc03ae.png" width="691" height="379" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 隐函数求导 </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="反常积分">反常积分<a class="hash-link" href="#反常积分" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一相关定义">一、相关定义<a class="hash-link" href="#一相关定义" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200411183502613-225f138e0f996ad6b7a3eafc78ec5acc.png" width="697" height="388" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-5"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-5" title="Direct link to heading">​</a></h4><blockquote><ol><li>反常积分的敛散性</li><li>反常积分的计算</li></ol></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-3"><code>————典型例题</code><a class="hash-link" href="#典型例题-3" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200412152543292-071f713b2c0ba5159040fee9c193de74.png" width="696" height="206" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412160053407-96c6981f4f72aa608f08f0281fbb3a83.png" width="699" height="386" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412162110522-a0efac900659c9b61b88a10a81a1d262.png" width="690" height="369" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412162957312-a976fd39004da2f374b11af0bcdb5ebc.png" width="692" height="390" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412163501601-743ee4d8cca562c6ede265a19672e878.png" width="693" height="340" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412163625684-1a78530da0a6ee3a8ae0e5ee0f9e1baa.png" width="693" height="301" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412164617236-92ec8a55bc02b59af498e23c51ac4baf.png" width="695" height="339" class="img_ev3q"></p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="定积分的应用">定积分的应用<a class="hash-link" href="#定积分的应用" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一几何应用">一、几何应用<a class="hash-link" href="#一几何应用" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1平面图形的面积">1、平面图形的面积<a class="hash-link" href="#1平面图形的面积" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200412171157317-19de607ef201a4fa588f127452164d08.png" width="692" height="307" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2旋转体体积">2、旋转体体积<a class="hash-link" href="#2旋转体体积" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200412173708952-c678594867c6e9fc7ebfd0ac4bda04c6.png" width="693" height="328" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412183048998-d5756b9adb243635f55e180a5aed4b6c.png" width="863" height="334" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200412184957104-eca03dacb89049feef2469c53c861251.png" width="818" height="280" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3曲线弧长">3、曲线弧长<a class="hash-link" href="#3曲线弧长" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200412185523174-2913a6f4dba57d9ce2c99bdabf3a5706.png" width="701" height="127" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4旋转体侧面积">4、旋转体侧面积<a class="hash-link" href="#4旋转体侧面积" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAr0AAAAvCAYAAADuFXK5AAAgAElEQVR4nO3d93Nb57ng8e85KAeVBSRBsEtiE0WxVzVLli1XxUUucUnim3uvk9smM3vvzv62s7N/wO7sztyNb3YTlyS25SSOnNiWLasXi7R6FymKKuxgk0gCBEDgnLM/QIBBiZIombJk+f3MaDgkcQ7e8wI2HzzneZ9X6j4/oSMIgiAIgiAI9zH5bg9AEARBEARBEO40EfQKgiAIgiAI9z0R9AqCIAiCIAj3PRH0CoIgCIIgCPc9EfQKd52ui7WUgiAIgiDcWSLoFe46SZLu9hAEQRAEQbjPGe/2AITvJ13XUdUIuq5jMBiRZfH5SxAEQRCEO0cEvcJd4ff72LZ9E53nOlj75DqKi0rv9pC+dbdS1iGy4YIgCILwzYj0mnDHJAZ1mqahaVr8Z8FQkMNHDrB5y0b8ft91j7ufSZI063/3K13X0TTtbg9DEARB+B4QmV7hjpEkCU3TGB4eZNMXnxCOhLHbHNTXN2O32RkZHcbnm2DPlzsYGvLy0OrHvtNlDpOTk7SfOUVPbxcmo0kEczego2O32SkpKSPLk3O3hyMIgiB8D4igV7hjNE1jaMjLW+/8B3/5+E+oEZWUlFQiaoRlS1fS29tNVlYOfX3dnDhxhFUrH0aWzXd72LdF13UmA366uy9gMBpxOpMIh6fu9rDuWbquY7PZMZuV+zqTLQiCINw7RNAr3DGhUJB9B1r4cMN6RkdH0HWdqakQExPjdHWdR9NUfvTKzzjT0caRY4cIhyOYTObbDoJ0Xb9rAVQoFKSvrxtFsbBs6UqsVhuapt6VsXxXSJKM0Sj+FyQIgiB8O8RfnHuIqqoYDIYrnQ1UjEYjmqYhy3L8K0SDO13X57QU4E4EjKFQiM7OM0yMj9HYsISamgYMsoHamgb2tuzCaDRRVlbB9h2bcTqcmExfvx1j45nNuGLzZTAY5nT8tyKiqgQCAZKTU3A4nADf+nhi9bGx91Die+RG8zg05GXn7q1cujRK4YJimpqWY7fZp5035pu8R2LjkyTpuu/du/nBRRAEQbi/iaD3HpIY5F39hz/x+1i7r7kqBUhcTDSXgVokEsbr7cdoMlFTXc/f/+0/o6kq4UiYoY8HSUpK5sCBViJqhBeefxWT6evriV1v7GtiQPdtmm0QJksySUnJWK22acd+22O+0VhjHw4mJ/1MhadITkomGAxy6PB+9rbsorPzDGlpGaSnZ1BZUTvtnLGFiHcyMxsL1Of6A50gCIIggAh67ylXZ3IjkTCqGr1FbjAYMRgMRCJhjEYTsjw3gVQsi3d1sJSYWb5dmqbhn/QjSRIWixVXalr0Z34fj655kkAggMVi4eUfvsbi8qqbni/2oSAcnkKSJEwm87TAci6ykLEs6dW/m825DbKBpKTk+DF3I2uZ+B6K1RQbDAaMRhMAAwN9fLjhfWTZwAvPvYLDmUR2Vg5PrX2OXXu2s2vXVgaHBq85byw7e7tB6c0+ACTOl6ZpRCIRQCcSiSBJkqj9FQRBEL4xEfTeY1RVpa+vh23bN+Gf9JOelsH4xBi6ruNypbFgfjE11fVzkj1MvN08NORl/8FWZEkmP38e5Ysq5+BqolRV5fLY5XgwabPZWdK8Ih7omM3KrNqUjYwMsWXb5/j9PqxWGxnpbh5YsXpaQOTzTXDo8D5k2cDyZatmPcbx8TH27d9LSkoq9XXNt3yNmq6h6RqKYgG+DtAnJsY503GalBTXt9aL2Oeb4MDBVtrPnMKd4cFoMlFb00CWJ4fzF87y3vtvU15eybNPv4jNaqOsrAK/30dHRxs2m400V/o155QkiUAgQPuZU4yMDtPUsBSnM2nWY7rYdZ79+1toaFjCvIIFMz5GkiTC4SnOdp7hwIFWxsbHcDqdNDYspWzh4tueD0EQBEEAEfTeUyKRMEeOHuLNt9+grf0kD656hLKF5QwOeflww/vYrHb+6R//EzXV9XP2nLqu091zkTffeoOW1t1IkkRubj6PP/YUax56gpSU1Nu+TR87LhKJMDg4QCgUxGxWkGX5mnPdKOjVdR2vt5/fvvtrduzYTHV1PSajifb2UzQ1LsNisaLrOuPjY2zbvom9rbt4/NGn4sfPJmttMBiYnPSzZetn+HwTPLjqkZuOK3F8gUk/o6MjFBWWEgwG6Oq6wMXuC7R+tYeurvOsfeLZOxr0xsY5MjrMpi8+4a8f/wmXK53amgZOt50gNcWFyWhiz5c78PknyM7OJSXVhSzLyLLMyOgwQ8ODPPboU+TlFUyrL9d1nUAwwJdf7mDb9k00Ny1HNhiuO6+J2eDEkoWzne2c6TjNC8+9SklJ2bRjYh9aYudraz/Jxs/+QklJGUWFpdeU94isryAIgnCrRNB7DwkGg+zctYWNn31EpjuLp3/wHIvKKsnPn09b+0lav9pDRrr7muNmu5nDTHXCY+OX+f27b7Jl22dM+v2MjA5ztvMMAwN9pKdl8OCqR77xBgmaphEMBgiHw5hM5hkDpat/lhhoj4+P8fEnH/LnP68nL6+Adc+8hK7r+HzjWCwWVFUlFAqxt2UXH25Yz8MPPUZtTeN1r3smNpudhoYlnDt/lt/+7v9hNissW7oynrG9EV3X8U/6GfD2YTAY6Ovr4cMN73Ps+GGOHD1IclJKPIi+2XluZZ4Tg0tJkpicnGTfvr385q1fEp6a4oXnX6W6qp6c7DxycvIYnxjnwsVzeDzZLFuyEtuV+uOxscscPrKfQCBAXW0xx44dYtnSlfGSkUAgwL59X/KnP7/HvIIFLGlegdVivSYQTSxPSPwqSRLZWTmsWL6a99a/ze/e/Q0//9kvyM3Jv+aajEYTdpuDSCTCpcujSJJEaqrrmjKcuVpcJwiCIHx/iNUi95BIJEJvX3c8WIhEoh0csrNyWLniIfJy8/FkZgO3/kd/pscEgwEOHGjlbGcbP33tH/jZ67+gfFElkUiY3t5uenq64o+NBaWapsXrjBOzeLEgda52U4sFS+HwFKdOH2fDX/+Izz9BbU0D1VV11FTXs2zpSsxmBVWN0H7mFL9/700uXRrlycefISUlNT5GVVWJRMIzPk9s3LIs487wsGL5aoZHhvjDH3/P1FQo/pgb8fkm6OnpIj9vPgA2u51FZRVkeXLiNamGm9Rga5qG19tP61d7mJgYv6U5ih3f3XOBDX/5gL6+Hurrmlm1cg3zChbw4Ko15OXmI0kSDoeT+tommpqWAdGyjs1bN/K73/+aw0cO8N76t9m+YzOqqsXn5mLXOT74w+/wevt5ZM1aMjOz4s8de4yqqvHFkDPtKKcoFhYtqmBxeRX79u9l795dM9ZOa5rG+PhlunsuYrPZKcifjzsjM/67xEA68bjvyy5+giAIwu0Tmd57iCRJWBQLuq4zNnaJP/zxd3g8WWSku8nPn8eqlWtIS8+YFqjFjrudbJeu61gsFl568TWWL3+QYDBAUlIy/+2//5dooJawUl9VVYaGvBw8vI/+/t5p5QmJtbmNDUsoLVn0zScDmJz0s3nLRj7csJ6OjjZMJhOBQIBgMIDd7ohfczAY5MDBVs6ebeeVl/+G9HR3/Pa8qqoMDPTR0rob/6SPTHcWK5Y/iNFo5OSp47S1nyQ7K4clzSuwWKxkuj3Mn1/EwcNfsW37Fzz26A9uOofjE2P0D/Ty+KNPIUkSrtQ0Vq1cg8/vY9PmT2YVlGmaSk9vN5u++ITsrNyb1ssmZnknJsb5cu9OPtzwPi2tu9E1jWAoyOjoCGmudGQ5+p5Kc6Wz7pmXsNsdpKa4gCtt8mQDC0vLMZnMmEwmGhuWYjZHF76FQkFOt51g34EWmhuXUZpQlhDN4Ed/f+ToASwWK4vKKqisqGHA28fBQ/sITE5SW9tIUWEJSc4kyhaW8/EnH7Jz91aWLn2A3Jx8dF1nwNvHocP70TSNnp4uenq6cDicZGfn0tvXw+dffAK6zoIFxSxpXsHopREOH97P8MgQ1VV1ouZXEARBuCkR9N4DYreFFUWhqXEZW7dtYsDbxxdbNuJ0JvE3r/2c4uKFuN0ebFbbtAxaJBJhZGSInt7uGc8bC4ysVitFhSVXOj9Eg2WzWaG6qh6LxYKiWDCbTGRmZkXLCozGeClFJBLh/PmzvP/BO+w/0MLly5ewWm24XGl091zEbFbI8uSQ6fZQsbh6zuZlKjxF57kOjh0/RCQSISc7l7S0dMLh6VnbS5dGaWnZhWyQWVRWAUxveaZpGmc72/lk4wZysvNQFAWnM4k333qDjrPtLGleQWPjsitzYiYpKZmR4SG2bd/E0iUPXBOAJpZexDKP7oxMLBZL/LU0mkyYzeZpr9VNr3cqhHdwgFBChvlGnRJigfRUeIoLF89x4EArExPjpKVlYLVa8ft98TmQJInk5BSam5ZPG4vD4WD5slXU1jQiyzJGk5HUFBeyHK3nvXR5lKNHDxGY9JOSkootoX9v9LwwMTHGzl1bOXe+gweWr8ZisbB12yY2fvYRFouVlJRUigpLMBiMJCenYjabaWs/yZGjB/FkZnOm4zTrP/gtw8ODLF26kuMnjuAdHGDB/CJKissIh8Ps3rON4yeOsKR5BSkpqZw4cZQ//fk9QqEgFsUigl5BEAThpkTQew+IBSFmczTofeLxp3n7nV8xMjLEhxvWo6oqP3/9F8yfVxg/5utAKBqYdHS0XXNenStBkySTnJxCXm4BsmyIH2swGEhOTok/3u/309K6G6PRSENdMxWLq+MdCHbs3Ix3cIDamka2bv+cvLwCVj3wMP/njf9Jmied1378Og6Hk9ycvDmbF5vVRlVVHaYP3sFut7PygYdZ++Q67HZ7fN5it8OPnTiCoigoijItyJRlmYwMN81Ny/n0s484fuII761/m4rF1ZSUlFFRUUNebj6K2YymaZjNSrSERJI4f6GTgYE+kpKSZ1zMp6oquq5jkA243R7g+oHtzYNeKb6o7OoexTc7p9PhpLy8kvz8eYyNj1G4oJhnnn4x3iUhsffz1QG00WgifYY6cYhmckdGhjnddgKL1YbHkz3teF3XURQLJSVlVFbU0NK6m+07NgNgszl47NEfYLVYyc39unbXZIrW7HZ1XaCt7SSLy6v468d/YtfurTzxxDMsLq/iyy93oF/J6lZW1mBRLCwur2LXrq20tO5GMSukutJ4YMVDWBSF+fOLbjK3giAIgiCC3nuCpmlMBiYxm6IByAvPv4rX28+mzZ8yPDzIR3/9I9nZufz93/4zcPVuZTKZ7izq6ppu+ByKORoQXm+HrkgkQnfPBfbu3UlpySJe+8nP8Hiy0XUdo9HIokWVVFTU0NPbxd6WXTy/7hU0XcNoMvLE40/z8EOPXwlC1Tnp8RszNRVifHyM9LQM6uubKVxQPG1Rk6ZphKammJgYw+nMw+lMnna8JElYrTbKF1Wy8oGH+f27v+HEiaPU1Tbx3LMvYbXakGQ5ntm02WyUli7C4XAyMTGOf9I/7Vyxr7HOBJqmxhfo3UqvYFVVuXRphPMXzjE1FULTVNrPnGZkZIijxw4yMjKEqqo4HU4KChbE+/8mjiX2XEajCacjiUgk+via6nrqa5uwWm3XlFXMtBDsRoLBAJcujZKSnHJNFwXgSi10Js1Ny9m8ZSNnO8/Qea6Df/7Hf6W6qj5eQpP4WqSkugiGgvT197B/fwubvviE5OQUVj3wMIqiEAwGsFqt5OXm487IRJYNNDctZ+eurRw6vJ+Tp47x+t/9CyuWr0aWZczmudmkRRAEQbi/iaD3HhAKBdm9extut4e62kZKihfys9d/gaqpbPzsL4yNXWZvyy5+/OrfxfvAxgJLWZZxOByYTKbpJ43dVkdC0zVkScZgMMaDtav5fBN8uvEjIpEIP/nx69TVNhKJRNA0FavVRlPjUryDA/x5w3oKFxQzf34h//Gr/43JZOaRNU/GM6CxYHym57jV2mOf38fBg18RDk+RmuqKZy4Tz5GYGTUajNfOwxUORxLVVXWs/+C3RNQIdpsdt9tz1QcICaPRREpyKoqiTFucNTUV4uLF8/j8Pqoqa+NzHwxGGJ8Yw2az32LnBY1Lly9x8tRRgsEgAN09FxkfH6e9/RQjw0Nouk5aWjqutPRrgt7oOaLzPDnpp739FL29XbjS0qmqqpu2M9xM45pNV4r4Ijldw2Qy43A4rv2dpmE0mvB4silcUEzH2XYsFitZWbkzjtlgMKCYFQD6+nr4YsunDHj7qayoJcuTw+Ej+2lrP0VSUjLz5hXGN9XIzsplUVkFBw62ous6GRmZ0xYrijZmgiAIws2IoPcuiv2h9vkm2LxlI3V1TdTVNmI0mlhUtpjn173Cvv3RGlqfb4JwOIyiWK5aNR/hdNsJvtq395rzJ2b1nI4k1j75LA6Hc9rxsiwzOTnJjp2bOXnqOK++8lMefWQtoVCI/QdaSElxUVNdj9/v4/NNH3P02CH+5Z/+je7uixw+sp+HVj+GKzUdn28Ch8MJcN3A+lZX2QcmJzl56hgmk5msrGjNcOK5YuOPLljTbhj4aJrKpN+PruuEQkF6+7qJRCLIshw/z9eBoI6UUKowPj7G6bYTTPgmOH78MFarlYWl5dGFXKEAvb3d00pPrp7/mciyAXdGJk2Ny+LdMM50nMbr7aepcTludyYAFouV5OTUG87T2Phljh4/hH/ST3l5FYULimc1hpsFidFdASOokQiySY6Pc6bjI5EwkwE/qhphdHSYAW8fxUWl19Qlx7t8aBqDQ166ey5iMpnweLIITYVo/WoP/QO9VFXWUlRYMi24Doenoq3q/D4GBwemne/b3p5aEARB+O4RQe9dpqoqA95+jh4/RCAwyfPrXkZRLJhMZsrKFlNcVMrBQ/tITk6Z9oc9dmsfolnM/Lx5N3weq9WK0Tj95ZYkCVVVOXe+g1+/+UsikTBebz/vvvcml8cu09HRxk9f+zn+ST9//eRDPvjD7/B4sqmuquejv/6Ry5cvYTKZeOud/6C6qo5lS1fO6bxcujzCwEAfNquN6sq6eGYvNvbYP4MsYzQYmJoKxdt96bpOMBjg/IVOgsEgY2OXuHDxHEWFJXScbefgoX0cOXoQAJPJSFVlHQCBwCSnT5/g0uVR5hUUxjtAOJ1JZHlyuHx5lN27t1FcVIokyYRCQUJToWmZ1Zh4gC+BbJCn/wxITk6J11SrqsrkpB+H3UlRYQkFBfNvOkex98Dw8CBnzpzGZDJRUDB/xv63t8toNGIymfH5Jujuvhj/gBArz+jt6yYcjtDWfhKrxUZaWgZ9/b20tu4hPS2DsbHLFBWVkp6WAUTLJUZGh5ENBgyygUg4gt3mICXFFe1Fve9LIPrBqav7AmPjY7hS0+jsPMPY2GXcbg8jI0McPnKAoqJSRkdHmD+/kJzsuaslFwRBEO5PIui9y1Q1Qk9PF93dFxkdHeHd99+ivq6JTHcW27d/gdfbT8XiKp579mXMV24Lw9d1pZIkkZ83j7zcmwc68pVesbGMaDg8xfETR/n1b/6d4ycOY7PZ+cOf3o33tC0pLmPBgmJ27drKb976JZFwmBeefxVFUeg424bP72PHzi1UVtbwyMNPzOm8BENB2ttPMzjkJSc7j/r65mnXH70e+UrNqJWiooWMjA7hu9KxAKK7k73z2//Lxa7z8TZi8woW8Mav/hdt7Sd5861fUlZWweoHv944IhCYpPNcB6FQiOzsHNzuTJxOJw5HKQaDEVVT2bz5U/r7+8jIcDM4OIBFsZCWlh4PCKemQnR2tnPk6EECgQBGg5EzZ07T19+DOyMTg+Ha/+x0XSM0FYoG0aHgTefn693uwgwM9NPT04XTkURxUSk2mz3esu2biG4MkUZxUSm79mzjQtf5add48NA+3v7tr1AUheKihaxduw6zWeHTzz7i8y8+xn+lFCTWUQNg6kr9dXJyClVVtZw/30nH2TZOt53A55sgGAyg6zpDw4N8vuljevt6cGe4mVdQyOoHHyXVlcZHf/kDu/dsR5JligpLprVREwRBEITrEUHvXSZJEunpGax75ofIBgNDQ146zrYTCATwDg6wauUaHljxEEuaV1wTxHy9kGl2L2MsyxgLeiORCENDXsxmhWeeejF+e1/VVBRFYemSB8jIyGRq6gAV5dXU1TWxcsVDSJJEQ/0SdF3HlZrG2ifXUVhYMm1M37S+0jcxTuu+PYTDYQoK5lNcvHDG61FVlaSkZBrqm/l040eMj1+OP7/ZZMbt9qDpGuWLKln94COEI2FUTeXYscOkpWdQU13PgoTV/7Hb6IqikJ8X3RjBaDTFb9MnJ6eQkZFJW/tJXGnpTE2FSUlJxWKxxjPvwWCQ3t4enA4na594FoPRgNFkorv7IsnJqdhtphl2x5PxuLNoaFiCw+mc1RzFdkvr6jrPyOgwZQvLaahfMme1rZIkkeZKp6qqlpbW3fgmxqf1hrbZbGRn55KelsHKBx6mYnE1aa5o/fFkwE9eXgEN9UviZS8QzWirqkZ2Vi5PPv4Mo5dG+HLvTgoXlFBaughJkujuvojbnUlmZhanTh2PLnJb+TBVlXUUFy8kyZnE8MgQHreHxoaluFzpc3K9giAIwv1NBL13UWzh1MLScv7pH/4ViN7+NRiNWCwWnlr7HHaHA3dGJibTN1+hfnVAajKZqaiopqBgfnzBEICuacgGAxnpbhSzQnPTcsrLq8h0e0hKSkZVVZ54/Gmam5ZjUSxkZeXM2K1hWpcDVZ32ffy5rupDG60jDTM45KWt7RQOu4Oa6gZSrlPXKkkSTmcyzU3L2bFzMzt2buHJx59BUSykprr44Ys/JhKJ4EpNi4993TMvsWL5ahSzgseTFc8ga5oW3U54oA9PZjZrHn4cg8E4rRbZbrOTm5tPS+tu5hUswOFwYDYr09qBKYpC+aJKiopKv17Yp2k4nE7MMyy0i81Bbm4+Tzz2NC5X2qxez+j2xz7OX+jEYrHQ2LCM4qLSWR072/M7HA5qaxopLV2Ed3CA0dFh0tPd0ffO4hpycwuwWCykp2VgMpmpqa4nNzefYDBIclIyGRmZ8fMFgwF6e7sIBgM0Ni6lvq4ZgOqqeuw2O0lJKZQtLCcQiHZvsFntrH7wUcxmM+6MTMxmhUW2xXgys/D5fdjtdjyZ2WIBmyAIgjArIui9y6JBW9KMO3DNZkX67fzBT8wQZ2flkp2Ve8PHezzZeBK+NxgMpLnSSbtJhi12C/7qn83UNk1VVfoHetm3fy8mkxnFrDDg7aO2tpFHH1k7YzZbkqRoNwBFoaKimtWrH2PPnu0cO36YhvolmEzma+pbDQYDKSmp0+qDYwLBACdPHmVoeJBnnn6R6qq6ac8lSRJms0J2di4WxcK582eZN28BDrsj/hgARbGQn3/jGuurrwPAarXNWBucSNd1Ri+N0PrVHtRIBEWxcPDQPvLz5vPgqjUoimVW75vZMhiMFBWW8tDqx/h808fs3rOdp5964brzqCiW69YU9/X38uXenWRl5fDomifj7/nE977NNv36U1Nd0743mxU8nuy5uDRBEAThe0YEvfegW+lwcC+LLjIzxL65pnvD1av/Ozra+PWbv8Qgy1RW1lJVWcvrf/cvFC4ovmHvX4Mh2gnh+XUvo2sa769/B5vNTvmiylmPNRQKcuTIAbZu28SKFatZ9+wP4+3hrh6zKzWNxYurOXrsEAUF828aqM6V2IeIvt5u3nzrDSYn/WRl5WC1Wnnh+R9RWVEzbZzfVHzzC6eTNQ8/gd/vY9uOL/B4smmob552d+BmvN5+Nm/5lImJcV59+adULK65+UGCIAiCMIdE0CvcMQajkdRUVzwje6PyBoPBQF7ePF5+8SeEI2EyMjLJyy1gcXnldVugJTIaTRQXlfLSiz9h155tdHdfvKWgNxAIMDw8yPJlq2huWj4t+53Y4k2SJEwmEznZebS07qa7p4uiK/XMd1os25yRkcmLz/+ICd84NpsdT2YWtTWN8YzpXGV5Y3MuywZyc/JZ98xLtLTuxuvtx+fzTeuTO9NYE383PjGOqmq8/PLfUFvTGN+wQhAEQRC+LSLovQd9V2sUr+6ZajREg17jlXIIk8nE0JCXo8cOMT4xRigUonxRBZUVtYBEQX60C0Xs9nws0wqzmxOj0URhYQnpGW78Pt9NH5/IarVSV9tEqisNu80+42O+romWSUlJpb6uCaczOV73eytjvV2yLON2e3hu3UtEIhGA+G5wd0JiKUxeXgGpqS7Gxi6jKMoNj0vcNQ8g0+3hicefJjcnX/TUFQRBEO4KEfQKc0rXNXp6ejl46Kvopg6nT2C8sr2yf9LPhxvW09V1HoPRyPHjh/nP//ZfE9qvzX4b3+sxGAy4UtNwpc5uMViMoljIvUHbt8RxGQwGHA4ndbVN8TZwVz/mTortBncr5QW34+qFj9erP0/M6l5vDpKSkmfcoU0QBEEQvi0i6BXm1NRUmP0HWvj3N/4HU6EQ4+NjOJ1JNNQ309l5hv0HWnj6B8+z/2ArwWCQ4sLSG9br3qtigW/M/VKHLQiCIAj3q+9WpCHcsxK3RR4a8tLR0caFi+eYDExSU1VPSUkZR44cYGJiHJcrjfb2UyyYX4TLlfadLeeIXq8a71DxfQ98v6uvoyAIgvD9IDK9wpxSFIWamkZ+9MrfomkayckpPLT6McxmBe+gl/6BXv684QPOdp4hMzMLv99Paqoyp222vi0zbcTxXbwOQRAEQfg+kLrPT3y/01PCnIllOoPB6G5ywWCAlORU0tPdhKZC7Nv3JQPefhRFYSo0hdudSWPDUuxX9bn9Lrp64ZYgCIIgCPcWEfQKcy7WjzcSCWM2K/HSh0AwgOnKJhPRFfxSfFGWIAiCIAjCnSTKG4Q7Qpbl+Pa+EA1yY63ARDZUEARBEIRvmwh6hTtuptpXQRAEQRCEb5O4ryzMORHcCoIgCIJwrxFBryAIgiAIgnDfE0GvIAiCIAiCcN8TQa8gCIIgCIJw3xNB76zMtqvbner+drvnFadqUN8AAAAPSURBVN3oBEEQBEEQAP4/k0AFrtimEBkAAAAASUVORK5CYII=" width="701" height="47" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二物理应用">二、物理应用<a class="hash-link" href="#二物理应用" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200412185913472-04bb557117f162d8e370bbc5f217a33a.png" width="699" height="305" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 求面积可转换为二重积分 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200413173441321-87f574945760d624ad4cb6c2113502ed.png" width="699" height="347" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200413175004236-5800c28fdf5df9a4c8f19cddad3bd928.png" width="693" height="379" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200413175531564-c1388ca3fa038c4f235ba694380d61ba.png" width="697" height="376" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200413175949329-0013a0ded091b5323e40db54d4ae5f5b.png" width="694" height="330" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200413182315842-f6d887d61a416a45fc025e150d7ea1b9.png" width="697" height="395" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 建立微元思想 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200413183301153-d1522d533b4249e63f4c40e6dc7c29d2.png" width="701" height="390" class="img_ev3q"></p><hr><h1>微分方程</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一微分方程的基本概念">一、微分方程的基本概念<a class="hash-link" href="#一微分方程的基本概念" title="Direct link to heading">​</a></h2><ol><li><blockquote><p>微分方程：含有未知函数的导数或微分的方程</p></blockquote></li><li><blockquote><p>微分方程的阶：方程中所含未知函数的导数的最高阶数</p></blockquote></li><li><blockquote><p>微分方程的解：y=φ(x)带入y‘能成为恒等式，则y=φ(x)称为它的解</p></blockquote></li><li><blockquote><p>微分方程的通解：方程的解中含有任意常数C，且独立任意常数个数和方程的阶数相同</p></blockquote></li><li><blockquote><p>微分方程的特解：得出了任意常数C的解</p></blockquote></li><li><blockquote><p>初始条件：确定特解的一组常数称为初始条件</p></blockquote></li><li><blockquote><p>积分曲线：微分方程的解所对应的曲线</p></blockquote></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二一阶微分方程">二、一阶微分方程<a class="hash-link" href="#二一阶微分方程" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1可分离变量的方程y--fxgy">1、可分离变量的方程	y' = f(x)g(y)<a class="hash-link" href="#1可分离变量的方程y--fxgy" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200414142644415-1fe06bfa4ae997d1e20b4c64dc5eebcc.png" width="693" height="260" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2齐次方程">2、齐次方程<a class="hash-link" href="#2齐次方程" title="Direct link to heading">​</a></h3><p>$$
\frac{dy}{dx}=φ(\frac{y}{x})
$$</p><p><img loading="lazy" src="/docone/assets/images/image-20200414144144845-db265757b2d8aaf1910b1c249096746a.png" width="695" height="338" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3线性方程">3、线性方程<a class="hash-link" href="#3线性方程" title="Direct link to heading">​</a></h3><p>$$
y'+P(x)y=Q(x)
$$</p><p><img loading="lazy" src="/docone/assets/images/image-20200414144833476-a991eeaeacf285cf03c53fbb6a82056b.png" width="694" height="337" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4伯努利方程">4、伯努利方程<a class="hash-link" href="#4伯努利方程" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200414150223917-d1b34cfe35cfa4e47a05d2a4eaf584ee.png" width="605" height="50" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5全微分方程">5、全微分方程<a class="hash-link" href="#5全微分方程" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200414150249425-986961caea0e50de8b56d79d1a751ad3.png" width="684" height="205" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三可降阶方程">三、可降阶方程<a class="hash-link" href="#三可降阶方程" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/docone/assets/images/image-20200414152146425-7682e5e654e21cb2b48637e6a5cfcaa7.png" width="536" height="127" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200414152201106-65db573749232759cd73ad7352d859c4.png" width="693" height="266" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200414155925827-c89f12d34b0b9a1f5757c00802584f92.png" width="694" height="311" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> x=0时y=1,y'=1/2,则C=1/2 </p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四高阶线性微分方程">四、高阶线性微分方程<a class="hash-link" href="#四高阶线性微分方程" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1线性微分方程的解的结构">1、线性微分方程的解的结构<a class="hash-link" href="#1线性微分方程的解的结构" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200414160324503-64879ae727e4ba214e46c3affc6892fd.png" width="694" height="356" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 两者之比不为常数，则线性无关 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200414160456455-b9d4bc7956df50075c2e24f470927296.png" width="683" height="315" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2常系数齐次线性微分方程">2、常系数齐次线性微分方程<a class="hash-link" href="#2常系数齐次线性微分方程" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200414161202724-8bff0dd6d491e9dd822d6fd27d9ff167.png" width="689" height="254" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200414161438924-e7a775e1aec3e1f3c756d968f6c6eca7.png" width="690" height="328" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200414161628326-1eff0ffefe54d4f3e427e69e3ca959b0.png" width="697" height="264" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200414161852209-251b30f9d5ccdaaede90eba2f15670f5.png" width="696" height="310" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3常系数非齐次线性微分方程">3、常系数非齐次线性微分方程<a class="hash-link" href="#3常系数非齐次线性微分方程" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200414164149504-e0691b11dcc3edf001b22db3287ca0c7.png" width="690" height="194" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 其中Qm(x) 是与Pm(x) 同次的多项式 </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 其中Pl(1) (x) ，Pn(2) (x) 分别为x的l 次，n次多项式；Rm(1) (x) ，Rm(2) (x) 是两个m次多项式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200414162708121-8a956fbe4c8f9825cd32b8591179fffd.png" width="692" height="367" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200414163501990-477b0316c82298f26d3f8a652dbf6126.png" width="696" height="382" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 将特解代入原方程可求得a </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4欧拉方程">4、欧拉方程<a class="hash-link" href="#4欧拉方程" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200415123332287-cbdc3d9119acbbbdbd1b75e1e4490929.png" width="669" height="78" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415123600470-aaebb40b5c723ac6a7b5fd099f79da62.png" width="693" height="206" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5差分方程tip">5、差分方程（:::tip<a class="hash-link" href="#5差分方程tip" title="Direct link to heading">​</a></h3><p> 仅数三 </p><p>:::）</p><p><img loading="lazy" src="/docone/assets/images/image-20200415123812443-c3ff74a4f009379703c5bfc61acfa688.png" width="695" height="256" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-6"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-6" title="Direct link to heading">​</a></h2><blockquote><ol><li>微分方程求解</li><li>综合题</li><li>应用题</li></ol></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-4"><code>————典型例题</code><a class="hash-link" href="#典型例题-4" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/docone/assets/images/image-20200415125815757-141cfe3a0ee412bc896abf9bad8fc136.png" width="694" height="346" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> lnx-lny=ln(x/y)，从而转换为齐次方程结构 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200415125746108-38b9c9fde4579a527be7445ecf628a92.png" width="699" height="102" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415130159668-0adb9d41dbc459d5c1c208e1ffaaae5a.png" width="690" height="278" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 线性方程 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200415131917505-4b0a97308606aca7545e2eedde252dbb.png" width="696" height="384" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415132411183-59672995bdf1c545cd2a5d7b9311ee4d.png" width="691" height="366" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415134944055-beac30474f15d0a72a72f071e852f56e.png" width="695" height="389" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 将e^2x^代入非齐次方程左右式子不可能相等，则e^2x^是齐次解，若xe^x^也是齐次解，其λ=1，满足的是相等实根的解的表达式，但此方程是二阶方程，特征方程最多两个根，若1是二重根，加上之前的e^2x^就是3个根，矛盾，所以xe ^x^只能是非齐次解 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200415140511114-ffc3ad6a75f024e4ecbdd1ff1cfed8f8.png" width="704" height="388" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415141224519-259cda789d7a4a6e52ec77c9a9d211f5.png" width="690" height="307" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415141602712-79d03c230a3ae9db40ed6cfe4bad2d71.png" width="692" height="247" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415142224123-7eb17e8f76af70c0380fa4246bccf9e9.png" width="695" height="371" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415143043736-f193a2941e9aaa118d6ccc42aabd126b.png" width="693" height="333" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415143525258-088b318368f101ec3278056bf24e5109.png" width="699" height="383" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415143816387-857fd62d8bada90d53b383c125fe32bd.png" width="696" height="325" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415145311553-7568dd3b668bdb3b2e6744cb331e8423.png" width="698" height="387" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415145837187-9c86dd5d7c406490ae766a7a63fd8c67.png" width="692" height="395" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415150840106-e8d65179469ac0bb000fe3eba20edbc8.png" width="691" height="389" class="img_ev3q"></p><h1>多元函数微积分</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="微分学-1">微分学<a class="hash-link" href="#微分学-1" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="重极限连续偏导数全微分">重极限	连续	偏导数	全微分<a class="hash-link" href="#重极限连续偏导数全微分" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一二元函数的极限">一、二元函数的极限<a class="hash-link" href="#一二元函数的极限" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200415153212224-14cd3a4903fedbb1652942ecb2b64722.png" width="692" height="227" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200415153638553-a08fca44d207216b161a1ab9e1a13275.png" width="679" height="290" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二多元函数的连续性">二、多元函数的连续性<a class="hash-link" href="#二多元函数的连续性" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1连续的概念-1">1、连续的概念<a class="hash-link" href="#1连续的概念-1" title="Direct link to heading">​</a></h5><blockquote><p>$$
\lim_{(x,y)\rightarrow(x_o,y_0)}f(x,y)=f(x_0,y_0)
$$</p></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2连续函数的性质">2、连续函数的性质<a class="hash-link" href="#2连续函数的性质" title="Direct link to heading">​</a></h5><ul><li>多元函数的和、差、积、商（分母不为0）仍为连续函数</li><li>多元函数的复合函数也是连续函数</li><li>多元函数在其定义区域内连续</li><li>（最大值定理）有界闭区域D上的连续函数在区域D上必能取得最大值与最小值</li><li>（介值定理）有界闭区域D上的连续函数在区域D上必能取得介于最大值与最小值之间的任何值</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三偏导数">三、偏导数<a class="hash-link" href="#三偏导数" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1偏导数的定义">1、偏导数的定义<a class="hash-link" href="#1偏导数的定义" title="Direct link to heading">​</a></h5><blockquote><p>$$
f<em>x(x_0,y_0)= \lim</em>{Δx\rightarrow0}\frac{f(x<em>0+Δx,y_0)-f(x_0,y_0)}{Δx}=\frac{d}{dx}f(x,y_0)|</em>{x=x_0}
$$</p><p>$$
f<em>y(x_0,y_0)= \lim</em>{Δy\rightarrow0}\frac{f(x<em>0,y_0+Δy)-f(x_0,y_0)}{Δy}=\frac{d}{dy}f(x_0,y)|</em>{y=y_0}
$$</p></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2二元函数偏导数的几何意义">2、二元函数偏导数的几何意义<a class="hash-link" href="#2二元函数偏导数的几何意义" title="Direct link to heading">​</a></h5><p> fx′(x0 , y0 ) 表示上述交线在点M 处的切线对x 轴的斜率</p><p> fy′(x0 , y0 ) 表示上述交线在点M 处的切线对 y 轴的斜率</p><p><img loading="lazy" src="/docone/assets/images/image-20200416153139934-0a83f6eebe0d7b2200126a02bcc480bc.png" width="705" height="226" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3高阶偏导数">3、高阶偏导数<a class="hash-link" href="#3高阶偏导数" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200416153628639-af330fa1ecc0c1e57833050fe28d736f.png" width="709" height="319" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4全微分">4、全微分<a class="hash-link" href="#4全微分" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200416155517120-a897e4eedf614610730a48981aa9c204.png" width="710" height="368" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200416155835331-02381fc1d4177e296215ee13293f2879.png" width="700" height="101" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5连续可偏导及可微之间的关系">5、连续、可偏导及可微之间的关系<a class="hash-link" href="#5连续可偏导及可微之间的关系" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200416162448895-2a3588268ffa005e930adbb5d6766573.png" width="523" height="289" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-7"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-7" title="Direct link to heading">​</a></h4><blockquote><p>讨论连续性、偏导数、全微分的概念及其之间的关系</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-5"><code>————典型例题</code><a class="hash-link" href="#典型例题-5" title="Direct link to heading">​</a></h4><hr><p><img loading="lazy" src="/docone/assets/images/image-20200416163110064-8a1a0fd415ed584a6762a2703c4b7955.png" width="703" height="246" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200416164156282-ba1c54df73bf37af503e6f070f438a78.png" width="713" height="391" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 投机取巧法：取f(x)=2x-y+2,则df=2dx-dy,好神奇哈哈哈 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200416165712832-5d95df4cf67b95da3c785e33626dad38.png" width="714" height="401" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200416170117044-44dd7de94f16a0cb2e130ba26f1f68ba.png" width="711" height="401" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="多元函数微分法">多元函数微分法<a class="hash-link" href="#多元函数微分法" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一复合函数的微分法">一、复合函数的微分法<a class="hash-link" href="#一复合函数的微分法" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200416175022863-27612a5f2ad626d797b2a2bf2015d77f.png" width="702" height="330" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417163821753-55823116f48697c56642c3c2e7da84a9.png" width="703" height="141" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二隐函数的微分法">二、隐函数的微分法<a class="hash-link" href="#二隐函数的微分法" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200417164523161-0ea533cb8c0a036ab6179cfeb80ab052.png" width="707" height="357" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-8"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-8" title="Direct link to heading">​</a></h5><blockquote><ol><li>复合函数的偏导数与全微分的计算</li><li>隐函数的偏导数与全微分</li></ol></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-6"><code>————典型例题</code><a class="hash-link" href="#典型例题-6" title="Direct link to heading">​</a></h5><hr><p><img loading="lazy" src="/docone/assets/images/image-20200417171042704-4981c8a0c2ff1407838522afb326024b.png" width="706" height="347" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417171105420-8e61452d47812f863cd075dec228dcd2.png" width="707" height="203" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417171017729-15ac35b646484880a8d30ede0d4294fb.png" width="707" height="392" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417174123361-cf3352a9299430db58e3e798c9aad3b2.png" width="705" height="367" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417175617463-b5d0c884bf6c1ac38ff2a84e3c29a5f8.png" width="709" height="380" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 结果为：f₁ (1,1) + f₁₁ (1,1) - f₂ (1,1) </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200417181829681-5f35771c5571b000be325d0076a5085f.png" width="712" height="375" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417182314629-200080be06bc1d31a8067423f5050eb0.png" width="709" height="290" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417183519758-b739a449bdd064a6fea404474b537b45.png" width="709" height="400" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417195019620-00c9315b95de8be5d7028054b2fd1467.png" width="707" height="397" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417195214731-32d042e1145933816133a8093b8bb044.png" width="707" height="262" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417200304484-f22d715e9e4b14428bf77c91680b9fdf.png" width="708" height="352" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417200039019-78b0ede86d8385792839019c714e8f23.png" width="701" height="396" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417201609061-365c392380a02da27669b91c2950b706.png" width="712" height="397" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 方法2中要把u看做常数 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200417201732132-20d6498c816f4d220781ae4861993e4a.png" width="701" height="100" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417202231547-668b30110046de6abdf4df1ab84490ad.png" width="707" height="234" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417204137940-70513907cb61ce6480177ae4d6db066d.png" width="713" height="401" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417204626668-494efc16f23d0ced0b1f3d1d1c600801.png" width="700" height="281" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417205243499-4737a06ddae76c07123d17874e03868b.png" width="711" height="402" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200417205432016-62ec937f6545e97fe539c5dd51846ae9.png" width="707" height="207" class="img_ev3q"></p><hr><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三多元函数的极值与最值">三、多元函数的极值与最值<a class="hash-link" href="#三多元函数的极值与最值" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1无约束极值">1、无约束极值<a class="hash-link" href="#1无约束极值" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200419162128057-73ff3f961e151b1d7ac56bf39e2e3446.png" width="710" height="185" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200419163838665-4fe4a137d2fc65c3f190c17011e4f3f2.png" width="707" height="379" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2条件极值与拉格朗日乘数法">2、条件极值与拉格朗日乘数法<a class="hash-link" href="#2条件极值与拉格朗日乘数法" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200419165625799-d1a03be67f5086baf97cc744c518ff7d.png" width="711" height="327" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3最大值与最小值">3、最大值与最小值<a class="hash-link" href="#3最大值与最小值" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200419170950150-b91adbf4e54a613404766b6805ce4af9.png" width="713" height="164" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-9"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-9" title="Direct link to heading">​</a></h5><blockquote><ol><li>求极值（无条件）</li><li>求连续函数 f (x,y) 在有界闭区域D上的最值</li><li>最值应用题</li></ol></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典例例题"><code>————典例例题</code><a class="hash-link" href="#典例例题" title="Direct link to heading">​</a></h5><hr><p><img loading="lazy" src="/docone/assets/images/image-20200419171816854-5545d4fd501ec0b15a570f7307ca5c08.png" width="708" height="258" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200419173053795-06884fb088441d286a3ad36cc5c9c512.png" width="712" height="335" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420104357006-488de55d2cc81270b89b97b9b97eee28.png" width="483" height="126" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420113736052-13040a254f6281bdc73d50fd259f452b.png" width="714" height="350" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420114440077-c62615ad32c16a3eb3ce1a73e42bb1c8.png" width="715" height="396" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420115708207-9f802080a4f08f2f442a690839db5ee0.png" width="714" height="397" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420120621212-ee68ba6084fcda2ea3afe6528a4206a2.png" width="716" height="394" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420120917751-d0896a3a06e3c5e2a052762ee1e56b48.png" width="716" height="380" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420121511212-db058b39384dfc978b2607959c66ff01.png" width="717" height="375" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="积分学-1">积分学<a class="hash-link" href="#积分学-1" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="向量代数与空间解析几何">向量代数与空间解析几何<a class="hash-link" href="#向量代数与空间解析几何" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一向量代数">一、向量代数<a class="hash-link" href="#一向量代数" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1数量积">1、数量积<a class="hash-link" href="#1数量积" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425102423161-ae2a009cdb55fe1f2b20ab7937b95bdd.png" width="684" height="309" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2向量积">2、向量积<a class="hash-link" href="#2向量积" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425103127333-d8a95adde602dbfa6318734af411f9ab.png" width="680" height="359" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3混合积">3、混合积<a class="hash-link" href="#3混合积" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425103905142-c7d9905653b5c10f2040ffaa902f558b.png" width="676" height="280" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425105830762-81489e5776fbd2c6a493a8c414a35087.png" width="682" height="243" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 混合积中只要包含两项相同的就=0 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二空间平面与直线">二、空间平面与直线<a class="hash-link" href="#二空间平面与直线" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1平面方程">1、平面方程<a class="hash-link" href="#1平面方程" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425110328355-beb79ea4c521b2bfeb140710140d5a00.png" width="681" height="121" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2直线方程">2、直线方程<a class="hash-link" href="#2直线方程" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425115148948-c55f513d5399fc6306f2dce526fdd377.png" width="685" height="169" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3平面与直线的位置关系">3、平面与直线的位置关系<a class="hash-link" href="#3平面与直线的位置关系" title="Direct link to heading">​</a></h5><p>关键：平面的法线向量，直线的方向向量</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4点到面的距离">4、点到面的距离<a class="hash-link" href="#4点到面的距离" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425121544406-f4b3e1518124941139ef9140de21259a.png" width="687" height="95" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5点到直线的距离">5、点到直线的距离<a class="hash-link" href="#5点到直线的距离" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425121435171-b02c6ee123af98ee7071978e1224a232.png" width="681" height="155" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-7"><code>————典型例题</code><a class="hash-link" href="#典型例题-7" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200425130943524-9c408e99b76eaa90fbfd3e58c9f5f48b.png" width="685" height="273" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425134522865-b4e8c37ca3bf8130742e199c42797359.png" width="685" height="366" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425140612855-79e2963c49667b47472f2550af281baf.png" width="683" height="369" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425142303728-8606c87b894484bdc95174516f768bdc.png" width="682" height="311" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425143405370-1216b0e36fde93cf63a42829c3f8fe9a.png" width="686" height="376" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425144536468-8f867e1376c2f240db4f178ac6019173.png" width="678" height="358" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425144654394-8111029e5774b5437119b379722c2259.png" width="677" height="253" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三曲面与空间曲线">三、曲面与空间曲线<a class="hash-link" href="#三曲面与空间曲线" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1曲面方程">1、曲面方程<a class="hash-link" href="#1曲面方程" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAAmCAYAAADa4aHAAAAgAElEQVR4nO2dZ3RUV57gf69ylaRSVSnnLCGBECCByAIETjiBAxindgePu3s9PT1zZnf27Jk5+2XP7H7omdnZnp4O4+m23c4BGxuwjQ3YZBAgIYJQTijHKkkVX739UKrnUkAIG8nQ/X5fQFX1bnrv3fu//3SFtiaHhMK84ff7UalU33UzFBQUFBQU7miUlVRBQUFBQUHhjkMRYBQUFBQUFBTuOBQBRkFBQUFBQeGOQxFgFBQUFBQUFO447ngBRpIUH2QFBQUFBYU/NxQBRkFBQUFBQeGOY94FGEmS8Pv9t6ys6QSY0M8nf68IPAoKCgoKCnc+mvmuMCjACIKAIAjfqixBECbkVAkKLoIgyPlWZhJgvm39CgoKCgoKCt8N866BEUUfHR3ttLe34vN5b+ra6bQnQSFEFEV6ero4d/4M3d2dSJKfgcF+3G4Xfr8fv98vCzcKCgoKCgoKdzbzroEZHh7izbdfRq838KMfvIhGo0WSJDweN11dnYyOjcjak4hwM/HxCWi1uhlNP5Ik4Xa7OXP2JK+8+jsee+RJVixfzf5P97Bw4WJWla5Fo9HOYy+vz5+LABW8X4Ig/FkLjpIk4fV66OvvxevxYrXa8Pq8aNQaIiMt8m/uxPHx+/14PG48Hg9arRaDwTilHz6fD0nyo9Fo572PQVN1qCb2ThxnBQWF6ZlzASZoLvL7/QwO9nPp8gUOHT5AcnIq1zra0Ov02GxR2B3D/PH1l+js6sAcYcbusJOaksb3v/djoqNjr1t+0GwkIeFw2GlorMPuGKa7p5OP9+7mTMUJYqJjWZC3cK67OoWg1ifYTpg4gYZ+plarJyxkPp8Pj8eDyWSa51Z/cyRJwufz4vf70en08mfBf2/F4hEqyAb/fzstUKH9DN7/wcEB9n+yh97ebtat3URbWwsAmzffi80aJV/7Xbf9ZvB6PbRfa6OuroZh+xAWi42C/EUkJaYAgXFwOp00tzQgCAI52QvQaOZ3vzQy4qC7p4uwsDBiY+JQq+d9v6agoDCHzOkbHfR3UalUjI2N8umBvRw89CkGgwG93sCbb7+C1+PhoQcfw2aL4uy504SHR7BmdRkHDuyl4uwpdj3xnFyey+XE7Xaj0Wi+XigEASQJ17ipSJIkXC4XiQnJlG+6m2PHv+Tc+TMkxCcRFhY+p5NoUJhSqVR4vR46OztoaWuCEMdllVot/y1JEkajifS0TOLiEmRthd0+zOUr1RgMRpYuKZmz9t5qRFGkq6uT1rZmMjKySExIvqXlB8fX4bDT2FSPwzGMRqMlISGJlOTU73yBup7juNfrpam5gcaGOpYUldDS2khl1VnCIyK4564H5n1h/7Z4vR6u1Fzk7Xdfo62thcSEJHr7elizuoxnn34elUqFy+Xk3PnTHP7ycxYWFJKTnTfvmqaRUQdHjh5kdGSEe+5+gOzsvHmrW0FBYe6Z9cz5TSYfQRDkydnpHOPs2VNcrb3M8z94EYvFSk3tZT7/fB8lxaXo9XpcbhcrS9ewZfN9tLU1U1l5Fp1WBwQmzfqGWiorK9BotV/vvgUVfing41JZVSFPnFG2aPR6A4WLltDT08XnB/ezoWwLUbbom+rDzRJsl8frpaGxlj+88luamxswGk3k5RYQGxuHy+Wiu6eTrq4OLBYbL/70b4mNjQdgcGiAL774hENfHuCJHc/MaVtvNYIgMDLq4ODhz7Ccs/Doo7tIiE/61uUGnz1BEBgeHuLA5/v4aO/7GI1GJEnCarHxxM7vsWjhYtlUOJ+LpdM5xrWOdvr6eqZ8JwgCg4MDDA0NMuYcxW4fJj0ti8ames6dP0NSYgqpqenYrFFz1t5bORaSJNHW3sqbb7/K55/vZ/u2HTz4wKN8cfBT9HoDfr8fn8/L+coK3n3vdaxWG0uWlKBSqeddgImJjiUvt4A3334Fu2OYZ595nuSk1HmrX0FBYW6Z162fRqORBQin00nJslJOnPgKn+ijrq4Gl8tJelqWbHIaHRuhqbkBl8uF1WpjeHiI81UVeL3eCZFMkiQh+nz0D/QBUFdXQ3hYBBISWq2WgYF+fD4fq1etn5d+SpKEQW8gJ2cBUVHRfPXVFyxevJQndz3HkqJi+vp7uXS5mkOHPqW5pQmr1RZY/EccHDz0KW+89TKbNt7N6lVlE8qcz8n/m9SnVqtJT8tkRckqXnvj9yAIPPe9FwgPC5fLhK9NJTM5ZQfrD/2Nx+PmfOUZfv/KbxAQ+MmPf05PTxe//NUv8Et+/uov/042YcwnQ8ODHDr8GafPHEetUiMREumGgMvtpLGxHofDzgcfvo3FYsXv99Pc3MDuD97i/q3biFq++qbqlEK0eBBqplOhVqunjN317uds73OwPofDzpEjBzl48FPi4xMoXbGGgvxC8nILkCQJtVpNc0sj7773Oj293Ty56znSUjOAr019gXb7gUAUYTCSMOhsr1KpZh2lGBp5GJw3glpQrVZH6Yo1NDU38PY7r5KYmMzOx5/BaLxzzLIKCgrX54YCzPVyrcz0+1BCJ6Lgvy1tzVRXn+f++7ah0+mpr79KfUMt6akZrF27Ab1OT1paJocOH+DXv/kXsrLyeOH5v2TZ0hWkp2fiF/3yZIkASIHJ72rtZf75X/83yUkp/O3f/P14AwLfG4xGLJHWWffjmxLsryAI2O3DXLvWhiksjKLFxbI5yGAwsn7tRpISk6moOElSYjI+n4/6hlrefe91DHoDD2zdHujf+JiKog+vNxC1pVar0Wi0qFQqRFHE6/WgUqnkz2YiuEiAhCiKaMc1XD6fF1EU0esNN3S8FUURj8ct/x285VqtBqPRRNHiZZyuOMHefbtZXLiE9evK5bpDhc4bMdl/prevh6+OHKSxoZayss0sXrSUru5OEuKTOHf+DOcrK2652epG7ZMkiTBTOIsLl2KzRaESpo6/w2FHJahoaWumtHQN6WmZgXvqFzEZw2Tt280Q9PcKan2C9zI1JY2MjCzUas20AuN0Plgz3evgb0RRpKOjnS+PfMHuD9/iWkcb8fFfmz2DwsmYc4wTJ49w7vxp1q8rJyMjW34mJUliZMRBc3MDXd2dmExhZGXmEB0dS1dXB41NdRgMRnKyF2CxXP9dDTjtu+jt7aGz6xqiKJKamk5sTBzNzY109XSSlpJBYmIyarWaxIQkBEHgxMkjrFi+moL8wjvK30hBQWF6ZhRgfD4vbe2tNDbWo9VqEFSqr1eraQidEEVRRKVSkZSUSlZmDm63G7/kx2AwsrJ0LQP9fQwODeD1emhqamB4eIi7tmzF6/HS1d1JZkY2a9Zs4OrVy7jdLjQaLQaDAZMpjGvtrWi0gcVaJajw+ryIPh8mUxjxcQm43W7i4xPRaDTTRiLMFaGTotfr4dq1NpqbG9HrDcTFJeD2eGhqqqe+/ip33/UA2Vm5JMQnodcbGB0dobr6PE1NDWzftoO0tIwJWoiBgX7OnD3J0NAgsbHxlI7v2KsunKWzs4OkpBRKV6yeUYCRJInh4SHq6mvo6upAq9WxfPkqVCoVZ8+ewukcY8Xy1cTHJ153gvd6PbL5IzTnTmxsPCtKVhEZqSM8PILU5DTe7+7kk08/YklRCWZzpJy353pC8WTNzGRBamCgn6u1V1BrNMTHJWK1ReH1ecnNWcC+/R9w8tRR7rnrAVnwC5Y114tVeHgEiwuXYrXY6Ohsn1Cn2WwhNiaOkdER7A47q1auo6R4JcPDQzgcdmy2KMLDI26qPkmSqG+o5Ve//ieqLpxDJagQ/SLpaZk8+8zzpKVloFYHxk8URUZHR7Dbh6ckkAzdWEREmImMtFxXS+P3i7S1t/DFwf1cvHQBk8kkOygHBRhBEOju7uT8+TMMDg4QExOHZTzSKljP6OgIJ04e4cOP3kOlEti541mWLV3OJ59+xKeffUxebgEv/MXPsFpt1+07gMvl4nTFcd577w2G7cM8ues5tpTfy8f7dvPxvt08un0XTz7xHGZzJBERZsJM4Vy6fIHKqrNkZ+Wi1xtuaswVFBRuP2YUYFxuN19+9Tm/+vd/RqfXTbu7nExw8na73RiNRnbueJaEhCQqzp6kubmRwcEB6uuvUlBQSGfnNUZGRlhekk5YeDg1Vy/R19eDShVQgSNJlBSX8vhjT2GxWPF43NTXX+Xtd/+ITqtjaGgQQaUizBQGQGpqBtFRMZyvrKCrK7CohwpVfr9/wuJ2qwlVZ3s8Hjo62unt6yEqKprRsRF2f/AWV2ouYrFYuV+7DY1Gi9WqlxeCqupz+CU/MTFxU5LyDQ8PcezYYXZ/8BZpaZn87MX/hlqt5g8v/4a+/l7WryuneNmKGcPF/X4/w/YhPjuwj3fe/SOxsfH8w9//I1aLjd+99Eu6uzv5m5//Dx64/xFg+qiY4eEh9u3/kF/+6hfyZ2ZzJI8/+qRsohNUKozGwAJ3obqSq7WXWV6ySi7P5XLS2dWBwzE88ZkKamf8fvR6A4mJyYSHR8j30O8X8fm8qFQqdDodGrU6IMSqVbjcLgYG+vH7Rdnvar4EVkmS6O/v4813XuXAgb0kJCShUWvo6+8lISGJn/74r7FYrIyNjTJsH8btdnHq9DEqzp7i7rvuZ3nJypuKogrmPOrv78VqsTHmHMXn9FGQX8jiRUvR6fQhmhMfTc0NXLhwDu/42E1uv0ajJX/BIooWL5viUBzUmOl0evJy8yleWkpV1TksVhvbH95JWdnmCWX29/fS0dmOVqfDZDKhUk183+LjEykr28yly9V88tkePt77Pu3tLYyOjlJSspK0lPSA+XcawTNU8I2IMJOdlUuE2UxV9Tlqai5RumINWq0Oh91Ob2833vE8U2Fh4YRHRNDX10N9/VXs9mGio/WzHm8FBYXbkxkFGI1aTWpKOkuWFOPz+WZVoOT3o1Krkfx+TGHh5GQvwONxU1t3hWsdbbhcLqqrz6PT6ent68Hr9RAebmZ0bJS9+z5gzeoyVpaupb+/l/2f7iEtNYMdjz8NBLQoUVExLF2ynP7+Xk6cOorL5WTn488QH5dITEwsgiBw5NghTpw6wqPbdwFMCVGeK0LLdzrHaGtvxe8X0el0dHV1cOjQZ7g9bv7ub/8nGo12Qrbg7p4uTp8+jkajISLCLJcXNJVlZeWy4/Gnqb5YSUNjHa++9hKFi4ooL78HmzWKxMTkG+a6UalUxMclUFZWzslTR+nr66GpsZ6MjXeTnZ3H8PDQBPPOdBqRkdERHCMOipetQK1W09rWzJKiErZv2ykLklqNBltUNFHRMQwND9DQWMfyklXyPRgdHeHChXO0tbdO0RgFFymLxUrZunLCwyOmmCADv5v4t4Awpaz5WpwEQcAn+hhx2ImPT+SH3/8pgkrFZwc+pq6uBq/Xi8EQcHC124cYHBrg1Olj42aWjSF9mt0zKoo+YmPjeezRpzAajFRfqsLlHGPXE9+TNXdBVCoVFouVlJQ0fD5fQIsagiRJaDUaLBbrdbV3wfK8Pi+OETser4e01HSKioonhIFD4LkfHR0hIsKMzRo1wXwU7F9KcjrFy1Zw/ORXVFadJT4uked/9CI52XmIoiibv6Ybi9BnISc7n5JlpZw6dYy2tmbGxkYpWryUDWWbWbhwMRHjwm9yUirpaZkccHsYHh7C5XJNKEtBQeHOZEYBRq83sLJ0Hfn5i77R+UUatQabLQpBUPHQg4/R1t5KZ+c11qzZQJQtGrfbxe9e+jcyM7PZsvle6upqMEeYefD+R6i+WMkHe95hy+b7iItNQJIkNBotWZk5ZGXm0N7eysVLVQwM9LPtoR2kpqbj8bhRq9XotDrOnTvNg/c/gl5vkLUvcz1hhe4Q+/p7OVNxnLCwcNav3cSuJ57jTMUJKs6ekm3wKpVKbpfLFYhkSUvLmJBLI9THIDY2nuJlpVRdOEd9/VU2l9/Dc8++ACBrakKFosn9FQQBg8FIVmYOy5Yu58M979Dd04XVFsWa1WWoVWqWl6wCmLDwhI6dXq9n1cp1bL33YZqa6zlz5gRb73tYduIM7tZTk9PISM/iwoXzjDjsE3yhwsMjKF5WSn7+IgSECe0L1qnV6YiKjpkyvkEnTYmvx0aSJDkS7buIdoFx3yLJT3RUDIsLl+KX/Fy8WElDQy2CIBBliyYy0kJTUwPmiEhq62ooLFxK/oJFct9n22a1WkNB/iLS0zM5d/4M1kgrJeX3kpO9YMLvAvmFNERHxxIeFn5d051KpcJgME5bV6gGs6WliaoL51Cr1SwsKCIrM2fK72WNjVY3wUwT+hwZDAYSEpOxWaMYcdiJjo4hIT4JjUYrCy+BZ1kEBNkpeXKbdDotBqMJtUaDhITPF/ATy83NZ0lRiZwAMzw8ArPZEhDehJsbawUFhduXGQUYQRAwmUyyvfvbvPQREWY0ag2pKelcvlLN0NAg997zIFptwE8lLjaBNavL2PPRe3z2+V4uXbqAOcLM6lXrr5uoLLiY+aWAcKXT6clIzyYzI5urtVdov9ZGVmbOhCiFuSRYvtfrobm5keqLVSQlJrOhbAuLFhYREx1LfFwi0dEx8iQ9GdV4FEkowb6HmcJJT89Eq9Wh1+uJskVPiTSRpEAyOUEQZAfdmdorSX66uzvp7u5k9ar1xMcnyqGwACqVWtZgAcTFJmC12LhSc4nGpnrK1m9mzeoNcl9ks4RWe91oj2A7Q+/dZDTTLbSCCu14CH3o8xAUmswRZtkXY74J1lnfUMsbb72MWq2m4uwp+dlLTEgmMSGZY8cP09hUjyj6uO+eh2RzYWgZN0Kj0eD1erh8uZqKihMU5BdSUlwqPzehgp3X66G1tYm6uhp8om9aAUav05OenkVebr6cgHByv5xOJw2NdQEBzBxJakq6rCmcDlEUEf3ilLKCgrYgCGg0WpwuZyAEvb+XyEgLohi4Zmh4kKamejweDynJaSQmJslZuyfUEdKn9vYW+gf6SE5KJSU5VW67KPom/A5FdlFQ+JNgVlFIM0WNzDbUcWx0lJbWRsrWbyY9LZPfvfRvXL58AaPBhOT3YzZHsmnj3Rw5eoh//82/oFap2b5tJ9lZuTMKH263m87Oazgcdnw+H1arjbVrN/IfL/0bR48eIiU5lZHREVpamoiLi5/TKJWgUGK3D3Oh+hyi6MNstpCQEHCKjY2NZ8vme+WdoST5ESb5FYn+QIRPaLRO0CnaJ/rw+/0YDAb6B/o4deY45eX3olap8Pl8GAwG2tpbqam5hF5vICc7j9TU9Ou2VxAEHA4HFRUn6e7uZNPGuxFFkd7ebi5drkYUfaSlZZCZkS0vHqLoo7W1mSNHD2KzRrFp412yJinUBOHzenG5nNPW63DYOXXmmJyRdjqTVUx0LOvXlxOWlilfFxYeQXxcIpWVFYw47DidTjxuN2Ojo8TGxlFYuHTehZfgPTIYDGRm5NDYWM/RY4fH+ySRv2ARZnMkVquNtLQMvjj0CUPDQ2x/aAcLCxZP6PdskSSJxqZ69u3/gPDwCFatXIfb7aa/vw+LxSprHYPvrkatkZ3ep3uPNRotGo1mgtZtsvnQ6Rqjs/MaQ8ODLCwoJDFx+vw+wTBur9eDy+mcMH/09nbT09vF2NjYeG4kI3q9nubmBi5erJS1kvFxCdTUXOIPr/yGjs5rbNpwFzsee5qUlLTrjkl/fx8nTh1lQW4BJcWlsiAmCALD9mGGhgYBpmhzFBQU7lxmnQfmRmGWM/1eFEUGBvvlaJl16zbR29uN6Pfj8XoQxnNBREVFsyBvIX987SVSUtIoXlY6JbLJ4bDjcjtpa29haGiQax1tvPv+6/i8PtRqNU/s/B7r1mxk774P2PPxeyxcWITTNcZvf/f/WL92Iz/64Ys3Mz43RVDo6O3r4XxlBRqNltiYWBLik+SJPKgVCUzWX4dJq1RqIsIj8Hjc9PX1ymWOjo1y6VIVXV0duFwu+vp6KFy0hNNnTlBTc5EzZ46j0WoxR5hJSkpl3/4Pee31/8RgNLL13of5+c/++4Rw7FB8oo/WtmYMBgPr15eTnpaJy+Wk6sI5fvHP/wvHiJ3yTffws//yX4mOjsXv99Pb18P+T/dw+swJfvLCz/GJIr3trRiNRqzWKNRqNT6fl57ebq5dawuY9Cbt6k2mMHKyFxAzzRERwefGZAqfssOPjoph2dLlHD1+mLb2Fhoa6xgY7Ke2roa01EwKFxXN++IUFBRs1igevP8Rli1dztjYKE6Xk6GhQZzOMXp6uoiOiglEYiEQGxNHWVnAvyfglKy+Yfh7sC6AgcF+jhw9xIEv9rOkqJj6hlq6ujpobmlk44a7WBwiyGk0WnJz88nNzZ91fyb3DcA5NkZfXw8+n4/s7LzrHs0RERGBJdJKS2szg4P9suO82+3m1OljfPjRu4iiSEnxSh7dvguNRsPV2ivs3f8B1zrayV+wkNjYeAaHBmhtbaau/iomo4mVpWtJSUmb6PckCAgE3rlrHe0U5BeydEnJlKNH2tpaaGquJzw8nLjYBEzGsFmNhYKCwu3NDQWY6RwoQ7meABO6ixsbG6WyqgKr1UZO9gLMEWY2lG3h+ImvGBlxoFapaWtr4aujB7l8pZrS0jW43S7efvdVenu7KVy0hISERBwOB5989hF19VcZGhzA5/OSl5uP0WjCmmAjMTGZ+LgErLYontj5LL/693/it//xr8TFJlB14Sw5c5xK3Ofz0dvXzfnKCrq7OzGZTAhCIBNrVFTMlEUqdEccFRVNSclKKqvOTsjo2tvbzcuv/o6jxw6xdMlynn36RywpKqGvr5eOjmt8uOddcnIWsHHDFkSfD4djmMHBfsR+P5VVZ/H5vFPCioHxSCk3TucYixYWsXrlevl7j8eNY8ROT083V65cZNg+TExMHKOjIxw79iUfffy+7IiqVqv5aO/75OXk88TOZ1Gr1bjcblpam2hpbSI5KZW0tIwJ/Q4Pj2BJUfFNj29EhJm1azfS2FTPherzfP7FPlwuFwaDkfJNd5OWmnnjQm4hQY2by+2it7ebtrZmuro76e/vw24fYmCgn2sd7bS1tTAyOsLFi1VodTq0Wh2i6B83kzQQaY6UTYMzEQyL7unporu7E61WS31DLe/tfoP6+qv09/cRF5cgZyT+psLcZPMcQEtrEzVXL8mbjKiomGmvjYtNICdnAZevXMQx4sDjcWM0mlCpBIxGE5FmC7aoaNav20hWZi7hERF8/vl+BEEgOiqGwkVLMOgNpKWms6FsM3q9HoPBOO4P8/U4BNsZ9IVKTEhi/fpy8vIKprTJ5XLidDpJTEhmwYKFRESYvxM/KQUFhVvLt87EO5tJwG4f5uixL0lLzSAjPQu7w87uPW9z7NhhTKYw+vt7+f3Lv6bqwjkKFy1h28M7uFJzkXfe/SMXL1ZRvukefvLCX+P1eqitvcKF6vNkZmbz9FM/JDd7AampGYSHR8gLtd/vZ/3aTTQ11bNv/4ccPXaYmOhYVq8uu0FLvx0+n5f29lba2ppZtmxFIAIk0kZjUz3Z05wFE1wAVSoVyclplG+6h4sXq+jr75V/G2YKo6S4lLjYeMrWl7N2zQZGRkb48Qt/xbHjX5KSnMaW8nvJzc1nbGyMtWs20N3dxZWai4SFhU0rNAXrDguLoHTFGjaUbZGFKa1WR25uPg9s3c7JU0fl86MkKXBGU3dPF3FxCdjtwxw5ehCnc4x333uNu+96gJ3Bow+kQGZkQRDIysyhsHDpLRlfQRBIS83guWdf4LPP99LYVI/JGMZf/OhF1q8rx2yOvCX13AwqlYrBwX4+3rubw18eQKPRYDKasFhtZKRns6SohN7ebnbvfpMx5xh3bdlKQ0Mtb739CsXFpRw6fICszBx++P2fEhk5swADIEl+EuKT2LnjGRITkvjq6CEcDjtms4Wk8Wibb3vyevAZDfqY+XxeauuuUFNziaKiYhYXLp1WYyRJEjExcaxetZ7zlRW0tbXQ1d1JRnoWOp2elaVrWbSoiDBTuPy+bt50DyXLSpGQsERaZb+pBXkLsVqiMBpNtLW3EBlpkU2Yg4MD+EQf4WERCAikpqRz/9ZtrF29YYq2z+/30z/Qh2PEQV5eAbnjh0rOdYi9goLC3DPnRwlIkoSgEkhLy2BB3kIiIy0MDg4QaY4kOzuPlSvWMjLqoLGpnocffIytW7dhs0axIK+ArMwcPvns44ADHoHQ2id3fZ+HRhzy+THTqbwlSSI6OpZnnvoRKSnpHDlykPSMLAryF81pXzUaLRkZ2eyKS8RgCERgeH1fH3swWYAJ2vwlKXD0wIK8haSlZVBdXcng0AA2axRRUTE8un0XkiTJk7jFYuXB+x9hQ9kW9Dq9nCvFaDSyYvlqtFod77z3Ghnp2ajVASfpMecYnR3t6HR6XG4nGq2W9Ws38dCDj8kLf8CxUkNWZg7bHt6BTxSR/H6slkBSsaioGHY89hTlm+5m/yd7uHixku6eLkpXrGVD2Wb5MMWREQft11qJi0tgy+b7btn5U8F7nZqaztNP/oChoUHUavV4CPD8Rx/JkVk6PTHRsZSuWMPSpctJTU4bP2HdzieffsSxE19iNkfy/JMvsmDBQt577w3e//AtTlecQPL7ycvNRz2LAx0DIfWBkOfISAvxcYmUlKyir68HQaUiLjaerMzcKYtz6LM3m4VbEAR8Pi919Veprb2CSq2muroSU1g4y0tWkTlN9FHotQX5haxauY6z505z5cpFkpNS0Gp1mM2RmM2RE95Tg8FIfLxxSrskSWJoaACVSkXxslIyM3IQBIGe3m727f+Q7u5Oli5ZjlanY+fjz1Befo/8foS2ZWCgj6tXL2O12Lhry1bS0+dXS6egoDB3CG1Njjnfini9HgYHBzAaTXLWUVEUZSfW3r5uhoeHyMstmLLQByMNrpcmP3TCCk1VH/wuOBkLgmrCuStzyXQL6WwiTYaHhwKZRPe+z7aHdrB16zbCTGETFp9gSPV0dUqSRFd3B58d2IvX62VD2ePiGlkAAAQHSURBVBY5t8bFS5X89j9+icViJSszB41aQ3FxqexIGtrmgcF+jh49RGNTPatWrpNDq0PrHh0d4WrtFQYG+4mLjSM3Jx+DwcjY2BjHjh/mzbdfYWHBYn7w3E+IDMnGejM735nGajpt1ndpEph8byRJ4kzFCd5482Xi4xPYet82Fi0sQpIkGhrreOvtV6g4e5LcnHyefeZ5CvILb6oumH58vqlmYfJ1o6Mj/PH1/+T3f/g10dEB/52C/EKeevIHZGZk37Cc2rorfLjnHURR5MEHHp0xfX+or01w/AYG+zl/vgKfz0vxshXYbNEIgsCF6nP8+jf/l/OVFSxbtoJtD+8YzwBtmVCWIAiMOcc4/OUBjhw5yNIly7n3ngcn+FUpJiQFhTubeRFgFALMZpEdGOxnz0fvUlV1ju3bd7KqdK2s2bjRtX6/n+aWRs6cOcHqVetJTg6cvCuKIhVnT/KP/+cfAscHlKzkke27yM7KnbaNHZ3tnDlzgoyMLBYtXDJh5z6TT5QoijQ01rL7g7cQBIGnnvwBCfFJEwSum11g7+RFZmR0hKGhASLCzRPMW4Ig0D/QR1NTgyxQBj//LpisxQRwupycPXuSU6ePI4o+kpJSWb92E6mp6bNuZ139VQ4e+oSU5HTuvuv+GbNghwoegiDgcjnxiSKG8bO5YHzc+ns5fuIr6htqycsrYGXpWqJD/HFCn9OOznaOHj0ccFJfVz4hQaSSC0ZB4c5HEWDmkdkIMJIUOK/oxMkjeDxutmzeitFovK7mZfK1Qc3WZKFnaGiQ2rorCIJAcnLqjOHkPp8Xj8eLXj8x3XqoJmi6fgTPSWppaaKoaBkJ8dOH2v45EapdCP4dNB3eLkzOq/O1iceP2+MJ+EZpNPIRBTdy7A8SPAJDFH3YbNEzZvoN1WAFtKY+QJL9eULbGGybfOTINASFILfbjcFgQKfTT0jIqAgwCgp3PooAc5sRnKRFURw/1+fGJ0xPJuh8GbzueqaG630emmBvJrX/5O9CNTW30wL9XTJZszCdGXA25sW5JrSdwb8nt3FC9M8sBOrQa4PMJppxtrmlJgpbE9szndA9GUWAUVC4s5lzJ16FmyNUw/FNo0lmMzHPtHMNtiE0A++Nrp/trvzPjck7/el2/rfDmIXev+n8i4L/fhPzS6igMdNzN1uma89koX3y7xTBWkHhTw9FgLkNEQRBFh5uNPFf7/rQHeg3qX8m7Y3CnyaThZjJn9+q8ueinBt9pjzHCgp/eigCzG3MrdBqfJNrlcleQXkGFBQUbncUAeY2R1lIFP4UmOvnWHlPFBT+/FAMwgoKCgoKCgp3HIoAo6CgoKCgoHDHoQgwCgoKCgoKCnccigCjoKCgoKCgcMfx/wHl2cImU/vW9QAAAABJRU5ErkJggg==" width="560" height="38" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2空间曲线">2、空间曲线<a class="hash-link" href="#2空间曲线" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425150254230-a1d56b6b9872e1ce8b9d1e8cb8731ae6.png" width="676" height="82" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3常见曲面">3、常见曲面<a class="hash-link" href="#3常见曲面" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425150119269-77a99667eda7fc70c427ad9a6f28e38c.png" width="676" height="164" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425150038281-8843b87301ca11a2597203c448b356f8.png" width="686" height="371" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425150524882-339b123ed5467887390896bceb21da60.png" width="683" height="261" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4空间曲线投影">4、空间曲线投影<a class="hash-link" href="#4空间曲线投影" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425153519045-144373c7cb4ddc4f4373da11a0ea1482.png" width="680" height="104" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-8"><code>————典型例题</code><a class="hash-link" href="#典型例题-8" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200425153819039-a1110ae59c60470389f23a64366bc14a.png" width="684" height="248" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425154339060-a48d27d759c831800d668d1dbebc6c1d.png" width="680" height="326" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425154924062-6de93afe53e70766db53758b907f82d4.png" width="686" height="277" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四多元微分在几何上的应用">四、多元微分在几何上的应用<a class="hash-link" href="#四多元微分在几何上的应用" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1曲面的切平面与法线">1、曲面的切平面与法线<a class="hash-link" href="#1曲面的切平面与法线" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425155634429-ecbcf2c37bc335c12fc97693a0776ea0.png" width="682" height="80" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2曲线的切线与法平面">2、曲线的切线与法平面<a class="hash-link" href="#2曲线的切线与法平面" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425155711264-1e0b8f6b0a19cc2b2be5d5ff412f34d6.png" width="671" height="194" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-10"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-10" title="Direct link to heading">​</a></h5><blockquote><p>建立曲面的切平面和法线及曲线的切线和法平面</p></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-9"><code>————典型例题</code><a class="hash-link" href="#典型例题-9" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200425160307029-9d7a0fbb0069121255cad62a5055351a.png" width="682" height="382" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425161032261-6d063bda04230129314c7e7f9c8b7574.png" width="684" height="374" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425162055759-cb0a9099df6fa11279da44df68c669ea.png" width="676" height="375" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425162852519-0734e81fb46ce39fd45e1e05223bd94d.png" width="683" height="382" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425164148699-c72b3a474044e6190822fc4126a14dba.png" width="682" height="373" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二重积分">二重积分<a class="hash-link" href="#二重积分" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一二重积分的概念及性质">一、二重积分的概念及性质<a class="hash-link" href="#一二重积分的概念及性质" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1二重积分的概念">1、二重积分的概念<a class="hash-link" href="#1二重积分的概念" title="Direct link to heading">​</a></h5><blockquote><p>$$
\iint<em>{D} f(x,y) d\sigma=\lim</em>{\lambda\rightarrow0}\sum_{i=1}^n f(x_i,y_i)\Delta\sigma_i
$$</p></blockquote><p><strong>几何意义：</strong></p><p>曲顶柱体的体积</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2二重积分的性质">2、二重积分的性质<a class="hash-link" href="#2二重积分的性质" title="Direct link to heading">​</a></h5><p> <code>不等式性质：</code></p><ul><li>在D上若 f(x,y) $\leqslant$  g(x,y)，则$\iint<em>{D} f(x,y) d\sigma \leqslant\iint</em>{D} g(x,y) d\sigma$</li><li>在D上有m$\leqslant$f(x,y)$\leqslant$M ，则 mS $\leqslant\iint_{D} f(x,y) d\sigma \leqslant$MS(其中S为区域D的面积)</li><li>$|\iint<em>{D} f(x,y) d\sigma| \leqslant\iint</em>{D} |f(x,y)|  d\sigma$</li></ul><p><code>中值定理：</code></p><p>$\iint_{D} f(x,y) d\sigma=f(\xi,n)\bullet S $</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二二重积分的计算">二、二重积分的计算<a class="hash-link" href="#二二重积分的计算" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1利用直角坐标计算">1、利用直角坐标计算<a class="hash-link" href="#1利用直角坐标计算" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200420153204603-a9de8939178eac02d26d1f443ebf6916.png" width="707" height="45" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420172539798-e31b001cb2b8bac72a6ad57901d5a737.png" width="702" height="47" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2利用极坐标计算">2、利用极坐标计算<a class="hash-link" href="#2利用极坐标计算" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200420172829213-101ebf32994c6f777ebd66def38a5e2d.png" width="710" height="306" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3利用对称性和奇偶性">3、利用对称性和奇偶性<a class="hash-link" href="#3利用对称性和奇偶性" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200420172851432-d45ff3980dd61738c4ebd5687ffeaaf2.png" width="715" height="266" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4利用变量对称性计算">4、利用变量对称性计算<a class="hash-link" href="#4利用变量对称性计算" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200420172635042-633964d0c259efbdc86c9e712c731391.png" width="711" height="52" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-11"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-11" title="Direct link to heading">​</a></h4><blockquote><ol><li>累次积分交换次序或计算</li><li>二重积分计算</li></ol></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-10"><code>————典型例题</code><a class="hash-link" href="#典型例题-10" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200420164728918-a755db55575c8f7c1c8275f1d9ec34bc.png" width="705" height="240" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 解决此类问题：先画域，然后重新定限 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200420165714528-32bc2e9df70dc2eb194253975595e4eb.png" width="708" height="311" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420170812744-b9d63a836a66df271e11751dc8a43e6d.png" width="712" height="325" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420171608786-185d2b84ac35205748d00783548ab685.png" width="708" height="367" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420172216373-dea4133b827b7c25bf657871fedc78b2.png" width="708" height="362" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200420174108381-7f2389569c8242c3b0c34754bf3cf62f.png" width="709" height="351" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421105516685-5a49c1f8e7885a42d9754e6c1e60f224.png" width="708" height="330" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421110049283-0c9a48b31adc1d9831f140dfe055c103.png" width="713" height="285" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421110559852-ce376bda24fe52558f9e7c89b8d33ce7.png" width="709" height="393" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 选好积分顺序可使积分简单 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200421140914246-26de574d95241d798ff687da27379ab9.png" width="707" height="398" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 对常数1积分即用1乘其面积 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200421142226524-c899245f194c5cbd0ec3148cc0cc237a.png" width="712" height="400" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421141723958-1b83e6dc5897fff7aed25c402d277cb8.png" width="709" height="114" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421143602077-282fabd523c16783567c9e3fd8381b14.png" width="707" height="398" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421144446830-5e647b47e03d5ca575f6b1b02d31d1cd.png" width="712" height="356" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421150416506-453c4c721699e68d8b93c59a6827e47d.png" width="713" height="379" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 利用了二重积分的不等式性质：被积函数&gt;0，积分就&gt;0 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200421151230423-8363cf5eee599d27eb1d26c01cd6b995.png" width="712" height="375" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="多元积分学及其应用">多元积分学及其应用<a class="hash-link" href="#多元积分学及其应用" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一三重积分">一、三重积分<a class="hash-link" href="#一三重积分" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1定义">1、定义<a class="hash-link" href="#1定义" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200426092427904-ac3f00f09115eb8a84b775bd7b0b9297.png" width="390" height="66" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2性质">2、性质<a class="hash-link" href="#2性质" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3计算">3、计算<a class="hash-link" href="#3计算" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200426114039509-0d99ac2bb03823c7b9a04c4a1fc9e2c7.png" width="544" height="226" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426114407271-0bd89212fc68dd2fcd8211ff6cc32c9a.png" width="665" height="297" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426115459575-9ce0ce291f46d2f5bb7d864496037f63.png" width="686" height="287" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426120808362-abfe7d884fd79594d5dceeaf597857ac.png" width="605" height="137" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426194235844-a556d29f9954fd2d74625e759b570b05.png" width="614" height="96" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-11"><code>————典型例题</code><a class="hash-link" href="#典型例题-11" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200426192639649-c5a97c83eb0a3e146dd632f5358d150b.png" width="684" height="338" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426170547575-6f27377de83d6b9005f80b99bcf500b2.png" width="683" height="356" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426182333040-0f3c7e4c5fab44a4af151b061407b0ae.png" width="681" height="346" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 利用变量对称性 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200426183740364-64bd41cdbd566899fe527ff23fa75bcf.png" width="684" height="384" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426184305412-b7d41dc194b22294b4d490ad35a8dca5.png" width="682" height="292" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200426191819012-fc9d5273c9cbeaf1be855a524e1e2bdb.png" width="679" height="382" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 此题有多种解法 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二曲线积分">二、曲线积分<a class="hash-link" href="#二曲线积分" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1对弧长的线积分第一类">1、对弧长的线积分（第一类）<a class="hash-link" href="#1对弧长的线积分第一类" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200427103550459-8bb17d4fd9eb97043463677b1a823620.png" width="701" height="325" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427104022106-019a8174c5dd96d17bb44b865716040c.png" width="706" height="354" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427112351741-832ed0576d0b720ccb7be05048dac229.png" width="704" height="345" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2对坐标的线积分第二类">2、对坐标的线积分（第二类）<a class="hash-link" href="#2对坐标的线积分第二类" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200427113723294-ec9c306fae51369705cb3306d504e4a8.png" width="701" height="348" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 第一类线积分要求积分下限小于积分上限，这是第二类与第一类的其中不同之处 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427135539457-29fcbac7107516e1243645a01d6fed91.png" width="697" height="404" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200730133900088-543815f4bb3051e3047e647a06e554aa.png" width="668" height="301" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 单连通：区域内无洞 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427135236446-991fef73fed477a2cd95bcdc3c7d8de7.png" width="669" height="241" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427140207000-2c4035d0704f86561413abcab1a468af.png" width="704" height="401" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> （cosα，cosβ，cosγ）为有向曲面的法向量。方向：四指为路径方向，拇指为法线方向） </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200708164354460-d27f9662ff9e6a36ebfb136ae457d44f.png" width="603" height="387" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-12"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-12" title="Direct link to heading">​</a></h5><blockquote><p>曲线积分的计算</p></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-12"><code>————典型例题</code><a class="hash-link" href="#典型例题-12" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200427140805191-5de652cb1d866b6fdd4fb220029d5213.png" width="700" height="260" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 直接法 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427140929707-d77ebbf69e69db013c194092a6b4d0dc.png" width="704" height="272" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 奇偶性 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427141615589-14623786393def52d5ff491164fdcd11.png" width="711" height="396" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 解法1为直接法中的参数方程；解法2为直接法中的极坐标形式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427142338015-f3096f769f113ace5eb79abb6b60680f.png" width="708" height="363" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427143101697-1ec099d46798ea23323f6697cb53cd72.png" width="704" height="389" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427143945894-06a80438fa60bf2915ba48bf6dc29c98.png" width="707" height="344" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 直接法 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427144750560-aeb090345bd2470016486463693e13d5.png" width="714" height="269" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 补线用格林公式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427145958796-5736cfcdde26366c22ca122e37b76685.png" width="707" height="402" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 直接法 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427150623807-fd2811a7e21d39c2a5bc0484727cef7d.png" width="706" height="263" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 补线用格林公式。注意：使用格林公式前提必须是正向，逆向则要加负号 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427151156971-eac6287400591f40635f6101b0c958d1.png" width="706" height="397" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427151526572-5b702aeddd046b1bdd3f1720e8609c8d.png" width="708" height="386" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 拆分 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427161730760-ed3173324f275bc9030b261ba5acf941.png" width="700" height="393" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 直接法 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427162135849-a5a352e033eb2fd57cf85b4c0ac7bb36.png" width="702" height="390" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 补线用格林公式 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200427163534284-576eebfaf341cc560a67ee9c94363589.png" width="707" height="384" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200427170701577-cd16f2d215d9597476e8915f7e0e3748.png" width="717" height="401" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 法线向量（1，1，-1）为负向，而应取正向 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三曲面积分">三、曲面积分<a class="hash-link" href="#三曲面积分" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1对面积的面积分第一类">1、对面积的面积分（第一类）<a class="hash-link" href="#1对面积的面积分第一类" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428105030771-0c7e7180840393da9c1925f22b4d1fb9.png" width="704" height="290" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428105253176-bd982e32ea3a3dcca2993f17676c14ef.png" width="706" height="185" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2对坐标的面积分第二类">2、对坐标的面积分（第二类）<a class="hash-link" href="#2对坐标的面积分第二类" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428110041171-1866f83b40cafd25bf6d53f62a679c58.png" width="708" height="162" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428110634025-3d66e771c128f79b09c233781c010e28.png" width="705" height="396" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428111118562-90622762515bfded947a459bfb8a8e49.png" width="686" height="293" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428111404283-b48c8dd4ed92a92848896c07e17a5c63.png" width="697" height="144" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-13"><code>————典型例题</code><a class="hash-link" href="#典型例题-13" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428111913319-213f82a78fe6b73d58f9c7c6b7fa2137.png" width="699" height="308" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 选C </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200428112209262-e12da78a35b3032039374683c16e6bac.png" width="699" height="393" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428112637300-70563a5c52a8edc6cfcf893b6d495e8b.png" width="706" height="394" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428113253103-f902ab5e14349e9ae7039ac10a232795.png" width="700" height="326" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428114235363-277c8cf91645602d9cdb216f751ec54d.png" width="705" height="377" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 曲面是封闭的用高斯公式，然后用球坐标计算 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200730140611755-3e48297ae56f31219af636f62604fdd6.png" width="802" height="449" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428115631245-7cb8feecf92691adf54ecc2b9e8408de.png" width="705" height="396" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 补下侧，此题积分是在内侧，而高斯公式是在外侧，所以要加负号 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="四多元积分的应用">四、多元积分的应用<a class="hash-link" href="#四多元积分的应用" title="Direct link to heading">​</a></h4><table><thead><tr><th align="center"></th><th align="center">平面域</th><th align="center">空间体</th><th align="center">曲线段</th><th align="center">曲面片</th></tr></thead><tbody><tr><td align="center">几何度量</td><td align="center">面积S=$\iint_D$dσ</td><td align="center">体积V=$\iiint_\Omega$dv</td><td align="center">弧长L=$\int_C$ds</td><td align="center">面积S=$\iint_\Sigma$dS</td></tr><tr><td align="center">质量</td><td align="center">m=$\iint_D $ρ(x,y)dσ</td><td align="center">m=$\iiint_\Omega$ρ(x,y,z)dv</td><td align="center">m=$\int_C$f(x,y,z)ds</td><td align="center">m=$\iint_\Sigma$ρ(x,y,z)dS</td></tr><tr><td align="center">质心</td><td align="center">$\overline {x}$=$\frac{\iint_D xρ(x,y)dσ}{\iint_D ρ(x,y)dσ}$</td><td align="center">$\overline {x}$=$\frac{\iiint<em>\Omega xρ(x,y,z)dv}{\iiint</em>\Omega ρ(x,y,z)dv}$</td><td align="center">$\overline {x}$=$\frac{\int_C\ xρ(x,y,z)ds}{\int_C\ ρ(x,y,z)ds}$</td><td align="center">$\overline {x}$=$\frac{\iint<em>\Sigma xρ(x,y,z)dS}{\iint</em>\Sigma ρ(x,y,z)dS}$</td></tr><tr><td align="center">转动惯量</td><td align="center">I$_x$ =$\iint_D $y² ρ(x,y)dσ</td><td align="center">I$<em>x$ =$\iiint</em>\Omega $(y²+z²) ρ(x,y,z)dv</td><td align="center">I$_x$ =$\int_C $(y²+z²) ρ(x,y,z)ds</td><td align="center">I$<em>x$ =$\iint</em>\Sigma$(y²+z²) ρ(x,y,z)dS</td></tr></tbody></table><p><img loading="lazy" src="/docone/assets/images/image-20200710152251345-e96444f5d94ed30d41a8e75ba8a966c6.png" width="1024" height="867" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-13"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-13" title="Direct link to heading">​</a></h5><blockquote><p>形心和变力做功的计算</p></blockquote><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-14"><code>————典型例题</code><a class="hash-link" href="#典型例题-14" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428142925819-fcb30bbc92ac1bf265280c1e8893ace6.png" width="704" height="374" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428144604556-aacaaa6f3fcac73af2cb0f02db3bb52f.png" width="721" height="389" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428155730106-31ce444353092e13141963d991ad2867.png" width="714" height="406" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428155854117-509bedaaab7f603ab6a90378b1ecff99.png" width="713" height="166" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 补线格林 </p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="五场论初步">五、场论初步<a class="hash-link" href="#五场论初步" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1方向导数">1、方向导数<a class="hash-link" href="#1方向导数" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428160732446-f27e278b7d1c28bf713d41fb03053dfb.png" width="617" height="175" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> cosα、cosβ为方向余弦 </p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2梯度">2、梯度<a class="hash-link" href="#2梯度" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428160813717-6c180f6953393a1bf57b7e7f752aa6d9.png" width="643" height="90" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 梯度gradf (x0 , y0 ) 是一个向量，它的方向是函数在这点方向导数最大的方向，它的模等于方向导数的最大值. </p></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3散度">3、散度<a class="hash-link" href="#3散度" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428161011245-40ea33ed63cd0048078082202644134d.png" width="549" height="105" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4旋度">4、旋度<a class="hash-link" href="#4旋度" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428161201425-16401f880d9f6bed16d52422d37c5059.png" width="576" height="149" class="img_ev3q"></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-15"><code>————典型例题</code><a class="hash-link" href="#典型例题-15" title="Direct link to heading">​</a></h5><p><img loading="lazy" src="/docone/assets/images/image-20200428161724838-c4e5f65f43c5fb7003efa2bfb227ea6c.png" width="706" height="392" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428162248299-30f7baf372d846d245299d34684acd75.png" width="711" height="397" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 拉格朗日乘数法 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200428162430782-d4e62cf96546bc407c28d374a4c8362f.png" width="699" height="225" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428162619782-46cc1a93f3f0cf4f45617b94d3001a42.png" width="700" height="258" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200428162914072-9fa81a1b0793a2b77c26b17dda5e3fe9.png" width="705" height="297" class="img_ev3q"></p><h1>无穷级数</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="一常数项级数">一、常数项级数<a class="hash-link" href="#一常数项级数" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1级数的概念">1、级数的概念<a class="hash-link" href="#1级数的概念" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200421161712987-042a4056e66cf39349aa0259b2e6ff92.png" width="688" height="191" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421161839341-f5e0ec979da6a01d17c1fe8e1b55e0f8.png" width="686" height="361" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421162322243-d5d90493e3c425736be4690f411766f8.png" width="688" height="336" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2级数的性质">2、级数的性质<a class="hash-link" href="#2级数的性质" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200421162651511-2fc930c4aea1d4dd7d56d3ee9070e8d3.png" width="687" height="186" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200421163548810-c47d4ebd78b2356104012936154ee010.png" width="686" height="271" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 比如<code>1,-1</code>,<code>1,-1</code>,<code>1,-1</code>……收敛，但其Sn=(1,n为奇数；0,n为偶数)显然发散 </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 加括号后将变成新级数，第一个即为第一项，第二个为第二项... </p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3级数的审敛准则">3、级数的审敛准则<a class="hash-link" href="#3级数的审敛准则" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1正项级数">（1）正项级数<a class="hash-link" href="#1正项级数" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200421164220292-7a574abaaeaba4035da9d1d15ad967df.png" width="679" height="242" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 注：只适用于正项级数，不适用与任意项级数 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200422160045299-0210f79e9b0d3ec451686302a317aac7.png" width="687" height="310" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> ②：l=0说明un&lt;vn,那么大的收敛小的就收敛 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200421170509571-74e4af7739667c29b77cf61831d9384b.png" width="683" height="205" class="img_ev3q"></p><table><thead><tr><th align="center">方法</th><th align="center">优点</th><th align="center">缺点</th></tr></thead><tbody><tr><td align="center">比较判别法、比较法极限形式</td><td align="center">适用范围广</td><td align="center">不方便</td></tr><tr><td align="center">比值法、根值法</td><td align="center">方便</td><td align="center">适用范围小</td></tr></tbody></table><p><img loading="lazy" src="/docone/assets/images/image-20200421171941728-6a26348b23c196afa228bcc4eb23f26e.png" width="770" height="345" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2交错级数">（2）交错级数<a class="hash-link" href="#2交错级数" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200422122839441-41cc49c466cd87a8aa5e6aa2cf27318b.png" width="685" height="259" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3任意项级数">（3）任意项级数<a class="hash-link" href="#3任意项级数" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/docone/assets/images/image-20200422123756718-659bbbf03bc0435a81ec70a7a19eb3bc.png" width="685" height="340" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-14"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-14" title="Direct link to heading">​</a></h3><blockquote><p>常数项级数敛散性判定</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-16"><code>————典型例题</code><a class="hash-link" href="#典型例题-16" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200422133612348-85ed120cba59c585395647edfb728122.png" width="684" height="251" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422154545829-710f070c91e8595c9a49e76f0d6b26d6.png" width="703" height="291" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422160748579-ff0a483d5b3bffff50c5c5293548fd60.png" width="687" height="349" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422164505808-99d2cc688f22c4595958298a9c674d54.png" width="691" height="378" class="img_ev3q"></p><blockquote><p>$$
\sum<em>{n=1}^∞|b_n| 收敛，且\lim</em>{n\rightarrow\infin} a<em>n=0 \Longrightarrow\sum</em>{n=1}^∞|a<em>nb_n|收敛 <!-- -->\<!-- -->
\sum</em>{n=1}^∞|a<em>n| 收敛 \Longrightarrow\sum</em>{n=1}^∞a_n^2收敛
$$</p></blockquote><p><img loading="lazy" src="/docone/assets/images/image-20200422165022544-1a9446a6e4090c086d5ca258860f33f4.png" width="687" height="311" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="二幂级数">二、幂级数<a class="hash-link" href="#二幂级数" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1幂级数的相关定义">1、幂级数的相关定义<a class="hash-link" href="#1幂级数的相关定义" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200422171338177-24b82eb34b5e06e68c28ef674cc78dff.png" width="685" height="285" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422171229458-d29be0f2a798c8be81b1cea86148b046.png" width="690" height="370" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422171632731-3d171c3adda26204db1a5052bb4567c0.png" width="686" height="111" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2幂级数的性质">2、幂级数的性质<a class="hash-link" href="#2幂级数的性质" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200422172137405-e25e77d524c053a2be736f8e6a578ce7.png" width="684" height="232" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422172324191-c03ee089dbad3f7fa36acb3c583f5a59.png" width="690" height="365" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422172444451-c8cb7b3d820565b02b0e3b8720a1c338.png" width="687" height="147" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3函数的幂级数展开">3、函数的幂级数展开<a class="hash-link" href="#3函数的幂级数展开" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200422173957312-9ebc3c35b675d8affb7d1a4debac5732.png" width="676" height="192" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200422174240828-688808795955d7e607e47da93975583f.png" width="684" height="224" class="img_ev3q"></p><p>常用展开式：</p><p><img loading="lazy" src="/docone/assets/images/image-20200423121622007-ba67e8d068f2f87a1182084f8f25b0cf.png" width="688" height="322" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 对sinx求导就是cosx </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> 1/(1+x)=$\sum_{n=0}^{∞} (-1)^nx^n$ </p></div></div><p>函数展开为幂级数的两种方法：</p><p><img loading="lazy" src="/docone/assets/images/image-20200423121847915-0ef2a6b8559f1630957ba5bfe4cae6aa.png" width="682" height="341" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-15"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-15" title="Direct link to heading">​</a></h3><blockquote><ol><li>求收敛半径、收敛区间及收敛域</li><li>将函数展开为幂函数</li><li>(难) 级数求和</li></ol></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-17"><code>————典型例题</code><a class="hash-link" href="#典型例题-17" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200423123030478-9df9f4cc789c2b93333d15c564578406.png" width="685" height="341" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423125123030-e096f454f708b5c3b3bcaf7a5bbaa7aa.png" width="692" height="377" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423130629457-2610dea2b97ee63f124c3f82aa77db83.png" width="690" height="386" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423132756070-7e7f91d92f2070d897a38a8c0a04f3e9.png" width="694" height="382" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423135532635-40ded810ce0ed8d3f5961397b21c1968.png" width="690" height="326" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> ∵级数an条件收敛，那么x=2时幂级数na~n~(x-1)^n^条件收敛 </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200423143914948-1f418609ef9ba08d6d37418d075e0a9f.png" width="690" height="343" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423145418045-03d243943044aecde975b4342ebb3fba.png" width="684" height="376" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423150108862-810c70b212e084bce93e496eea0658df.png" width="683" height="372" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423150433180-1137887006f6c03a2801fb6a6db2e545.png" width="684" height="253" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423151002050-558b224a7ddce7f4ed4a5f9f649df7fb.png" width="684" height="375" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423151856260-190a0e4ac0b2a800f9db4170ed6000dc.png" width="683" height="272" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423152713456-d71502492a3fa289997f4cf7cbdb12c3.png" width="683" height="243" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423153347955-1cba1f976788e26ce49fad570531fbef.png" width="685" height="382" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423154548512-60fb8ec5b159c1bc2f94d907f9cb857c.png" width="689" height="357" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423155534638-1bc91f2c0bbada3c306c0c05b1432a8a.png" width="685" height="383" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三傅里叶级数">三、傅里叶级数<a class="hash-link" href="#三傅里叶级数" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1傅里叶系数与傅里叶级数">1、傅里叶系数与傅里叶级数<a class="hash-link" href="#1傅里叶系数与傅里叶级数" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200423182557428-08b46869972ed3dcdc5af5785b2bc1f4.png" width="672" height="155" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2收敛定理狄利克雷">2、收敛定理（狄利克雷）<a class="hash-link" href="#2收敛定理狄利克雷" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200423183229943-219499b0047da50d93587d86abedd4a2.png" width="681" height="281" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3周期为2π的函数的展开">3、周期为2π的函数的展开<a class="hash-link" href="#3周期为2π的函数的展开" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200423185407305-f1d1dbae7bee363cf9aa9b6f079943f0.png" width="674" height="299" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423185826431-99d0a4cf2d670c5bae415976ceb14a55.png" width="682" height="386" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4周期为2l的函数的展开">4、周期为2l的函数的展开<a class="hash-link" href="#4周期为2l的函数的展开" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200423190033618-17fdd4d17d80112912ea7960aa31d267.png" width="682" height="158" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423190133994-a42da8adebbb65ec7c35b692eca327aa.png" width="687" height="306" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200423190247675-9ee70e08e76760cc6d0d242ee50d1219.png" width="687" height="298" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="题型归纳-16"><code>————题型归纳</code><a class="hash-link" href="#题型归纳-16" title="Direct link to heading">​</a></h3><blockquote><ol><li>狄利克雷收敛定理</li><li>将函数展开为傅里叶级数</li></ol></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="典型例题-18"><code>————典型例题</code><a class="hash-link" href="#典型例题-18" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200424132128481-61aec886d6ea5757e93757964f1cd22d.png" width="685" height="246" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200424134056270-ce25b7dfb7b6d8dc06483b907a697786.png" width="687" height="351" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200424164805173-b68ad4f58a9729f5963ac96e14c2dec1.png" width="682" height="297" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200424170537908-70e15dabfa7e5154b640220e0cfd959b.png" width="684" height="386" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200425101159716-4d26cbefa56f329f73a2d3b4873e7d96.png" width="684" height="361" class="img_ev3q"></p><h1>附录</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用公式">常用公式<a class="hash-link" href="#常用公式" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="极限运算法则">极限运算法则<a class="hash-link" href="#极限运算法则" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200712132805417-30b1108b8a1eaafcc3b04e8836f01a72.png" width="704" height="177" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用基本极限">常用基本极限<a class="hash-link" href="#常用基本极限" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200712133644910-715308d0f299f4136ae94d6e90c8755a.png" width="863" height="617" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200712133746596-9963b6ea64a2d4df314eb4a2d2e41fe3.png" width="598" height="340" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用等价无穷小">常用等价无穷小<a class="hash-link" href="#常用等价无穷小" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200712132941324-fa79df04da1ab9a7c3a5c7f426b7bd7b.png" width="718" height="308" class="img_ev3q"></p><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtwAAABGCAYAAAD/y0NlAAAgAElEQVR4nO3deVxU9frA8Q8zjSKImpW7gBsIlVtaKiaIplZIWpZLqV2XXErqetXsGmYhXVPjmtzSSv1FXjGvS4ZYVm6AuJZrgSCKgOaamRM4Ogz8/pgBBpiBGWBmAJ/368UrYc6c88yZIZ7zPc/3+TplpavzEUIIIYQQQtiEwtEBCCGEEEIIUZtJwi2EEEIIIYQNScIthBBCCCGEDUnCLYQQQgghhA1Jwi2EEEIIIYQNScIthBBCCCGEDUnCLYQQQgghhA1Jwi2EEEIIIYQNScIthBBCCCGEDUnCLYQQQgghhA1Jwi2EEEIIIYQN3ePoAGoStfomTw15nIEDgxwdihA25YQTf3t5Mi1btHZ0KEIIIUSNJwm3FY4cPcS5jLO41HNxdChC2JRCoeAepfzvQQghhKgK8hfVCunnzvDs0JH84+9zHR2KEEIIIYSoIaSG2wqnTv2Kt7evo8MQQgghhBA1iCTcVkg9nYy3lyTcQgghhBDCcpJwWyg/P5+U1GS8vXwcHYoQQgghhKhBJOG20JUrl9BqtbRo0crRoQghhBBCiBpEEm4LpZ5OpkP7jigUcsqEEEIIIYTlJHu0UEpqMt7eUk4ihBBCCCGsIwm3hVJSk+goEyaFEEIIIYSVJOG2UEpKEl42mTCZRuQz9+PZxo3HFhwi79L3vDfSmweDFpNqg6PZT219XTXcD1Pw6uBG63bP8L+bOfyy5mX6d21LyHa1oyMTQgghai1JuC2Qn5/P6dOnbJRwt2f6NzuZ1NqNx3s4sXb9VYbPGkOTXw+TrLXB4eymtr6uGm7gCo4uehLFw4G0O/gJie7zmdrrD46dPOvoyIQQQohayw4Jdz45F3/m+/+GMfPl3nT1eoltJTfJWsPLPZviM3AWCdm2j8haFy9dAKB5s5a2OUDmLuIv9qD+1bP0mPoSbS6eIqNjdzqrbHM4u6mtr6tGyyUxPh7PNrdIrTuWyf63OJuionPnjo4OTNQ0mVGoe3XmRq9RaDKtfU4olb3u1oZ35kavztwIj6vknipGl5mBztTrrsh5EVUsjuxe+s9HdqL5rXTRowyfoSh09guuShTGPr7ysVuyr4LfN3V0RiWPdveyw9Lul/jqzRf5/NernL9+B2hjftN820dTEampyXh5+eDk5GST/V/fu4sklxyGP/IcHevo2LlnNy0C/oGnTY5mP7X1ddVsPxGfeAttQGcG9W0CF75iT2ZfJvnVdXRgQtQYusRQ1DNjAFAticHVz8PBEZmQGYV6/nZgMC6rx6F0dDz2lHmOPACCqeNnbqMMtDuSAFC2CbDy/GSgGR+MJrkSMRKM6/4wqsP4U1664TwMsPY8CGvYIeFuzvgvTzE+I4KBAe9g8vPZegxfHBhj+1AqKCXVVvXbABr2JuzHre8qRvvcAxxgd7wzgR93sdHx7KW2vq4aLnUnCVc7MmryYBoD1+N+JKnHMwS4OjowUSNkZhSNgGUZ/Twrw7JRNuPnGO8LD5TulY7ObpR+YbhNT0MdmYR2ZjDZS47jajaxs7cMtOFzyI7VJ1H4DHZsOA6g27td/9kKGmA+oc3cgzYZwBdVn4pfMKmsfe8TQ7lhuFirFjKj0MQC+KLy0N+5Kds503d2gJr2e2xvdki4DZo0oymYTrjt7caXjHnsdfbcqcNzK8/zToOlvDHzI073/4q98/qUqrNJSUnG1/dh28SSt4+4ffcyfOXTuII+IdI8QegDJ0i52RnvBrY5rM3V1tdVw/2WsIvMXpMY1c4J/UXRPjr1C+firxk0fNBDJnWIMmSgmW9qVC8JzcxgNFbtK4bsEUZJh88M3GrYKKxy9Dpc0zuTHQvamaPIXrLOwUl3BtrolWgiY9ABSqhxZRKVVZAsFo1ce5ZIIIsSwsKk3GcwKsyUBwFK92p494KiUenKMj4Pyow5qGeWvV9dZAjqSDMP1sDfY3uyX8KtUFSfP+aNxrJmz02CHt+D3wOb+eJYH+a+vIv+sce4Rh+alNg8JTWZYcNG2CaWk7vYqwoisrv+rcg7f54/HtCScfVe+tXk2ova+rpqNDUJCUd59Kl13A/AJS5cro/z1XMo3IOrz++nqKY8cF59HOeCbzOjUI+IQIcvzuvX4WzJyFbhc8q5nZ5p4Yi5QfmjcrYZeVPNjcH5TDCa5CTyMjLAzwOy0gyxt7fjaF8c2b1C0OKLavoyXEb7o6xuI6m2ZlTmU0AXGVwiOSz43MWhiTQklskRqEdEmN1teSPY2pmduVHxqCuvnWclElyjspoBAahGj6PRaNNbasP1F5fK6TG4ja6eFyHVnf0S7mrmz/idnHy4FTdSPJg09jGOzT1F007zSiXbeXl5nE47hXcHG5WUdF7AwZ+KvlUELudEYCX2d/VThj26gWcO7eDlByodXcVV9etiO9O9QnhgfSrzulY2ODuoLu9DMW6M+OI6RZeOnkzdnMFUB0YkRGnmRtLNiA1BHVvONjYbeStxEeIw/rjuP+7oIKoHU+914YWeni56hWHSrrkLP8trtGt0SUniSsNrDMZZkmibc3DCncdfmYfYs+tbduz8nt0nu/LRsRUEAPk5FzieuJ0fd37Hzl1xtPxnFqsC09j08QJWbUvk9HUlrR4ZyezwBTzpruTGyS/58MPlfHs4jZt1PfEbs4glbwRyv8l5jndI3LuPujmT6PJ0T+pzlN1xd+j3fo9SW164kIVKpeKBB5ra+mQIIUTNVJEabguUNZpWMOJG0DIazfU3uY0uehTqyKq59a5nvvSgaJM0/X992ls4Ui91r/ZVNLqtnD7RzF2Wc+gcVf9q5d0dsOQOD5T+nGWgWaVP/Iudh3IuCHSRwdwoVVJixV2uu5iDE+4TfPLqy2zMvMTFmzqoVzSh7sJXU5m48ji/X7xOLtA4ZQOLTqnpOXIFG6Zc5Ifwkbyx6WMmv1KX5X9Ts/NCHyYu2cVs7c+sfmMkS5aNIKT5CaJHNi992PyDxCfe4ZGZr9HDBTi7gz2/92dWz9KnI+V0Mt6WdCjJSWP752F88vUeTl11oevEz3jb+Z88tegYneacZNvkmlRHoSFz18csXv5fEpJ+Q+UzkYj33YkYNJOf2s1m145QOjg6xLvC3fo+6Lj2cxQRSz/jx6Nn0bQcwrsfP8vuZ0ayxWkkUcc+J/CuvTdXHVWkhru6MNQ974gpkWD5opq+ENcSyb4ueo7lCXxyBNlllCoUMjv6bl1sjmNNnEUjx8rpy1Clr0ATm2TmOSUmfxoeVwZNwWWuf4XvVhiPblfFqG7VlpTEkT0ixLqWmZbc4QFKjeYXjm5buL0pJe4ciLI5+M9WF2ZvPcWsk/PwC/53scGPVuNj+Gn8BT4d2pEFx+FCtiefvvc4bgA0YljoTDZ8PY2ElCg2q+L5bIa74RfwcaaHDOfzl1aTsPkbro2cYqhXNZK0k/jbQ5g3tBkAV/fu5GzvMXQ4fYJrD3Yqtn1qajLe5SzpnnvhG2aPHc93rmNYsOwgg9rcZOusqUxNPg60J7AmFS3nXeTHd4YxdRMMe2cF25/2RbP7DWa8spWjQMt+g2tpklfNVOv3IYE5XZ9irTV/ZZpO5ZsDi+hW7oZqji4fybgP0+k+ayn/+09vXE99wKtT3iI1B+oMHkRvSbarmYrUcFcDiVGoZ+pjUQbNwHX+OFTuQGYc2fND0EYGcyO9+Oi5cvQ6szWuBSwZeYdyRt8rEJtDVCJOXWQIOnwL2yrqMqPQjIhAGxmMOj0YRWwMWkAZtEyfYGfGoZkfgiY2BPWZypQItUfpA4oB5ka3LWGrUiJLS4OMSl4qVC5VNLot7KdazJNyat6KZiYfaUmLFvp/tevWw5BsGzRsh2cj/Tbdu7sX+7ApWrTW7+/ieS6a2GvW3t1cDRhGPxfD9xcu08QpkwsuHUol56dSfsXb23zCnZ8VzSvDxrC13jS+jF7Kc52aUd/Ni1GjvLmSmQ/NBtHfq4wXX61cZOvrgUxcn8uLn3/L4hGP0ay+G55DJuLzVzo6GhPY7xFHB3kXqO7vw+MsPKomK92KL4uS7RwOfTCIFxal8Njib/l88kDaNKxPk8emMKB+OtdR0LvfgGpQLytqC0VQMM7rj+M215AoArj74zp/hv5vSuwKKxevyUB3Rv8vZZvKDbRUfWy2UfE49RdqBT3Mle7jcF2vf46uINmeHoNbwWi2uz/Oq5fpk+TkCDRlLGhTFuXoMNxWr8O1zzk00VFoq8E5tJ5RyUtymqHnuBXKHd0WtlA9xoqUSrOZv0KhAJMfJ2ecnQHyyCu5YI5KRR0AzS2TtzlbT47jtNH33d46ykEzx09NTWbkC2NNP6hL47O/v8GPN7ozf8N79Khv/JgOHdC43yA6mdl39ZJP1trJzIq9iO8/9vGOX2Ojx3LR6QCXAQQ+Wi2u0SyTm8zqCUNZ9EtLpq3aRkiXeiU34NQXz/PS4mO4T93AV691139ujLdIWc7Yce+S3HoGUWtn06nkBlWuFr4PFroZN5PXVpyk0Yiv+WiY8cx7Hbk6gB70D2jksPhELeM3zvxkN/cAVD4R6JKT0O7NsKL0oCgRUnhUolzBJrHZQGXiDJpS+q5I4XPAdMmHP3WCQBtLUVeYCtLtXaGv5Y5MK6N0whdla8M/bTzZ0arJl4UL+wCkocuk6GKnXHFkW/Q6YsjuJaPgVal6JNy2kl/20pU6nY7whaHocnN5951FJh8/nZZidtGbjKgpLPz5Fu2nRTDOo3iN9/kzKdzBhYBAPxvdRij7tv5Pj7oRWvKHZd3Wv/QlsxbsJrvVFBa84ls85uuppN2AOgMH4WfzT0wmHw95kIW/mHn4WTc+L/XDp/j49HqCS8aWsZX/xv9GNr8Rve0XQrqUnBR7lm3RO7icA5fXbebUa91LXRyd+XY1CZez4fIXxKbMplOpduy19X2ws1u7eG/WGi7Wf5L/vDkAF+PHclNIOwf4DiawZBshUT3YaNKk43igbIf1C0cUJkKGRM0wAa5qezlXMDYTdNGh5Bj6dgPgE4zzhIk4FyayRaULVnfjKCdOVYCpchij55hZtEbRxhdIQpd+DjB9XvNKTiI08blTjl6I845gNMkxZIcPKL88xy+MRvvDKPucFLRnrMj5slxh72wArLvwKqxh95mBc7sIw6I3pkgNd1WrbX+2LXbg4F7mzZ/FmbOnuXPnNsFDhvNIt0eLbZN1PoP6rvW5/z4Tfd1y97Ji+UFylX6MH9elxIn8je+2HwHVk/TvbashUf1t/YUlf1yhdnT5HF29iEQNdBn7Ko+UCPnaDzH8hBN+gQMoOUZc9dx5dauaV0v9vAJtAT2fYVzAav51ohUvDTG1cFE7hrw0kK8+OIL7i89h6rKq3dOT6Pu/eSS1nsCQjqYOUlvfB/u6tGExG69CkzHTCbq3+GN3DsSw6y9o228gMgm+OrLlpMmyVrUrYq5Lg6W32nWZceTtPced9DTyzqRBclKFkohii6m4x5E9PkS/mqGJOtvChUvK6aNcVbGVkhiKOjIGfPS114qsKDSrItDMjEFrqJs2bhtnfol028RZ4ZIcSyer4oHzhGA0M2MgNoTsgOq0WmhZinpnF9BFrkQ72rJl4pWjF+LWB8CDvDWWnCdRVe7KhPvzVf/hk+URvPXme+zbH8+mr9excdPaUgl3Sor5Jd3zD21k6zVQ9h3N0BKjbrf3L+bTI/ko/Abj72Ly6dXMEWK2ZgI9GT6sxP/kcn/mk+W70NGD/v6NTT672lJ6M+7/TjHO/AZ4jd3EYTMVQwD3eL3C2v2v2CA4U2rK+1DVkyYv8+3WvehoydBn+5RIPi6wdlk012nGs/1qRnHW3cd2kybLXNWugMVdGkrKQBM+p7BLhjIoGEWbATgHDEDR2pO8NcH6yY8WM2o3NyAAJR64rl5mSLojUI9Pw3W1ZUlR1cdWmnaPvlxANcFQe+0+Dle/AMNqlUbn1CcY5/nm4rZ9nFazoA93Ib8wXINiDKuFhqItGNEtVrJhXlkdSizuXlLO5NpSjJeknz6YvMgIdMRwJzEMlUUXDEXtAa2u/RaVclcm3M8OG8mokS9T37U+LVq0YtPX64iJ3cS77yyiTp26hdulpiabTbizTh7lT8DD9+Hikzlz9hH21iouA90DB9Kw4OfaSxzZ9gVRa9ZS79WTLKzUIjBV7PcjHL8E3N8J32KzRjUc/XAqqzOBjoMJLDGz9dr+hcye/xmJ5/Np3m0Eby54jyc9bF7kXHtV8H2wPzOj+hV2jOMnAR7ioY7GpVn5ZEVPY9HhO9DwCQK7mHm6qLVs14fbuD2d6WNYPxFth4l2c/64ro4xHCuG7F7guj6snHpbG8RmgmrucRrNLflTD1Sjw1CNDrNgD/aJ09ZUc5ehig1Bi4WlJcbPLbekpOD7kuUZRufOqpH8DDTzIwrvojiPHkdeekTpC4YqITXcVc1+CfedO9zR/wOtFop9Km7f1j+m1ZboP6njzh39r2yuNrfEDvPIywPIRVfqoXz9L3puyf3p3de4KJvp1fNxmjZtzuXLF9m1+wcGDxpS+Nip1CR6Pmr6kvH2bf0N1AYNjSZx6TLYEPYfkpycAC8C+rYkN30nB+7pj9/phYQs+YYLF24y1OQeHei2htsADRoWXSCQx2/f/pMVP+fhBLTu2x/PvEwS9mnw6+OF4toGln7ThNfXnmDpX4ksDRnD1AkufLtjHmU3URRmVeR9cFSsVSnvNre1QN1GNDBqQaI+/D6Lv/0DJ6Cu3xP0VP7J4fjTPNi3OzXixlEtVKx0w7gutiI13CUW+Ciqc/bAeX6M/k9EJWufjW+fFxvxLCiV8JmBi8mEvqjbiGWMJqKVqj32wHl1DISvREd7FOXdCajy2GykpsRZLn9clwSjXpWGIqCqW/gWTPKMQRM9EVXBeSocpbayF7hRdxHVBP0ovrISFwxlkxruqmafv9e6HDK/345+Htxhtn19mr9y9RMa83OzOf3dd6QA5B7g+x0X0OQB6MjJ3Mj2o/pdnNz9DRnZueQD+bocLiduIO4KQAZx23/m+m19Yp6vvc6J2O2cAfgzgW0Jvxn2Z5pSqWTYMy8AsHFzdLHHUlOTzbYEdH+oKw2ApC2fsu9qNn+kbiPy3c+pO2kkrS7mgcoHj3tiWbL2Eu4twClwKXvjVxBcHYtvm3al031A+ma+2H2B7D9T2fnZbFbmTOL5DlfJBbzbNmDn0v+Q1bQNCuDPI/DE/PF0vr8+DTwH8XboOBqfiePgFQe/lpqsAu9DraDoRKcHFXD7R9auS0GdncWhdW+z8FgA4/1ADbRp34JfohZwsI6XJNuOkhiKekRw0dfMgj+0+hruYo+Z+yp8TgzZJR7LNm7z5u6B0t2jCpZiN+ynRJKrK1gN0lz9dGFCZBlteEjRUuEmEx4PnOeG4Tq3oNTBfPvAqo7NVmpKnBbxM7QKLNX1pH2Zq4BqZ3bmRi/jr9KL1qgCggFDnTVgPEptfqVLEzKjUBde1C0zGlnXXzAA+vKqaEtWnRSOYJe/2TGvNcVv1lZDPdPvbH+zGz5DFnOOC3w2vBmB7+0hB4As1k/qiO+MWG5vGY23/0S+vabfx7XvptDnoR5EpOby9ZSmdH/pE9LyAG5xaEkAnbtOZQ+7mdXNg6cXJxom8Jzhy7He9Hh7d5nxDX9Ov5LBzp3buXHjDwByc3NJO5OKVwfTJSV1A9/ho7/15oGs1Ux6LpjQ77Q8NWcBwW1a0bK1C/UapBG7ScmYOS/iXvB/I4UL9eqa3J1jKfvwj49m0Lv5ZTa8/gQj34omO+Ad5g33oWVLD1ycG5P5QxTa58IY3UH/v4eGA5/H32g0UnFfE+51a08bR5cX12QVeB9ubRmHj28jWnccy/bss2x805+u3V/g6+ugSfk/pj7Rmsf+ucNwd6m68uRvCxfzZId8EhY8xbBX/01KhxDem+RH6+ataVjXjez9X/Jrt1Be69nA0cHevfzCaLT/uM2+7DlhTenRXv+PM+dMjM4Z3ba3gC56VGGdsmpJ5W/pV2VstlRT4rQl1ZKSn+Nlpd9/vzBcgwBiyA6PQxc9p5w7AyZkxpFdOJJs4qKu8Bj6pdezEyXpro7sUlISvFxNsJnHJm9RM9nkI0Fkmau9+FzNs2YeCjipZomV8Xl7+eLr8zBJySfZum0zY16cwLmMszRqdC+NGt1r5lnNGTDvewbMK/nzbrz542XetDKGKvPAZL5ON31Gy3K/37usT3y31M99psWTMq38519JjKfuxH/R12afqMFEpqbaaudVz07vQ72hUXx38XH893fH6atNuE55jV5bQvn16HYyTrXkjZc6MSD2NDcZUHrF1Wqknu8rfPZD6cmp9w1dyy/VrgZLlJIZh2bNCrRn2qOaH1Z8AmViKOpVaUB7nOdPRFWlLfIqyG8izj4xaJIjUI+ncIVEXaK+U4elI7O6xNDCGnHl9BgrLhrK6NddRbHZXE2JsyKy0qr0YqGwTjw2BDUAvjjPt3B1yGJlG744rzd9UaeaG4MrwYZ67mDUZcx/sIzUcFe1WnNXurKGPzsKgE2GshL9ku6mR7dFCTnxfJzwKB9Mfkg+UHb3J/v2HcfLNYdbfd/gyfxzpCi8UGdm89yUJ7ia+iv3d3ywWifbogbLjEMTPoobI0LQxBrawGWVGF1rPQAFoEvWl5Hc6DWK7Og4B49+6uuqXYN8USZHkD1CXxKgnhlBHsG4rj9eOGJoji56VLFb/FYlN4UTLI0WVqnC2Oyj+saZl5mBzvjLRv3f8zLi0ISHkh0einr8KNRGJSUF5Sb6Uil/nKcblaf6DLZooRpdYqhRsh2Ma5ndgDxQzT2Oa5D+OLrIYG6Mr8xKmsG4lndnyrAyqLCMU1a6uuzVYe4SV65contPL/Lz80mMO8nmLV/xxx/XTS6IU3EJzOk6lNsf/s6/q1OXkkq5yvf/WsLtcQsJbuFU/uaiauVuY1qnsWSF7GXLFB9+jxrEI8td+TB6Iy+0PcGCvoP4ff55/h1YdXPXhdBlxqGZvwJtsqEDSKkFU0zIzEC7Zk5RYg4og5bhMsa/zDpZcyzpUmIbGWjD55Bd2ApvGW6mjp8YRfYeQ50z7VEGeKLM2MGdHWlF583usddiFq0EacFEQMx8tjLj0KzZgfZMGrrkkp1vfFH6AO0Aw+dbOT0Glz4A59DML+jHHoxzuzRDG0VfVNOn4Dzav3TSarhjVNBu0WSrwzLoEkPJmRlTOCpu7jgFr7NYl5nC82jNpEkrWoPexe7KtoCmNGnSjD5+/UjYu4vNW77i1Klf6du3v6PDqub+4siXK9GMWsAzkmw7xrE49uv6MW+0D0pyiI8/ROPHv2JoWwVk7CL+Uj+m95RkW1SFDH2P5h0xheUQ+ATjammZiLsHqrnrUM3NQJe4Up8QGHpoK31m4Lx6XBW2NLMNXWIUOTMjjBKZhbiaG9luDXmxRas4ao37Ufv4ohqgT4JEFbO4D3cG2sRzgCeKwrsM59CuWWFYfdEX5zFG74+7fnKrot1gnCdMgdaeKCg5ITeO7NgQw3EK9lU6uXYeE0f2/BC0kSFoI31RBg3GZe44lAW/Y5Exln3GzFD6heG2fkBh0q4/TnCZLSkLLzIKWVNSkoRmRGc02HaFzZpOEm4jw58bRcLeXWzcHI1KVYeJE16rwr3nk3vjN65qcrlz+Qra/CaoanSO+hdHV4Zzotc8XvZUAXncvnKIjYecGRXURUpL7OT0vjhu+s9gUAMgN564A80YvnYgdYA/9u0hpUcQnif2cb5nb1o5OlhR4+nS0wBflEFTKjwyDR76hGB/mKHedzt57TyrfbIN6Ms/fHxR0l6/GExZr999HG77zS+7JexL4VO645huVYhhAqNvsQRdFTSDOmPGlXh/9Z1mLKWLDEHn44syaAbOJffl7o/r6uP6key954AAw/E9UKCvHzf5PGu4++M81x/nMfpjKD3K3pfpvuyiKklJiZGcnBy6dG/DrVs5KJVKTh7NxM2tiroiJL2L39NLKCinajlxFwfm9qiafdvdLY589CSjlv5s6C5T4AHGrkslvKdcx9nH70SN7MDu59P54rmG5B+eRbcQJ1btW0Q3J0j6qDejE3uzIOw9grylmZ4QQgjhKJJwl/D63yexectXuLi4kPLrZUeHI4QQQgghaji73Pk/FP4Qbdu60TroQ7K0Z/h6TgBdugaz7pKFO9Cd5MMJk/n2Ysl57ddI+CCIxx5uSvfn5xJ//Q6n109icM9mtPVuRe/nX2VDao7JXZrz0osTAGjX1suq5wkhhBBCCGGKXRLuR+eeYNXwBrj36UpG1CbqvPIWgxWHOZZW/nMBUD7MtGlN+PcLz7Py5M3CH9/as5SNjUOJPXiWb96oxxezh/Pa3P+h8V/Gtn3JbAsfxLEP3+ewFat+9Ojek/jdx9i4/nvrXqQQQgghhBAm2Glu2xHiEhQ85JTJXwNn8rRbBqk3HqHLg5bvod4j7/LFnHv5/IVeTPhsL9d0cCrLg4mTHuMBF1da+r1NSNszJN03hvD3XsDnPjfu9QombFJTjlvZgL+NZztcXKTmVQghhBBCVJ59Zred3U3CpTp4dAhgsLsC9aYfONJpIB/fC/yxiuHd3uCgFbv77V9PknRtNyta6QqbzEM6e/dlUr/XYLobLZ+uqFuPulKlLoQQQgghHMQuI9xX9u4ktdlQpgZ7AndI2JNAh8BBNAe4dwIb09Vklft1k4Mfv0DLuq15YvZWtszuTscOl/hyxSGu/XWFw5++zopTD9NLHcnraw5xOecWN9N/5IP/u4RPR3u8SiGEEEIIIUqzwwh3Dgnxh+g4+iN63APkHyQ+8X4Cx8IvZzU81NbZor3cORnO+H9dZ8L/DjCpk6FVX6+/M+bENF7ou4Pz93gz9MP/8n7/31j40mgCwtU4dxjCzMXL6F7Hdq9OCCGEEEKIstg+4c5NIP5AW4LmeOu/v5nFxbzGKM79RbMeliXb5KWyasV5pq/fyNMtjLoaBvEAAACvSURBVNvTN+SRyWvZNdl447a8vSWNt6sofCGEEEIIISpD+nALIYQQQghhQ7ICtxBCCCGEEDYkCbcQQgghhBA2JAm3EEIIIYQQNiQJtxBCCCGEEDYkCbcQQgghhBA2JAm3EEIIIYQQNiQJtxBCCCGEEDYkCbcQQgghhBA2JAm3EEIIIYQQNiQJtxBCCCGEEDYkCbcQQgghhBA2JAm3EEIIIYQQNiQJtxBCCCGEEDb0/0rTo1/SEb4QAAAAAElFTkSuQmCC" width="732" height="70" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="泰勒公式">泰勒公式<a class="hash-link" href="#泰勒公式" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200712152913225-11d8067a67bb96477ac0f300f2f76796.png" width="686" height="376" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用高阶导数公式">常用高阶导数公式<a class="hash-link" href="#常用高阶导数公式" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20200712134438328-e672657c926858a00df0dec2670e4825.png" width="769" height="138" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常见空间曲面方程"><a href="#%E4%B8%89%E3%80%81%E6%9B%B2%E9%9D%A2%E4%B8%8E%E7%A9%BA%E9%97%B4%E6%9B%B2%E7%BA%BF">常见空间曲面方程</a><a class="hash-link" href="#常见空间曲面方程" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/docone/assets/images/image-20200710135827529-67e5f8a021ab10d2c181d0a0eca2d823.png" width="719" height="238" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200710135807145-35f2286116e0ec3431b42a8fd6fe596a.png" width="735" height="305" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200710135746195-bd221f9407671df8ed1ffe37b1a2a77c.png" width="685" height="493" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200710135932952-b3b588b14e89832341e21a910d4c25c5.png" width="681" height="187" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200710140015292-5ce33f4cf0cc8cc5fe78991643e5b0ff.png" width="670" height="340" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20200710140217663-e02b373290bc8bcc13878f25b0da8f36.png" width="816" height="613" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p> z=a(x²+y²)为旋转抛物面：即先写出z=ax²，将x更换为根号下x²+y² </p></div></div><p><img loading="lazy" src="/docone/assets/images/image-20200710140517318-2bef5dedc430457082cfcb1b0b897450.png" width="775" height="596" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常见二维平面方程">常见二维平面方程<a class="hash-link" href="#常见二维平面方程" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="抛物线">抛物线<a class="hash-link" href="#抛物线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008190315682-dc06653a2b5230d3a4b173da3f01df56.png" width="1087" height="769" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="星形线">星形线<a class="hash-link" href="#星形线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008185812051-ffe0e9fb1c68983ffc6bed9a0667cbaf.png" width="1102" height="828" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="摆线">摆线<a class="hash-link" href="#摆线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008185917229-09ff331b4808a8d61d62aa487f07d1be.png" width="1124" height="825" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="心形线">心形线<a class="hash-link" href="#心形线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008190027633-f3fb14fb1e6c9d4b055ee178702875e3.png" width="1081" height="821" class="img_ev3q"></p><p><img loading="lazy" src="/docone/assets/images/image-20201008190130541-f0cc665157d49e21e9539e95c90fa452.png" width="1089" height="818" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="阿基米德螺线">阿基米德螺线<a class="hash-link" href="#阿基米德螺线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008190218114-69f29eab3763b790ca782d3abf740d2f.png" width="1117" height="764" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="伯努利双纽线">伯努利双纽线<a class="hash-link" href="#伯努利双纽线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008190355567-2a5afc19ea1d8bc14126e6bb03ba9bfd.png" width="1071" height="577" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="三叶玫瑰线">三叶玫瑰线<a class="hash-link" href="#三叶玫瑰线" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/docone/assets/images/image-20201008190429141-9dfb4df74df02839374d2ca522f72af6.png" width="1090" height="495" class="img_ev3q"></p>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
        <category label="高数" term="高数"/>
        <category label="线代" term="线代"/>
        <category label="概率论" term="概率论"/>
        <category label="微积分" term="微积分"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[考研英语——翻译]]></title>
        <id>/2020/09/25/考研英语——翻译</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2020/09/25/考研英语——翻译"/>
        <updated>2020-09-25T22:27:00.000Z</updated>
        <content type="html"><![CDATA[<p>标准：准确完整通顺</p><p>​			按段给分，微观扣分</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="翻译考点">翻译考点<a class="hash-link" href="#翻译考点" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="专有名词习惯用法多义词翻译">专有名词、习惯用法、多义词翻译<a class="hash-link" href="#专有名词习惯用法多义词翻译" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="翻译技巧">翻译技巧<a class="hash-link" href="#翻译技巧" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1词义选择">1、词义选择<a class="hash-link" href="#1词义选择" title="Direct link to heading">​</a></h4><p>遵循单词本义原则</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2词序调整">2、词序调整<a class="hash-link" href="#2词序调整" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3词性转化">3、词性转化<a class="hash-link" href="#3词性转化" title="Direct link to heading">​</a></h4><p>n.翻译成中文是v.时，就翻译成v.</p><p><code>Analysis of the culture now and past.</code></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4增词法">4、增词法<a class="hash-link" href="#4增词法" title="Direct link to heading">​</a></h4><p>翻译中抽象名词后通常需要增词，化抽象为具体</p><p><code>Look into the past and report their findings soon.</code></p><p><em>(科学家们)正在研究宇宙的过去，并且很快就会报告他们的发现结果</em></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="具体句型语法的翻译">具体句型语法的翻译<a class="hash-link" href="#具体句型语法的翻译" title="Direct link to heading">​</a></h3><p>不需要全文翻译</p><p>以下情况需要联系上下文：</p><p>出现代词(查找代词所指内容)、生词</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="翻译方法和步骤">翻译方法和步骤<a class="hash-link" href="#翻译方法和步骤" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="方法直译为主其余为辅">方法（直译为主，其余为辅）<a class="hash-link" href="#方法直译为主其余为辅" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1直译">1、直译<a class="hash-link" href="#1直译" title="Direct link to heading">​</a></h4><p>不是字字对译，而是根据中文表达习惯</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2意译">2、意译<a class="hash-link" href="#2意译" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3音译">3、音译<a class="hash-link" href="#3音译" title="Direct link to heading">​</a></h4><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="步骤">步骤<a class="hash-link" href="#步骤" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1结构分析">1、结构分析<a class="hash-link" href="#1结构分析" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2句子拆分">2、句子拆分<a class="hash-link" href="#2句子拆分" title="Direct link to heading">​</a></h4><p><code>拆分依据</code></p><p>语法</p><p><code>拆分原则</code></p><ul><li>将句子主干和修饰成分拆分开</li></ul><ul><li>将主句和从句拆分开</li></ul><p><code>拆分点</code></p><ul><li>引导词</li></ul><ul><li>连词(当连词在连接两个单词时，不用拆)</li></ul><ul><li>标点符、介词（当介词构成固定搭配时不拆）</li></ul><ul><li>非谓语动词</li></ul><ul><li>当主语特别长时，就拆到谓语动词之前结束</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3词义推敲以段为单位">3、词义推敲（以段为单位）<a class="hash-link" href="#3词义推敲以段为单位" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4书写译文">4、书写译文<a class="hash-link" href="#4书写译文" title="Direct link to heading">​</a></h4><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="句子成分">句子成分<a class="hash-link" href="#句子成分" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1定语">1、定语<a class="hash-link" href="#1定语" title="Direct link to heading">​</a></h4><p><code>方法</code></p><ul><li>定语较长则放名词后，较短放名词前</li><li>注意分清代词所指代的内容（如果指代的对象不易找到，就翻译为"这、那"，不宜翻译为它）</li><li>专有名词除特定词、习惯用词之外可以直接写英文</li><li>latest翻译成“最近的、最新的”，一定必须是发生过的事，如果没发生，就翻译为“最晚的、最迟的”</li><li>如何区别when引导的是定语从句还是状语从句：只需看when前面的单词（若为表时间的名词，就是定语从句，后置翻译成“当时/这时/届时”；否则，就是状语从句，翻译成“当……时”）</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2状语">2、状语<a class="hash-link" href="#2状语" title="Direct link to heading">​</a></h4><p><code>如何识别</code></p><p>句中含副词、原因、条件、目的、结果、让步、方式、比较、伴随</p><p><code>方法</code></p><ul><li><p>把状语翻译在离它最近的那句话前面或这句话的主谓之间</p></li><li><p>如果表示原因的状语比较长，就翻译为“之所以……是因为……”</p></li></ul><ul><li>一句话既有时间又有地点的，先翻译时间</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3并列结构">3、并列结构<a class="hash-link" href="#3并列结构" title="Direct link to heading">​</a></h4><p><code>方法</code></p><ul><li><p>有连词的出现可以用来推测不认识的单词含义</p></li><li><p>有连词的出现通常有省略，翻译时先把省略部分补充后再翻译</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4插入语">4、插入语<a class="hash-link" href="#4插入语" title="Direct link to heading">​</a></h4><p><code>识别</code></p><p>“，——”</p><p><code>方法</code></p><ul><li><p>插入语是“believe、think”等表示观点的词，插入语需要提到句首</p></li><li><p>插入语是表示逻辑的词</p></li><li><p>除此以外，插入语直接翻译</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5被动">5、被动<a class="hash-link" href="#5被动" title="Direct link to heading">​</a></h4><p><code>方法</code></p><ul><li><p>英语中的被动通常翻译为主动；即使翻译为被动语态比较通顺也尽量不要翻译成被动</p></li><li><p>如果没有主语，就增加虚指词（我们、我、他……）</p></li><li><p>用汉语中其他词替代被字</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6倒装">6、倒装<a class="hash-link" href="#6倒装" title="Direct link to heading">​</a></h4><p><code>识别</code></p><p>一般疑问句的形式（助动词放句首）</p><p><code>方法</code></p><ul><li>还原倒装后再翻译</li></ul>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[21考研生词]]></title>
        <id>/2020/07/28/考研生词</id>
        <link href=" https://yuqiuwen.github.io/docone/blog/2020/07/28/考研生词"/>
        <updated>2020-07-28T22:27:00.000Z</updated>
        <summary type="html"><![CDATA[不完整，待补充]]></summary>
        <content type="html"><![CDATA[<table><thead><tr><th align="center">单    词</th><th align="center">释    义</th><th align="center">单    词</th><th align="center">释    义</th></tr></thead><tbody><tr><td align="center">to some extent</td><td align="center">一定程度上</td><td align="center">lure</td><td align="center">诱惑</td></tr><tr><td align="center">fend off</td><td align="center">抵御</td><td align="center">initiation</td><td align="center">起始；启动</td></tr><tr><td align="center">cure-all</td><td align="center">万灵药</td><td align="center">intensity</td><td align="center">强度</td></tr><tr><td align="center">virtuous</td><td align="center">有道德的；良性的</td><td align="center">outrage</td><td align="center">暴怒</td></tr><tr><td align="center">bureaucrat</td><td align="center">官员</td><td align="center">justified</td><td align="center">合理的</td></tr><tr><td align="center">dirt-cheap</td><td align="center">极低的</td><td align="center">longstanding</td><td align="center">长期的</td></tr><tr><td align="center">tangible</td><td align="center">有形的；切实的</td><td align="center">provoke</td><td align="center">激起；挑衅</td></tr><tr><td align="center">rest on</td><td align="center">依赖；取决于</td><td align="center">nuclear</td><td align="center">原子能的</td></tr><tr><td align="center">fiscal</td><td align="center">财政的</td><td align="center">passive</td><td align="center">被动的；消极的</td></tr><tr><td align="center">work placement</td><td align="center">实习工作</td><td align="center">jury</td><td align="center">陪审团</td></tr><tr><td align="center">recruit</td><td align="center">招聘；新兵</td><td align="center">crucial</td><td align="center">重要的</td></tr><tr><td align="center">hard-wired</td><td align="center">本能的；硬件的</td><td align="center">democratic</td><td align="center">民主的</td></tr><tr><td align="center">substantial</td><td align="center">坚固的；大量的；实质的</td><td align="center">celebrate</td><td align="center">庆祝；赞扬</td></tr><tr><td align="center">assets</td><td align="center">资产</td><td align="center">comprise</td><td align="center">包含；由……组成</td></tr><tr><td align="center">tremendous</td><td align="center">巨大的</td><td align="center">skin and bone</td><td align="center">皮包骨的</td></tr><tr><td align="center">legacy</td><td align="center">遗产</td><td align="center">skin-deep</td><td align="center">肤浅的；表面的</td></tr><tr><td align="center">prosecute</td><td align="center">起诉</td><td align="center">fusion</td><td align="center">融合</td></tr><tr><td align="center">corruption</td><td align="center">腐败</td><td align="center">notion</td><td align="center">概念；见解</td></tr><tr><td align="center">verdict</td><td align="center">判决</td><td align="center">genre</td><td align="center">类型；流派</td></tr><tr><td align="center">encompass</td><td align="center">包围</td><td align="center">CSR</td><td align="center">企业；社会责任</td></tr><tr><td align="center">lump</td><td align="center">块；使……混在一起</td><td align="center">prosperity</td><td align="center">繁荣</td></tr><tr><td align="center">fundamentally</td><td align="center">基础的</td><td align="center">liberal</td><td align="center">自由的；民主的</td></tr><tr><td align="center">era</td><td align="center">年代</td><td align="center">speculate</td><td align="center">推测；思考</td></tr><tr><td align="center">intuitive</td><td align="center">有直觉的</td><td align="center">fiction</td><td align="center">小说</td></tr><tr><td align="center">flagship</td><td align="center">旗舰</td><td align="center">foreshadow</td><td align="center">预示</td></tr><tr><td align="center">hence</td><td align="center">以后</td><td align="center">stimulate</td><td align="center">刺激</td></tr><tr><td align="center">inquiry</td><td align="center">调查；探究</td><td align="center">stimulant</td><td align="center">兴奋剂；激励的</td></tr><tr><td align="center">publicize</td><td align="center">宣传</td><td align="center">simultaneously</td><td align="center">同时地</td></tr><tr><td align="center">chains</td><td align="center">连锁店；链</td><td align="center">stripe</td><td align="center">条子布</td></tr><tr><td align="center">implication</td><td align="center">暗示；卷入；牵连</td><td align="center">granny</td><td align="center">外婆；奶奶</td></tr><tr><td align="center">render</td><td align="center">汇报；使；提供；翻译；演出</td><td align="center">well-heeled</td><td align="center">富有的；穿着考究的</td></tr><tr><td align="center">reap</td><td align="center">收获</td><td align="center">nonverbal</td><td align="center">不用言辞表达的</td></tr><tr><td align="center">to-do list</td><td align="center">任务清单</td><td align="center">be susceptible to</td><td align="center">易受……影响</td></tr><tr><td align="center">to-do</td><td align="center">待做事项</td><td align="center">proportionately</td><td align="center">相称地；成比例地</td></tr><tr><td align="center">improvisation</td><td align="center">即兴作品</td><td align="center">cut across</td><td align="center">与……相抵御；打断</td></tr><tr><td align="center">crumb</td><td align="center">一点；少许</td><td align="center">crack down</td><td align="center">镇压</td></tr><tr><td align="center">be charged with</td><td align="center">承担；被控告</td><td align="center">district</td><td align="center">区域</td></tr><tr><td align="center">elaborate</td><td align="center">详细制定</td><td align="center">redundancy</td><td align="center">过多；剩余</td></tr><tr><td align="center">anthropology</td><td align="center">人类学</td><td align="center">priority</td><td align="center">优先；优先考虑的事</td></tr><tr><td align="center">side with</td><td align="center">支持；站在……一边</td><td align="center">prioritize</td><td align="center">确定优先顺序</td></tr><tr><td align="center">couch</td><td align="center">沙发</td><td align="center">for the sake of</td><td align="center">为了</td></tr><tr><td align="center">lever</td><td align="center">杠杆</td><td align="center">for any sake</td><td align="center">无论如何</td></tr><tr><td align="center">at puberty</td><td align="center">在青春期/开花期</td><td align="center">sake</td><td align="center">缘故；理由</td></tr><tr><td align="center">preserve</td><td align="center">保护；维持</td><td align="center">presuppose</td><td align="center">假定</td></tr><tr><td align="center">prosecutor</td><td align="center">起诉人；检举人</td><td align="center">citizenry</td><td align="center">市民</td></tr><tr><td align="center">prairie</td><td align="center">大草原</td><td align="center">literacy</td><td align="center">识字；有文化</td></tr><tr><td align="center">discern</td><td align="center">区分</td><td align="center">tip</td><td align="center">小费；尖端；倒出</td></tr><tr><td align="center">defendant</td><td align="center">被告</td><td align="center">espresso</td><td align="center">浓咖啡</td></tr><tr><td align="center">soap</td><td align="center">肥皂</td><td align="center">cocktail</td><td align="center">鸡尾酒</td></tr><tr><td align="center">fruition</td><td align="center">完成</td><td align="center">precisely</td><td align="center">精确地；恰好</td></tr><tr><td align="center">excessive</td><td align="center">过度的</td><td align="center">constitutionality</td><td align="center">立宪；法治</td></tr><tr><td align="center">assume</td><td align="center">假定；承担</td><td align="center">desperate</td><td align="center">不顾一切的；拼命的</td></tr><tr><td align="center">cascade</td><td align="center">小瀑布；层叠</td><td align="center">in the wake of</td><td align="center">随着……而来</td></tr><tr><td align="center">take a page from...</td><td align="center">借鉴……</td><td align="center">scrutinize</td><td align="center">仔细检查</td></tr><tr><td align="center">eliminate</td><td align="center">消除</td><td align="center">succession</td><td align="center">连续；继任</td></tr><tr><td align="center">lean</td><td align="center">倾斜；依赖；贫乏的；瘦的</td><td align="center">executive</td><td align="center">主管；行政的</td></tr><tr><td align="center">the bulk of</td><td align="center">大多数</td><td align="center">emerging</td><td align="center">新兴的</td></tr><tr><td align="center">monarchy</td><td align="center">君主制度</td><td align="center">stake out</td><td align="center">监视</td></tr><tr><td align="center">amicable</td><td align="center">友善的</td><td align="center">curriculum</td><td align="center">课程</td></tr><tr><td align="center">encounter</td><td align="center">遭遇</td><td align="center">tackle</td><td align="center">解决；器具</td></tr><tr><td align="center">inborn</td><td align="center">天生的</td><td align="center">rote</td><td align="center">n.死记硬背</td></tr><tr><td align="center">racial</td><td align="center">种族的</td><td align="center">crucial</td><td align="center">重要的</td></tr><tr><td align="center">capitalist</td><td align="center">资本家</td><td align="center">articulate</td><td align="center">清楚地表达</td></tr><tr><td align="center">refine</td><td align="center">精炼；改善；使……文雅</td><td align="center">rest with</td><td align="center">取决于</td></tr><tr><td align="center">dense</td><td align="center">密集的；愚蠢的</td><td align="center">reject</td><td align="center">拒绝；排斥</td></tr><tr><td align="center">stickiness</td><td align="center">黏性</td><td align="center">of no account</td><td align="center">无价值的</td></tr><tr><td align="center">fragment</td><td align="center">碎片；使破裂</td><td align="center">on no account</td><td align="center">决不</td></tr><tr><td align="center">rural</td><td align="center">农村的</td><td align="center">nuts</td><td align="center">发疯的；热爱的</td></tr><tr><td align="center">penny</td><td align="center">便士；美分</td><td align="center">cunning</td><td align="center">狡猾的；可爱的</td></tr><tr><td align="center">uplifting</td><td align="center">令人振奋的</td><td align="center">virtue</td><td align="center">美德；优点</td></tr><tr><td align="center">undergraduate degree</td><td align="center">本科学位</td><td align="center">bill</td><td align="center">账单；法案</td></tr><tr><td align="center">bachelor's degree</td><td align="center">学士学位</td><td align="center">collapse</td><td align="center">倒塌；崩溃</td></tr><tr><td align="center">master's degree</td><td align="center">硕士学位</td><td align="center">corporate</td><td align="center">公司的；法人的</td></tr><tr><td align="center">doctoral degree</td><td align="center">博士学位</td><td align="center">oriented</td><td align="center">导向的</td></tr><tr><td align="center">swine</td><td align="center">猪</td><td align="center">pinch</td><td align="center">捏；掐；匮乏</td></tr><tr><td align="center">vaccine</td><td align="center">疫苗</td><td align="center">in...fashion</td><td align="center">以……方式</td></tr><tr><td align="center">domestic</td><td align="center">国内的；家庭的；驯养的</td><td align="center">sphere</td><td align="center">范围；球体</td></tr><tr><td align="center">at any rate</td><td align="center">无论如何；至少</td><td align="center">undesirable</td><td align="center">不受欢迎的；不想要的</td></tr><tr><td align="center">apprehension</td><td align="center">担心；理解；逮捕</td><td align="center">anecdotal</td><td align="center">轶事</td></tr><tr><td align="center">wit</td><td align="center">智慧</td><td align="center">defer</td><td align="center">推迟</td></tr><tr><td align="center">distinguished</td><td align="center">卓越的；著名的</td><td align="center">distribute</td><td align="center">分配</td></tr><tr><td align="center">converge</td><td align="center">汇集</td><td align="center">deliberate</td><td align="center">故意的</td></tr><tr><td align="center">devaluation</td><td align="center">贬值</td><td align="center">delicate</td><td align="center">微妙的；脆弱的；淡的</td></tr><tr><td align="center">pin down</td><td align="center">法线；确定；阻止</td><td align="center">dedicate</td><td align="center">致力；献身</td></tr><tr><td align="center">wholesale</td><td align="center">批发</td><td align="center">navigate</td><td align="center">航行；导航</td></tr><tr><td align="center">sluggish</td><td align="center">萧条的；迟缓的</td><td align="center">vague</td><td align="center">不明确的</td></tr><tr><td align="center">provocative</td><td align="center">煽动性的；挑衅的</td><td align="center">controversial</td><td align="center">有争议的</td></tr><tr><td align="center">arouse</td><td align="center">引起；唤醒</td><td align="center">assign</td><td align="center">分配</td></tr><tr><td align="center">humble</td><td align="center">谦逊的；卑微的</td><td align="center">resign</td><td align="center">辞职</td></tr><tr><td align="center">fledgling</td><td align="center">幼鸟；无经验的人</td><td align="center">demolition</td><td align="center">拆毁</td></tr><tr><td align="center">fledged</td><td align="center">羽翼已丰的</td><td align="center">claimant</td><td align="center">申请（救助的）人</td></tr><tr><td align="center">polarise【polarize】</td><td align="center">两极分化</td><td align="center">concert</td><td align="center">协力；音乐会</td></tr><tr><td align="center">mere</td><td align="center">纯粹的；仅仅</td><td align="center">upend</td><td align="center">颠倒</td></tr><tr><td align="center">subject to</td><td align="center">使服从；受……制约</td><td align="center">fancy</td><td align="center">豪车；幻想</td></tr><tr><td align="center">be subject to</td><td align="center">受……支配；有……倾向</td><td align="center">blueprint</td><td align="center">蓝图</td></tr><tr><td align="center">obesity</td><td align="center">肥胖</td><td align="center">rally</td><td align="center">聚会</td></tr><tr><td align="center">herd</td><td align="center">兽群；成群</td><td align="center">chromosome</td><td align="center">染色体</td></tr><tr><td align="center">instinct</td><td align="center">本能</td><td align="center">inherit</td><td align="center">继承；遗传</td></tr><tr><td align="center">indicate</td><td align="center">指示；表明</td><td align="center">mitochondria</td><td align="center">线粒体</td></tr><tr><td align="center">arbiter</td><td align="center">仲裁；决定者</td><td align="center">pass down</td><td align="center">传下来</td></tr><tr><td align="center">mega</td><td align="center">许多</td><td align="center">abrupt</td><td align="center">突然的；陡的</td></tr><tr><td align="center">council</td><td align="center">理事会</td><td align="center">snap</td><td align="center">猛咬；断裂声；突然的</td></tr><tr><td align="center">ministerial</td><td align="center">部长的</td><td align="center">lounge</td><td align="center">休息厅；候机厅；酒吧</td></tr><tr><td align="center">barter</td><td align="center">物物交换</td><td align="center">incentive</td><td align="center">激励</td></tr><tr><td align="center">capacity</td><td align="center">能力；容量</td><td align="center">stakeholder</td><td align="center">股东；利益相关者</td></tr><tr><td align="center">integration</td><td align="center">融合</td><td align="center">discernible</td><td align="center">可识别的</td></tr><tr><td align="center">lineage</td><td align="center">血统</td><td align="center">dynamic</td><td align="center">动力的；动态的</td></tr><tr><td align="center">despair</td><td align="center">绝望</td><td align="center">omission</td><td align="center">省略；疏漏</td></tr><tr><td align="center">flat</td><td align="center">平坦的</td><td align="center">violate</td><td align="center">违反；侵略</td></tr><tr><td align="center">across the board</td><td align="center">全面地；一切地</td><td align="center">successive</td><td align="center">连续的</td></tr><tr><td align="center">interpret</td><td align="center">解释</td><td align="center">precede</td><td align="center">在……之前</td></tr><tr><td align="center">candidate</td><td align="center">候选人</td><td align="center">comprehensive</td><td align="center">综合的</td></tr><tr><td align="center">trait</td><td align="center">特点</td><td align="center">bidder</td><td align="center">出价者；投标人</td></tr><tr><td align="center">treasury</td><td align="center">财政部</td><td align="center">by contrast</td><td align="center">相比之下</td></tr><tr><td align="center">investigate</td><td align="center">调查</td><td align="center">inexorable</td><td align="center">不可改变的</td></tr><tr><td align="center">odd</td><td align="center">奇怪的；临时的</td><td align="center">forthright</td><td align="center">直率的</td></tr><tr><td align="center">sweeping</td><td align="center">扫除；垃圾</td><td align="center">uncanny</td><td align="center">奇怪的</td></tr><tr><td align="center">cascade</td><td align="center">瀑布；悬挂</td><td align="center">interpersonal</td><td align="center">人际的</td></tr><tr><td align="center">spectacle</td><td align="center">盛大场面；眼镜</td><td align="center">mouthpiece</td><td align="center">话筒；发言人（比喻）</td></tr><tr><td align="center">unification</td><td align="center">统一；联合</td><td align="center">lotion</td><td align="center">洗液</td></tr><tr><td align="center">dimension</td><td align="center">尺寸；规模</td><td align="center">intrusion</td><td align="center">侵犯</td></tr><tr><td align="center">nasal</td><td align="center">鼻的</td><td align="center">illiquid assets</td><td align="center">非流动性资产</td></tr><tr><td align="center">spray</td><td align="center">喷雾；喷</td><td align="center">subsidy</td><td align="center">补贴</td></tr><tr><td align="center">reverse</td><td align="center">反转</td><td align="center">welfare</td><td align="center">福利</td></tr><tr><td align="center">anonymity</td><td align="center">匿名</td><td align="center">ladder</td><td align="center">梯子</td></tr><tr><td align="center">neat</td><td align="center">整洁的</td><td align="center">quota</td><td align="center">定量；定额</td></tr><tr><td align="center">thorny</td><td align="center">多刺的；棘手的</td><td align="center">amount</td><td align="center">大量；总计</td></tr><tr><td align="center">millennium</td><td align="center">千年</td><td align="center">erupt</td><td align="center">爆发</td></tr><tr><td align="center">notion</td><td align="center">观念</td><td align="center">cosmos</td><td align="center">宇宙</td></tr><tr><td align="center">flaw</td><td align="center">缺点</td><td align="center">bearing</td><td align="center">方位；忍受；关系</td></tr><tr><td align="center">relic</td><td align="center">遗物</td><td align="center">virtually</td><td align="center">几乎；实际上</td></tr><tr><td align="center">renaissance</td><td align="center">复兴</td><td align="center">diffusion</td><td align="center">扩散；传播</td></tr><tr><td align="center">appoint</td><td align="center">任命；指定</td><td align="center">in part</td><td align="center">部分地</td></tr><tr><td align="center">sheer</td><td align="center">完全的；陡峭的</td><td align="center">hint</td><td align="center">暗示</td></tr><tr><td align="center">horizontal</td><td align="center">水平的</td><td align="center">heaven</td><td align="center">天空；天堂</td></tr><tr><td align="center">vertical</td><td align="center">垂直的</td><td align="center">scheme</td><td align="center">计划</td></tr><tr><td align="center">destiny</td><td align="center">命运</td><td align="center">sift</td><td align="center">筛选</td></tr><tr><td align="center">well-being</td><td align="center">安康</td><td align="center">rubble</td><td align="center">碎石</td></tr><tr><td align="center">territory</td><td align="center">领土</td><td align="center">colonialism</td><td align="center">殖民主义</td></tr><tr><td align="center">backfire</td><td align="center">逆火；发生意外</td><td align="center">underprivileged</td><td align="center">贫苦的；弱势的</td></tr><tr><td align="center">somewhat</td><td align="center">稍微；有点</td><td align="center">gross</td><td align="center">总共的；粗野的；显而易见的</td></tr><tr><td align="center">acre</td><td align="center">英亩</td><td align="center">guard</td><td align="center">守卫</td></tr><tr><td align="center">retrieval</td><td align="center">找回；检索</td><td align="center">exemplary</td><td align="center">模范</td></tr><tr><td align="center">timeless</td><td align="center">永恒的</td><td align="center">beacon</td><td align="center">灯塔；照亮</td></tr><tr><td align="center">wipe</td><td align="center">擦；湿巾</td><td align="center">bacon</td><td align="center">熏猪肉</td></tr><tr><td align="center">snack</td><td align="center">小吃；快餐</td><td align="center">departure</td><td align="center">离开</td></tr><tr><td align="center">windfall</td><td align="center">意外之财</td><td align="center">anticipate</td><td align="center">预料；预期</td></tr><tr><td align="center">stereotype</td><td align="center">刻板印象；固定；老套</td><td align="center">nonverbal</td><td align="center">不用言辞表达的</td></tr><tr><td align="center">mindset</td><td align="center">心态；思想倾向</td><td align="center">moisturizer</td><td align="center">润肤膏</td></tr><tr><td align="center">proto-</td><td align="center">原始的</td><td align="center">slip in</td><td align="center">插入</td></tr><tr><td align="center">lottery</td><td align="center">彩票；凭运气的事</td><td align="center">be grounded in</td><td align="center">基于；以……为基础</td></tr><tr><td align="center">widow</td><td align="center">寡妇</td><td align="center">mortal</td><td align="center">终将死亡的；普通人</td></tr><tr><td align="center">lame</td><td align="center">瘸的；拙劣的</td><td align="center">mandatory</td><td align="center">命令的；强制的</td></tr><tr><td align="center">purse</td><td align="center">钱包</td><td align="center">circuit</td><td align="center">电路；巡回；环游</td></tr><tr><td align="center">neurotic</td><td align="center">神经质的</td><td align="center">panel</td><td align="center">讨论小组；仪表板</td></tr><tr><td align="center">poke</td><td align="center">刺；捅；伸出</td><td align="center">steward</td><td align="center">乘务员；管家管事</td></tr><tr><td align="center">brainstorm</td><td align="center">集思广益</td><td align="center">conceal</td><td align="center">隐藏；隐瞒</td></tr><tr><td align="center">steadfast</td><td align="center">坚定的；不变的</td><td align="center">deliberation</td><td align="center">深思熟虑；审慎从容</td></tr><tr><td align="center">furnish</td><td align="center">供应；提供</td><td align="center">intuitive</td><td align="center">直觉的</td></tr><tr><td align="center">regulatory</td><td align="center">调节；监管</td><td align="center">cross-check</td><td align="center">交叉检查</td></tr><tr><td align="center">clique</td><td align="center">派系；小圈子</td><td align="center">gum</td><td align="center">口香糖</td></tr><tr><td align="center">vaunt</td><td align="center">吹牛；自夸</td><td align="center">Congress</td><td align="center">国会</td></tr><tr><td align="center">eightfold</td><td align="center">八倍的</td><td align="center">status quo</td><td align="center">现状</td></tr><tr><td align="center">panorama</td><td align="center">全景</td><td align="center">filter</td><td align="center">消息传开；过滤</td></tr><tr><td align="center">satirist</td><td align="center">讽刺家</td><td align="center">convention</td><td align="center">传统；惯例；大会</td></tr><tr><td align="center">striking</td><td align="center">引人注目的</td><td align="center">fairly</td><td align="center">相当地；公平地</td></tr><tr><td align="center">annals</td><td align="center">编年史</td><td align="center">inferiority</td><td align="center">劣势；下等</td></tr><tr><td align="center">soar</td><td align="center">高飞；猛增</td><td align="center">casino</td><td align="center">娱乐场；赌场</td></tr><tr><td align="center">low-key</td><td align="center">低调的；小规模的</td><td align="center">wager</td><td align="center">赌博</td></tr><tr><td align="center">map out</td><td align="center">计划</td><td align="center">sure-fire</td><td align="center">必定成功的</td></tr><tr><td align="center">ornate</td><td align="center">华丽的；装饰的</td><td align="center">bust</td><td align="center">破产；爆裂；胸部</td></tr><tr><td align="center">sermon</td><td align="center">讲道；说教</td><td align="center">clip</td><td align="center">修剪；夹子</td></tr><tr><td align="center">handful</td><td align="center">几个；少数</td><td align="center">vigorous</td><td align="center">强烈的；精力旺盛的</td></tr><tr><td align="center">a handful of</td><td align="center">少量</td><td align="center">drawn-out</td><td align="center">持久的；冗长的</td></tr><tr><td align="center">nasty</td><td align="center">厌恶的；肮脏的</td><td align="center">ego</td><td align="center">自我；自尊</td></tr><tr><td align="center">turbine</td><td align="center">涡轮机</td><td align="center">overpack</td><td align="center">第二层包装</td></tr><tr><td align="center">bizarre</td><td align="center">奇怪的</td><td align="center">welding</td><td align="center">焊接的</td></tr><tr><td align="center">incentive</td><td align="center">刺激；激励；动机</td><td align="center">distasteful</td><td align="center">讨厌</td></tr><tr><td align="center">epidemic</td><td align="center">流行的；传染的</td><td align="center">toddler</td><td align="center">学步的孩童</td></tr><tr><td align="center">swine</td><td align="center">猪</td><td align="center">blow</td><td align="center">吹；打击</td></tr><tr><td align="center">quasi-</td><td align="center">准的</td><td align="center">intrusive</td><td align="center">打扰的；侵入的</td></tr><tr><td align="center">bombast</td><td align="center">夸大的</td><td align="center">infant</td><td align="center">婴儿</td></tr><tr><td align="center">exempt</td><td align="center">免除</td><td align="center">venture</td><td align="center">企业；冒险</td></tr><tr><td align="center">postwar</td><td align="center">战后的</td><td align="center">coalition</td><td align="center">联合政府；联盟</td></tr><tr><td align="center">pending</td><td align="center">未决定的；在等待……之际；即将发生的</td><td align="center">sustainable development</td><td align="center">可持续发展</td></tr><tr><td align="center">cater</td><td align="center">提供饮食及服务；迎合</td><td align="center">wholly</td><td align="center">完全地</td></tr><tr><td align="center">intimate</td><td align="center">亲密的；精通的；暗示</td><td align="center">profound</td><td align="center">深刻的；巨大的</td></tr><tr><td align="center">go out of style</td><td align="center">过时</td><td align="center">senior moment</td><td align="center">脑痴瞬间</td></tr><tr><td align="center">egalitarian</td><td align="center">主张平等的</td><td align="center">circulation</td><td align="center">流通循环；发行量</td></tr><tr><td align="center">warrant</td><td align="center">搜查令；保证</td><td align="center">epochal</td><td align="center">划时代的</td></tr><tr><td align="center">transcribe</td><td align="center">记录；抄写</td><td align="center">counterpart</td><td align="center">对应的人或事</td></tr><tr><td align="center">obscure</td><td align="center">不出名的；遮掩；使难懂</td><td align="center">spree</td><td align="center">狂欢</td></tr><tr><td align="center">corn</td><td align="center">玉米</td><td align="center">priest</td><td align="center">【宗】神父</td></tr><tr><td align="center">soybean</td><td align="center">大豆</td><td align="center">dawn</td><td align="center">黎明；开端</td></tr><tr><td align="center">wheat</td><td align="center">小麦</td><td align="center">anatomy</td><td align="center">解剖学</td></tr><tr><td align="center">plaster</td><td align="center">石膏；涂</td><td align="center">counter with</td><td align="center">用……反击；反对</td></tr><tr><td align="center">lie-lay-lain-lying-lies</td><td align="center">tear-tore-torn-tearing</td><td align="center">sit for the examination</td><td align="center">参加考试</td></tr><tr><td align="center">moola</td><td align="center">钞票</td><td align="center">coordination</td><td align="center">协调</td></tr><tr><td align="center">bar</td><td align="center">律师；酒吧</td><td align="center">derive from</td><td align="center">源自</td></tr><tr><td align="center">meritocratic</td><td align="center">精英管理制度</td><td align="center">dye</td><td align="center">染料</td></tr><tr><td align="center">stuck in</td><td align="center">陷入</td><td align="center">fluctuation</td><td align="center">波动</td></tr><tr><td align="center">trap</td><td align="center">陷阱；困境</td><td align="center">auction</td><td align="center">拍卖</td></tr><tr><td align="center">abuzz</td><td align="center">议论纷纷的</td><td align="center">inventory</td><td align="center">存货；清单</td></tr><tr><td align="center">overhaul</td><td align="center">全面检查；超过</td><td align="center">agro-</td><td align="center">表农业</td></tr><tr><td align="center">lawsuit</td><td align="center">诉讼</td><td align="center">adorn</td><td align="center">装饰</td></tr><tr><td align="center">sandal</td><td align="center">凉鞋</td><td align="center">stylish</td><td align="center">时尚的</td></tr><tr><td align="center">loan</td><td align="center">贷款</td><td align="center">juror</td><td align="center">陪审员</td></tr><tr><td align="center">prominent</td><td align="center">突出的；显著的</td><td align="center">slot</td><td align="center">狭缝</td></tr><tr><td align="center">be entitled to</td><td align="center">有权……</td><td align="center">slot machine</td><td align="center">自动售货机</td></tr><tr><td align="center">lay down</td><td align="center">制定</td><td align="center">mutual</td><td align="center">相互的</td></tr><tr><td align="center">press</td><td align="center">新闻；报刊；按压</td><td align="center">prose</td><td align="center">散文</td></tr><tr><td align="center">verdict</td><td align="center">裁决；意见</td><td align="center">exact</td><td align="center">精确的</td></tr><tr><td align="center">exaggerate</td><td align="center">夸大</td><td align="center">grounds</td><td align="center">理由；地面；基础</td></tr><tr><td align="center">impetus</td><td align="center">动力；促进</td><td align="center">blunt</td><td align="center">直率的；钝的；使迟钝</td></tr><tr><td align="center">collapse</td><td align="center">倒塌；暴跌</td><td align="center">brochure</td><td align="center">小册子</td></tr><tr><td align="center">revival</td><td align="center">复兴</td><td align="center">booth</td><td align="center">电话亭；货摊</td></tr><tr><td align="center">convention</td><td align="center">公约；习俗</td><td align="center">incite</td><td align="center">激励</td></tr><tr><td align="center">dreadful</td><td align="center">可怕的；极坏的</td><td align="center">loom</td><td align="center">隐约出现；织布机</td></tr><tr><td align="center">think-tank</td><td align="center">智库</td><td align="center">accountable</td><td align="center">负责的</td></tr><tr><td align="center">yield to</td><td align="center">被……替代</td><td align="center">Cyber</td><td align="center">计算机(网络)的</td></tr><tr><td align="center">merchant</td><td align="center">商人</td><td align="center">bedrock</td><td align="center">基础</td></tr><tr><td align="center">mutual</td><td align="center">相互的；共同的</td><td align="center">part with</td><td align="center">放弃</td></tr><tr><td align="center">estrange from</td><td align="center">使疏远（家庭间）</td><td align="center">peculiar</td><td align="center">独特的</td></tr><tr><td align="center">assimilate</td><td align="center">使同化；吸收</td><td align="center">inflate</td><td align="center">增加</td></tr><tr><td align="center">clear-cut</td><td align="center">明确的；明显的</td><td align="center">stain</td><td align="center">污迹；弄脏</td></tr><tr><td align="center">connotation</td><td align="center">隐含意义</td><td align="center">dental</td><td align="center">牙齿的</td></tr><tr><td align="center">referee</td><td align="center">裁判；审阅</td><td align="center">impoverish</td><td align="center">使贫穷</td></tr><tr><td align="center">jaw</td><td align="center">下巴；危险局面</td><td align="center">better off</td><td align="center">更好的；富裕的</td></tr><tr><td align="center">extract</td><td align="center">提取；拔出；摘录</td><td align="center">incredulity</td><td align="center">怀疑</td></tr><tr><td align="center">infancy</td><td align="center">幼年；初期</td><td align="center">superlative</td><td align="center">最高级的</td></tr><tr><td align="center">empty into</td><td align="center">注入</td><td align="center">rap out</td><td align="center">敲出</td></tr><tr><td align="center">populous</td><td align="center">人口多的</td><td align="center">originality</td><td align="center">独创性</td></tr><tr><td align="center">isle</td><td align="center">岛</td><td align="center">private</td><td align="center">列兵；私人的</td></tr><tr><td align="center">stunning</td><td align="center">极好的；令人震惊的</td><td align="center">address</td><td align="center">演讲；向……说话；处理</td></tr><tr><td align="center">renown</td><td align="center">名望</td><td align="center">in sympathy with</td><td align="center">赞成；同情；和……一致</td></tr><tr><td align="center">restoration</td><td align="center">恢复；重建</td><td align="center">stomp</td><td align="center">迈着重重的步伐走</td></tr><tr><td align="center">trendy</td><td align="center">时尚的</td><td align="center">passing</td><td align="center">短暂的；流逝的；顺便</td></tr><tr><td align="center">waterfront</td><td align="center">海滨</td><td align="center">disparaging</td><td align="center">轻蔑的；毁谤的</td></tr><tr><td align="center">cram</td><td align="center">塞满；死记硬背</td><td align="center">resent</td><td align="center">怨恨；厌恶</td></tr><tr><td align="center">dialect</td><td align="center">方言</td><td align="center">scapegoat</td><td align="center">替罪羊</td></tr><tr><td align="center">broad</td><td align="center">宽的；概括的</td><td align="center">off-the-cuff</td><td align="center">即兴的；未准备的</td></tr><tr><td align="center">conquer</td><td align="center">攻克；征服</td><td align="center">on-the-cuff</td><td align="center">免费的</td></tr><tr><td align="center">tongue</td><td align="center">语言；舌头</td><td align="center">twist</td><td align="center">扭曲</td></tr><tr><td align="center">fair</td><td align="center">美丽的；公平的；集市</td><td align="center">ingenuity</td><td align="center">独创力；聪明才智</td></tr><tr><td align="center">throne</td><td align="center">王权</td><td align="center">plain</td><td align="center">显然；完全地</td></tr><tr><td align="center">strange to say</td><td align="center">说来奇怪</td><td align="center">confer……on</td><td align="center">授予</td></tr><tr><td align="center">brood</td><td align="center">一窝；沉思</td><td align="center">dawn</td><td align="center">黎明；开端</td></tr><tr><td align="center">trident</td><td align="center">三叉戟</td><td align="center">populate</td><td align="center">居住于；占据</td></tr><tr><td align="center">hill</td><td align="center">小丘</td><td align="center">rhythm</td><td align="center">节奏</td></tr><tr><td align="center">pastor</td><td align="center">牧师</td><td align="center">assembly</td><td align="center">装配；集合</td></tr><tr><td align="center">pessimistic</td><td align="center">悲观的</td><td align="center">gizmo</td><td align="center">小装置；小发明</td></tr><tr><td align="center">infringement</td><td align="center">侵犯；违反</td><td align="center">physician</td><td align="center">医生</td></tr><tr><td align="center">hyper-</td><td align="center">过于；高于</td><td align="center">pose</td><td align="center">提出；造成</td></tr><tr><td align="center">merger</td><td align="center">合并</td><td align="center">a spell of</td><td align="center">一段时间</td></tr><tr><td align="center">acquisition</td><td align="center">收购</td><td align="center">it appeared that</td><td align="center">似乎；好像</td></tr><tr><td align="center">might</td><td align="center">力量</td><td align="center">perception</td><td align="center">感觉；知觉</td></tr><tr><td align="center">scanty</td><td align="center">贫乏的；少的</td><td align="center">winding</td><td align="center">弯曲的；线圈</td></tr><tr><td align="center">detrimental</td><td align="center">有害的</td><td align="center">fraction</td><td align="center">部分；少量</td></tr><tr><td align="center">multinational</td><td align="center">跨国的</td><td align="center">utility</td><td align="center">公用；效用</td></tr><tr><td align="center">underlie</td><td align="center">构成……基础；……起因</td><td align="center">intervention</td><td align="center">插入；干涉</td></tr><tr><td align="center">procession</td><td align="center">队伍</td><td align="center">crude</td><td align="center">天然的；自然的</td></tr><tr><td align="center">yard</td><td align="center">码；院子</td><td align="center">barrel</td><td align="center">桶</td></tr><tr><td align="center">pincer</td><td align="center">钳子</td><td align="center">triple</td><td align="center">使增至三倍</td></tr><tr><td align="center">humane</td><td align="center">仁慈的</td><td align="center">quadruple</td><td align="center">使变成四倍</td></tr><tr><td align="center">sack</td><td align="center">口袋</td><td align="center">gloom</td><td align="center">忧郁；昏暗</td></tr><tr><td align="center">tiller</td><td align="center">农夫</td><td align="center">doom</td><td align="center">厄运；命运</td></tr><tr><td align="center">spatter</td><td align="center">溅；洒</td><td align="center">suspend</td><td align="center">暂停；延缓；悬挂</td></tr><tr><td align="center">implication</td><td align="center">暗示；卷入；含义</td><td align="center">share</td><td align="center">份额；分享</td></tr><tr><td align="center">in effect</td><td align="center">实际上</td><td align="center">against the background of</td><td align="center">以……为背景</td></tr><tr><td align="center">contend</td><td align="center">声称；处理；竞争</td><td align="center">account for</td><td align="center">占比；做出解释</td></tr><tr><td align="center">agony</td><td align="center">极大的痛苦</td><td align="center">rustic</td><td align="center">乡村的</td></tr><tr><td align="center">hospice</td><td align="center">临终安养院</td><td align="center">mire</td><td align="center">泥沼</td></tr><tr><td align="center">competent</td><td align="center">有能力的</td><td align="center">snuff</td><td align="center">嗅；闻</td></tr><tr><td align="center">hence</td><td align="center">因此；今后</td><td align="center">roost</td><td align="center">栖息</td></tr><tr><td align="center">lest</td><td align="center">以免；万一</td><td align="center">poultry</td><td align="center">家禽</td></tr><tr><td align="center">faculty</td><td align="center">院系；职工；能力</td><td align="center">muffled</td><td align="center">听不清的；包住的</td></tr><tr><td align="center">weigh against</td><td align="center">权衡；与之相对</td><td align="center">entertain</td><td align="center">抱有；考虑</td></tr><tr><td align="center">irrational</td><td align="center">不合理的</td><td align="center">traitorous</td><td align="center">背叛的</td></tr><tr><td align="center">pastime</td><td align="center">娱乐消遣</td><td align="center">daring</td><td align="center">勇敢的</td></tr><tr><td align="center">espionage</td><td align="center">间谍活动</td><td align="center">burglary</td><td align="center">抢劫</td></tr><tr><td align="center">spook</td><td align="center">幽灵；吓；间谍</td><td align="center">upholsterer</td><td align="center">家具商</td></tr><tr><td align="center">vacuum</td><td align="center">真空；用真空吸尘器打扫</td><td align="center">potentate</td><td align="center">统治者</td></tr><tr><td align="center">lean</td><td align="center">精干的；倾斜；瘦/贫乏的</td><td align="center">illustrious</td><td align="center">杰出的；著名的</td></tr><tr><td align="center">perplex</td><td align="center">使困惑</td><td align="center">despoil</td><td align="center">掠夺</td></tr><tr><td align="center">allegation</td><td align="center">指控</td><td align="center">ammunition</td><td align="center">武器</td></tr><tr><td align="center">statesman</td><td align="center">政治家</td><td align="center">retinue</td><td align="center">随员</td></tr><tr><td align="center">well-meaning</td><td align="center">善意的</td><td align="center">gaol</td><td align="center">监狱</td></tr><tr><td align="center">ember</td><td align="center">余火；余烬</td><td align="center">in the manner of</td><td align="center">凭借……方式</td></tr><tr><td align="center">practitioner</td><td align="center">从业者【医师】</td><td align="center">preach</td><td align="center">宣扬；说教</td></tr><tr><td align="center">apprehensive</td><td align="center">忧虑的</td><td align="center">term</td><td align="center">把……叫做</td></tr><tr><td align="center">indignant</td><td align="center">愤怒的</td><td align="center">strain</td><td align="center">压力；担忧</td></tr><tr><td align="center">on the grounds of</td><td align="center">由于</td><td align="center">juggle</td><td align="center">玩杂耍；欺骗</td></tr><tr><td align="center">keep up with</td><td align="center">跟上；保持联系</td><td align="center">tightwad</td><td align="center">吝啬鬼</td></tr><tr><td align="center">cataract</td><td align="center">白内障；大瀑布</td><td align="center">cling-film</td><td align="center">保鲜膜</td></tr><tr><td align="center">perish</td><td align="center">死亡；毁灭</td><td align="center">thrift</td><td align="center">节约</td></tr><tr><td align="center">effect</td><td align="center">动词表产生，达到；作名词表影响</td><td align="center">not so much A as B</td><td align="center">与其说是A不如说是B</td></tr><tr><td align="center">work up</td><td align="center">逐步建立；激起</td><td align="center">comply</td><td align="center">顺从；答应</td></tr><tr><td align="center">reverse</td><td align="center">逆转；相反</td><td align="center">confide</td><td align="center">吐露</td></tr><tr><td align="center">infirm</td><td align="center">体弱的</td><td align="center">backbone</td><td align="center">脊柱；基础</td></tr><tr><td align="center">routinely</td><td align="center">常规地</td><td align="center">alien</td><td align="center">外国的；陌生的</td></tr><tr><td align="center">surgeon general</td><td align="center">卫生局局长</td><td align="center">narrative</td><td align="center">叙述的；记叙文</td></tr><tr><td align="center">humble</td><td align="center">谦逊的；简陋的</td><td align="center">upscale</td><td align="center">高端的</td></tr><tr><td align="center">dramatic</td><td align="center">急剧的；引人注目的；戏剧的</td><td align="center">clash</td><td align="center">冲突；分歧</td></tr><tr><td align="center">consent</td><td align="center">同意</td><td align="center">bold</td><td align="center">勇敢大胆的</td></tr><tr><td align="center">in a sense</td><td align="center">在某种意义上</td><td align="center">a host of</td><td align="center">许多</td></tr><tr><td align="center">dozing off</td><td align="center">打瞌睡</td><td align="center">stumble across/on/upon</td><td align="center">偶然发现</td></tr><tr><td align="center">vice</td><td align="center">副的；缺点；罪行</td><td align="center">condemn</td><td align="center">谴责；宣判</td></tr><tr><td align="center">abreast</td><td align="center">并排</td><td align="center">insidious</td><td align="center">潜伏的</td></tr><tr><td align="center">respective</td><td align="center">分别的；各自的</td><td align="center">rot</td><td align="center">腐烂；腐败</td></tr><tr><td align="center">humiliate</td><td align="center">羞辱</td><td align="center">plough through</td><td align="center">艰难进行</td></tr><tr><td align="center">subtle</td><td align="center">微妙的；柔和的；狡猾的</td><td align="center">let alone</td><td align="center">更不用说</td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table>]]></content>
        <author>
            <name>Qiuwen</name>
            <uri>https://github.com/yuqiuwen</uri>
        </author>
    </entry>
</feed>